(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["www/[username]/[slug]-authdesktop",33,35,61,62,90,108,130,134,"www/discover/styles/[category]-authdesktop"],{"+c4W":function(e,t,n){var i=n("711d"),o=n("4/ic"),r=n("9ggG"),a=n("9Nap");e.exports=function(e){return r(e)?i(a(e)):o(e)}},"+ip3":function(e,t,n){n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return u}));var i=n("yweb"),o=n("xkL+"),r=n("yjg8"),a=n("U4JR"),s=n("Sp3T"),c=n("n6mq"),l=n("nKUr");const d="AddPinRep";function u({ctaText:e,handleClick:t,height:n,iconSize:d,textSize:u}){const h=Object(i.c)(),b=Object(o.b)(),p=Object(s.a)({shouldStopEventPropagation:!1})(()=>{t&&t(),b.isPartner&&Object(a.b)(101,{component:0,element:10643})});return Object(l.jsx)(c.f,{children:Object(l.jsx)(c.bb,{role:"link",onTap:p,href:"/pin-builder/",children:Object(l.jsxs)(c.j,{children:[Object(l.jsx)(c.f,{alignItems:"center",color:"lightGray",display:"flex",fit:!0,height:n||r.f,justifyContent:"center",rounding:2,width:n||void 0,children:Object(l.jsx)(c.f,{color:"white",height:d||40,rounding:"circle",width:d||40,children:Object(l.jsx)(c.w,{accessibilityLabel:"",color:"red",icon:"add-circle",inline:!0,size:d||40})})}),Object(l.jsx)(c.f,{padding:2,children:Object(l.jsx)(c.cb,{color:"gray",size:u||"lg",weight:"bold",children:e||h._("Create Pin","label to open create pin modal","label to open create pin modal")})})]})})})}},"+jF9":function(e,t,n){var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n("pYMm"),r=n("fOPN"),a=n("LTlA"),s={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};t.default=function(e,t){void 0===e&&(e=s);var n=t.payload;switch(t.type){case o.BEGIN_DRAG:return i({},e,{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case o.PUBLISH_DRAG_SOURCE:return i({},e,{isSourcePublic:!0});case o.HOVER:return i({},e,{targetIds:n.targetIds});case r.REMOVE_TARGET:return-1===e.targetIds.indexOf(n.targetId)?e:i({},e,{targetIds:a.without(e.targetIds,n.targetId)});case o.DROP:return i({},e,{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case o.END_DRAG:return i({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}},"+k3R":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i]}},"+qOO":function(e,t,n){n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}));var i=n("4dcN"),o=n("eOdZ");function r(e){return o.d.create("BoardFollowResource",{board_id:e})}function a(e,t){return{type:"BOARD_FOLLOW",payload:{boardId:e,value:t}}}function s(e){const t="board-follow";return n=>{r(e).callCreate().then(()=>{i.a.trackEvent(t,"success")}).catch(()=>{i.a.trackEvent(t,"error"),n(a(e,!1))}),n(a(e,!0))}}function c(e){const t="board-unfollow";return n=>{r(e).callDelete().then(()=>{i.a.trackEvent(t,"success")}).catch(()=>{i.a.trackEvent(t,"error"),n(a(e,!0))}),n(a(e,!1))}}},"+wdc":function(e,t,n){var i,o,r,a;if("object"==typeof performance&&"function"==typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var c=Date,l=c.now();t.unstable_now=function(){return c.now()-l}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var d=null,u=null,h=function(){if(null!==d)try{var e=t.unstable_now();d(!0,e),d=null}catch(n){throw setTimeout(h,0),n}};i=function(e){null!==d?setTimeout(i,0,e):(d=e,setTimeout(h,0))},o=function(e,t){u=setTimeout(e,t)},r=function(){clearTimeout(u)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var b=window.setTimeout,p=window.clearTimeout;if("undefined"!=typeof console){var f=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof f&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var g=!1,m=null,j=-1,v=5,O=0;t.unstable_shouldYield=function(){return t.unstable_now()>=O},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<e?Math.floor(1e3/e):5};var y=new MessageChannel,x=y.port2;y.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();O=e+v;try{m(!0,e)?x.postMessage(null):(g=!1,m=null)}catch(n){throw x.postMessage(null),n}}else g=!1},i=function(e){m=e,g||(g=!0,x.postMessage(null))},o=function(e,n){j=b((function(){e(t.unstable_now())}),n)},r=function(){p(j),j=-1}}function _(e,t){var n=e.length;e.push(t);e:for(;;){var i=n-1>>>1,o=e[i];if(!(void 0!==o&&0<S(o,t)))break e;e[i]=t,e[n]=o,n=i}}function w(e){return void 0===(e=e[0])?null:e}function C(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,o=e.length;i<o;){var r=2*(i+1)-1,a=e[r],s=r+1,c=e[s];if(void 0!==a&&0>S(a,n))void 0!==c&&0>S(c,a)?(e[i]=c,e[s]=n,i=s):(e[i]=a,e[r]=n,i=r);else{if(!(void 0!==c&&0>S(c,n)))break e;e[i]=c,e[s]=n,i=s}}}return t}return null}function S(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var I=[],E=[],T=1,P=null,D=3,B=!1,M=!1,k=!1;function R(e){for(var t=w(E);null!==t;){if(null===t.callback)C(E);else{if(!(t.startTime<=e))break;C(E),t.sortIndex=t.expirationTime,_(I,t)}t=w(E)}}function A(e){if(k=!1,R(e),!M)if(null!==w(I))M=!0,i(L);else{var t=w(E);null!==t&&o(A,t.startTime-e)}}function L(e,n){M=!1,k&&(k=!1,r()),B=!0;var i=D;try{for(R(n),P=w(I);null!==P&&(!(P.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=P.callback;if("function"==typeof a){P.callback=null,D=P.priorityLevel;var s=a(P.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?P.callback=s:P===w(I)&&C(I),R(n)}else C(I);P=w(I)}if(null!==P)var c=!0;else{var l=w(E);null!==l&&o(A,l.startTime-n),c=!1}return c}finally{P=null,D=i,B=!1}}var N=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){M||B||(M=!0,i(L))},t.unstable_getCurrentPriorityLevel=function(){return D},t.unstable_getFirstCallbackNode=function(){return w(I)},t.unstable_next=function(e){switch(D){case 1:case 2:case 3:var t=3;break;default:t=D}var n=D;D=t;try{return e()}finally{D=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=N,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=D;D=e;try{return t()}finally{D=n}},t.unstable_scheduleCallback=function(e,n,a){var s=t.unstable_now();switch("object"==typeof a&&null!==a?a="number"==typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var c=-1;break;case 2:c=250;break;case 5:c=1073741823;break;case 4:c=1e4;break;default:c=5e3}return e={id:T++,callback:n,priorityLevel:e,startTime:a,expirationTime:c=a+c,sortIndex:-1},a>s?(e.sortIndex=a,_(E,e),null===w(I)&&e===w(E)&&(k?r():k=!0,o(A,a-s))):(e.sortIndex=c,_(I,e),M||B||(M=!0,i(L))),e},t.unstable_wrapCallback=function(e){var t=D;return function(){var n=D;D=t;try{return e.apply(this,arguments)}finally{D=n}}}},"+wrf":function(e,t,n){var i=n("q1tI"),o=n("/MKj"),r=n("TgLd"),a=n("yweb"),s=n("vvax"),c=n("pLLR"),l=n("n6mq"),d=n("nKUr");function u({boardName:e,collaboratorName:t,onCancelTransferRequest:n,onDismiss:i}){const o=Object(a.c)(),u=Object(c.d)();return Object(d.jsx)(r.b,{accessibilityModalLabel:o._("Board ownership transfer modal","boardCollabOwnershipTransferModal.accessibilityModalLabel","Accessibility label on board ownership transfer modal"),heading:Object(d.jsxs)(l.f,{paddingY:8,position:"relative",children:[Object(d.jsx)(l.v,{align:"center",size:"md",children:o._("Collaborators","boardCollabOwnershipTransferModal.heading","Heading for board ownership transfer modal")}),Object(d.jsx)(l.f,{position:"absolute",top:!0,left:u.isRTL,right:!u.isRTL,paddingY:8,paddingX:6,children:Object(d.jsx)(l.x,{accessibilityLabel:o._("Close","boardCollabOwnershipTransferModal.iconAccessibilityLabel","Accessibility label on cancel icon button"),icon:"cancel",iconColor:"darkGray",onClick:i})})]}),footer:Object(d.jsxs)(l.u,{alignItems:"center",flex:"grow",justifyContent:"between",children:[Object(d.jsx)(l.bb,{fullWidth:!1,onTap:n,children:Object(d.jsx)(l.cb,{weight:"bold",children:o._("Cancel request","boardCollabOwnershipTransferModal.cancelRequest","Option to cancel board ownership transfer request")})}),Object(d.jsx)(l.g,{color:"red",onClick:i,size:"lg",text:o._("Got it","boardCollabOwnershipTransferModal.confirmationButton","Button confirming board ownership transfer action")})]}),onDismiss:i,children:Object(d.jsx)(l.f,{paddingX:8,children:Object(d.jsx)(l.cb,{align:"center",children:Object(s.b)(o._("We sent {{ collaboratorName }} your request for them to own {{ boardName }}. When they accept, you can still add Pins—but you won’t be able to manage collaborators, change the name, cover photo, or description of this board.","boardCollabOwnershipTransferModal.descriptionText","Explanation of transfer request and potential permissions changes"),{collaboratorName:t,boardName:Object(d.jsx)(l.cb,{inline:!0,weight:"bold",children:e})})})})})}var h=n("gMUm"),b=n("ZE2w");function p({boardId:e,collaboratorId:t,collaboratorName:n,isAcceptedCollaborator:r,onDelete:s}){const c=Object(o.useDispatch)(),p=Object(a.c)(),f=Object(i.useRef)(null),[g,m]=Object(i.useState)(!1),[j,v]=Object(i.useState)(!1),{boardName:O,pendingOwnershipTransfer:y}=Object(h.b)(),x=()=>{c(Object(b.b)(e,t)),m(!1)},_=function({i18n:e,isAcceptedCollaborator:t,onCancelTransferRequest:n,onDelete:i,onRequestTransfer:o,showCancelRequestOption:r,showRequestTransferOption:a}){const s=[{onSelect:i,option:{value:"Remove from board",label:e._("Remove from board","getCollaboratorDropdownItems.removeText","Text for option to remove collaborator from board")}}];return t&&(r&&s.push({onSelect:n,option:{value:"Cancel request",label:e._("Cancel request","getCollaboratorDropdownItems.cancelText","Text for option to cancel ownership transfer request")}}),a&&s.push({onSelect:o,option:{value:"Request as board owner",label:e._("Request as board owner","getCollaboratorDropdownItems.requestText","Text for option to request ownership transfer")}})),s}({i18n:p,isAcceptedCollaborator:r,onCancelTransferRequest:x,onDelete:s,onRequestTransfer:()=>{(async()=>{m(!1),await c(Object(b.f)(e,t)),v(!0)})()},showCancelRequestOption:y===t,showRequestTransferOption:!y});return Object(d.jsxs)(i.Fragment,{children:[Object(d.jsxs)(l.u,{justifyContent:"center",children:[Object(d.jsx)(l.x,{accessibilityLabel:p._("Collaborator options","boardCollabInviteOverflowButton.accessibilityLabel","Accessibility label for overflow icon button"),bgColor:"transparent",icon:"ellipsis",iconColor:"darkGray",onClick:()=>m(!g),ref:f,selected:g}),g&&Object(d.jsx)(l.r,{anchor:f.current,id:"board-collaborator-dropdown",idealDirection:"down",onDismiss:()=>m(!1),zIndex:new l.t(1e3),children:Object(d.jsx)(l.r.Section,{label:p._("Options","boardCollabInviteOverflowButton.dropdownSection","Options section in dropdown menu"),children:_.map(e=>Object(d.jsx)(l.r.Item,{onSelect:e.onSelect,option:e.option},e.option.value))})})]}),j&&Object(d.jsx)(u,{boardName:O,collaboratorName:n,onCancelTransferRequest:()=>{x(),v(!1)},onDismiss:()=>{v(!1)}})]})}var f=n("ViqK"),g=n("yaUg"),m=n("xkL+"),j=n("QAzJ");function v({actionsDisabled:e,invite:t,isDim:n,onApprove:i,onDelete:o}){const r=Object(a.c)(),s=Object(m.b)(),{access:c,board:u,status:b,invited_by_user:v,invited_user:O}=t,{pendingOwnershipTransfer:y,viewerIsOwner:x}=Object(h.b)(),_=s.isAuth&&O.id===s.id,w=s.isAuth&&v.id===s.id,C=O.id===v.id,S="accepted"===b,I=c.includes("approve"),E=c.includes("delete"),T=r._("Approve","[button] approve another pinner's request to join the board as a collaborator","[button] approve another pinner's request to join the board as a collaborator"),P=((e,t,n)=>e?r._("Leave","[button] for a collaborator to leave a group board","[button] for a collaborator to leave a group board"):t&&!n?r._("Decline","[button] decline another pinner's request to join board as a collaborator","[button] decline another pinner's request to join board as a collaborator"):r._("Remove","[button] remove a collaborator from the board]","[button] remove a collaborator from the board]"))(_,C,S),D=E&&!I,B=E&&I,M=`/${O.username}/`,k=Object(j.a)("web_board_ownership_transfer"),R=x&&k().anyEnabled,A=R?Object(d.jsx)(p,{boardId:u.id,collaboratorId:O.id,collaboratorName:O.full_name,onDelete:o||(()=>{}),isAcceptedCollaborator:S}):Object(d.jsx)(l.g,{disabled:e,onClick:o,text:P,size:"lg"}),L=y===O.id,N=R&&(void 0!==n?n:!S);return Object(d.jsxs)(l.f,{children:[Object(d.jsx)(f.a,{imageUrl:O.image_medium_url||"",name:O.full_name,title:O.full_name,subtitle:((e,n,i,o,a)=>{const s=t.invited_by_user.full_name;let c;return c=n?r._("Invitation pending","boardCollabInviteCell.pendingInvitationText","Subtext for collaborator with pending invitation"):i?r._("That's you","subtext for current user who requested to join this board","subtext for current user who requested to join this board"):o?r._("Invited by you","subtext for a pending collaborator who was invited by the current viewer","subtext for a pending collaborator who was invited by the current viewer"):a?r._("Requested to join","The subtext that identifies a pending collaborator has personally requested to join the board","The subtext that identifies a pending collaborator has personally requested to join the board"):Object(g.a)(r._("Invited by {{ user_full_name }}","The subtext that identifies a pending collaborator who was invited to collaborate on the board","The subtext that identifies a pending collaborator who was invited to collaborate on the board"),{user_full_name:s}),e&&(c=c.concat(r._(" · Ownership pending","boardCollabInviteCell.pendingOwnershipText","Additional subtext for collaborator who has a pending board ownership transfer invitation"))),c})(L,N,_,w,C),linkURL:M,isDim:!R&&(void 0!==n?n:!S),accessory:D&&A}),B&&Object(d.jsxs)(l.f,{paddingX:3,marginStart:12,display:"flex",justifyContent:"end",children:[Object(d.jsx)(l.f,{paddingX:1,flex:"grow",width:"50%",children:Object(d.jsx)(l.g,{fullWidth:!0,disabled:e,onClick:o,text:P,size:"lg"})}),Object(d.jsx)(l.f,{paddingX:1,flex:"grow",width:"50%",children:Object(d.jsx)(l.g,{fullWidth:!0,color:"red",disabled:e,onClick:i,text:T,size:"lg"})})]})]})}var O=n("4dcN"),y=n("M1Uz"),x=n("L2iP");function _(e){const t=Object(a.c)(),{onCancel:n,onRemove:i,useGestaltModal:o}=e,s=t._("Are you sure you want to leave this group board and remove it from your profile?"),c=o?l.H:r.b;return Object(d.jsx)(c,{accessibilityModalLabel:t._("Leave board?"),heading:t._("Leave board?"),onDismiss:n,size:"sm",footer:Object(d.jsxs)(l.u,{alignItems:"stretch",justifyContent:"end",children:[Object(d.jsx)(l.f,{paddingX:1,children:Object(d.jsx)(l.g,{onClick:n,text:t._("Cancel")})}),Object(d.jsx)(l.f,{paddingX:1,children:Object(d.jsx)(l.g,{color:"red",onClick:i,text:t._("Leave")})})]}),children:Object(d.jsx)(l.f,{padding:5,children:Object(d.jsx)(l.cb,{children:s})})})}class w extends i.Component{constructor(...e){var t,n,i;super(...e),i={shouldBlock:!1},(n="state")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}getBlockDescription(e,t){return"declineRequest"===e?t?Object(s.b)(this.props.i18n._("This will decline {{ invited_user_first_name }} from joining this board and block them from subsequent collaboration requests.","decline another pinner's request to join board as a collaborator and block them","decline another pinner's request to join board as a collaborator and block them"),{invited_user_first_name:t}):this.props.i18n._("This will decline this person from joining this board and block them from subsequent collaboration requests.","message that explains consequences of declining a request to join board as a collaborator","message that explains consequences of declining a request to join board as a collaborator"):t?Object(s.b)(this.props.i18n._("This will remove {{ invited_user_first_name }}, people {{ invited_user_first_name }} invited, and all their Pins."),{invited_user_first_name:t}):this.props.i18n._("This will remove this person, people they invited, and all their Pins.","message that explains consequences of removing a collaborator","message that explains consequences of removing a collaborator")}render(){const{removeType:e,firstName:t,fullName:n,onCancel:o,onRemove:a,onRemoveAndBlock:c,useGestaltModal:u}=this.props,h="declineRequest"===e?Object(s.b)(this.props.i18n._("Decline {{ invited_user_name }}?","[button] to decline a pinner's request to join a board as a collaborator","[button] to decline a pinner's request to join a board as a collaborator"),{invited_user_name:n}).join(""):Object(s.b)(this.props.i18n._("Remove {{ invited_user_name }}?","[button] to remove a pinner as a collaborator from a group board","[button] to remove a pinner as a collaborator from a group board"),{invited_user_name:n}).join(""),b=this.props.i18n._("This will keep them from saving Pins to this board. You can also:","decline another pinner's request to join board as collaborator. Ending fragment preceeds checkbox for blocking the user.","decline another pinner's request to join board as collaborator. Ending fragment preceeds checkbox for blocking the user."),p=this.getBlockDescription(e,t),f=this.state.shouldBlock?this.props.i18n._("Block","block another pinner after denying their request to collaborate on a board","block another pinner after denying their request to collaborate on a board"):this.props.i18n._("Remove","decline another pinner's request to collaborate on a board","decline another pinner's request to collaborate on a board"),g=Object(d.jsxs)(i.Fragment,{children:[Object(d.jsx)(l.f,{padding:5,children:Object(d.jsx)(l.cb,{children:b})}),Object(d.jsx)(l.q,{}),Object(d.jsxs)(l.f,{padding:5,display:"flex",children:[Object(d.jsx)(l.f,{paddingX:1,children:Object(d.jsx)(l.k,{checked:this.state.shouldBlock,id:"banUser",name:"ban",onChange:()=>this.setState({shouldBlock:!this.state.shouldBlock})})}),Object(d.jsx)(l.f,{paddingX:1,children:Object(d.jsxs)(l.z,{htmlFor:"banUser",children:[Object(d.jsx)(l.cb,{weight:"bold",children:Object(s.b)(this.props.i18n._("Block {{ name }}"),{name:t||""})}),Object(d.jsx)(l.cb,{size:"md",children:p})]})})]})]}),m=u?l.H:r.b;return Object(d.jsx)(m,{accessibilityModalLabel:h,heading:h,onDismiss:o,size:"sm",footer:Object(d.jsxs)(l.f,{display:"flex",justifyContent:"end",marginStart:-1,marginEnd:-1,children:[Object(d.jsx)(l.f,{paddingX:1,children:Object(d.jsx)(l.g,{onClick:o,text:this.props.i18n._("Cancel")})}),Object(d.jsx)(l.f,{paddingX:1,children:Object(d.jsx)(l.g,{color:"red",onClick:this.state.shouldBlock?c:a,text:f})})]}),children:g})}}function C(e){const t=Object(a.c)();return Object(d.jsx)(w,{...e,i18n:t})}var S=n("nGHF");function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class E extends i.Component{constructor(...e){super(...e),I(this,"state",{currentModal:null,loading:!1}),I(this,"showRemoveSuccessToast",()=>{const{toastManagerContext:e}=this.props,t=this.props.i18n._("Collaborator removed","BoardCollabInviteCellContainer.toast","Toast for removing a collaborator from a board");e.showOneToast(({onHide:e})=>Object(d.jsx)(y.a,{duration:3e3,onHide:e,text:t}))}),I(this,"onDelete",()=>{const{onModalOpen:e}=this.props;e&&e(),this.setState({currentModal:"delete"})}),I(this,"onApprove",()=>{const{approveBoardCollabInvite:e,onInviteDidUpdate:t}=this.props;this.setState({loading:!0}),e().then(t).finally(()=>{this.setState({loading:!1})})}),I(this,"deleteBoardInvite",(e=!1)=>{const{deleteBoardCollabInvite:t,onBoardLeave:n,onInviteDidUpdate:i}=this.props,o=this.isViewerInvitedUser,r=o?"collaborator_decline_invite":"collaborator_delete_invite";O.a.trackEvent(r,"click"),this.setState({currentModal:null,loading:!0}),t(o,e).then(()=>{O.a.trackEvent(r,"success"),i(),this.showRemoveSuccessToast(),o&&n()}).catch(()=>{O.a.trackEvent(r,"error")}).finally(()=>{this.setState({loading:!1})})}),I(this,"handleDeleteBoardInvite",()=>{this.deleteBoardInvite(!1)}),I(this,"handleDeleteBoardInviteAndBan",()=>{this.deleteBoardInvite(!0)}),I(this,"handleHideModal",()=>{this.setState({currentModal:null})})}get isViewerInvitedUser(){const{viewer:e,invite:{invited_user:t}}=this.props;return e.isAuth&&e.id===t.id}get isRequestToJoin(){const{invite:{invited_user:e,invited_by_user:t}}=this.props;return e.id===t.id}renderCurrentModal(){const{invite:{invited_user:e},useGestaltModal:t=!1}=this.props,{currentModal:n}=this.state;return"delete"===n?this.isViewerInvitedUser?Object(d.jsx)(l.f,{position:"absolute",dangerouslySetInlineStyle:{__style:{zIndex:x.e+1}},children:Object(d.jsx)(_,{onCancel:this.handleHideModal,onRemove:this.handleDeleteBoardInvite,useGestaltModal:t})}):Object(d.jsx)(l.f,{position:"absolute",dangerouslySetInlineStyle:{__style:{zIndex:x.e+1}},children:Object(d.jsx)(C,{removeType:this.isRequestToJoin?"declineRequest":"removeCollaborator",firstName:e.first_name,fullName:e.full_name,onCancel:this.handleHideModal,onRemove:this.handleDeleteBoardInvite,onRemoveAndBlock:this.handleDeleteBoardInviteAndBan,useGestaltModal:t})}):null}render(){const{invite:e,isDim:t}=this.props,{loading:n}=this.state;return Object(d.jsxs)(l.f,{children:[Object(d.jsx)(v,{invite:e,isDim:t&&"accepted"!==e.status,onDelete:this.onDelete,onApprove:this.onApprove,actionsDisabled:n}),this.renderCurrentModal()]})}}t.a=Object(o.connect)(()=>({}),(e,t)=>{const{invite:n,invite:{invited_user:{id:i},board:{id:o}}}=t;return{approveBoardCollabInvite:()=>e(Object(b.a)(o,i)),deleteBoardCollabInvite:(t,i)=>e(Object(b.c)(n,t,i))}})((function(e){const t=Object(a.c)();return Object(d.jsx)(E,{...e,toastManagerContext:Object(S.b)(),viewer:Object(m.b)(),i18n:t})}))},"/9aa":function(e,t,n){var i=n("NykK"),o=n("ExA7");e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==i(e)}},"/Ecc":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("bVT4");t.isFirefox=i.memoize((function(){return/firefox/i.test(navigator.userAgent)})),t.isSafari=i.memoize((function(){return Boolean(window.safari)}))},"/MAO":function(e,t,n){var i=n("q1tI"),o=n("/MKj"),r=n("FDmi"),a=n("TSYQ"),s=n.n(a),c=n("pSwN"),l=n("n6mq"),d=n("ZVOf"),u=n("U4JR"),h=n("nKUr");t.a=Object(o.connect)(null,(function(e){return{follow:t=>e(Object(d.a)(t)),unfollow:t=>e(Object(d.c)(t))}}))((function({className:e,follow:t,isSelf:n,logData:o,showName:a=!1,showFollow:d=!1,size:b="small",subtitle:p="",title:f,unfollow:g,user:m={}}){const[j,v]=Object(i.useState)(m.explicitly_followed_by_me||!1),{full_name:O,username:y}=m,x=m.image_key||m.image_medium_url||m.image_small_url;return Object(h.jsx)("div",{className:s()("Module","User","hasText","thumb",b,e),children:Object(h.jsxs)(l.f,{alignItems:"center",direction:"row",display:"flex",marginStart:-1,marginEnd:-1,paddingY:1,children:[Object(h.jsx)(l.f,{flex:"grow",paddingX:1,children:Object(h.jsx)(l.bb,{role:"link",href:`/${y}/`,children:Object(h.jsxs)(l.u,{alignItems:"stretch",justifyContent:"start",children:[Object(h.jsx)("div",{className:"thumbImageWrapper",children:Object(h.jsx)(r.a,{name:O,src:x,size:"fit"})}),f&&Object(h.jsx)("h3",{className:"title",children:f}),a&&Object(h.jsx)("h4",{className:"fullname",children:O}),p&&Object(h.jsx)("div",{className:"subtitle",children:p})]})})}),d&&Object(h.jsx)(l.f,{paddingX:1,children:Object(h.jsx)(c.a,{handleFollowClick:()=>{j?(g(m.id),v(!1)):(t(m.id),v(!0)),o&&Object(u.b)(101,o)},isFollowing:j,isSelf:Boolean(n)})})]})})}))},"/WHw":function(e,t,n){n.d(t,"a",(function(){return j}));var i=n("q1tI"),o=n("/MKj"),r=n("JW66"),a=n("Ye/N"),s=n("5FNA"),c=n("Wer7"),l=n("vvax"),d=n("ANjH"),u=n("oN2T"),h=n("c50B"),b=n("nKUr");function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){var t,n;return n=t=class extends i.Component{constructor(...e){super(...e),p(this,"state",{createBoardError:null,inputName:this.props.prefilledName||"",nameValidators:[Object(h.p)({message:a.a._("Don't forget to name your board!")}),Object(h.j)({max:r.a.MAX_CHARS_FOR_BOARD_TITLE,maxErrorString:Object(l.b)(a.a._("Please enter no more than {{ maxLength }} characters.","Validation error when a user input is too long","Validation error when a user input is too long"),{maxLength:r.a.MAX_CHARS_FOR_BOARD_TITLE}).join("")})],nameValidatorErrors:[],privacy:this.props.isAdAccountOwner?r.a.BoardPrivacy.PUBLIC:r.a.BoardPrivacy.PROTECTED,saving:!1}),p(this,"invalidateResource",e=>{const{dispatch:t,viewer:n}=this.props;t(Object(c.f)("BoardsResource",Object(s.a)(n.isAuth?n.username:"",e===r.a.BoardPrivacy.SECRET)))}),p(this,"createBoard",e=>{const{dispatch:t,viewer:n}=this.props,i=n.isAuth?n.username:"";return t(Object(u.f)(e,{isFBC:n.isAuth&&0===n.boardCount},i))}),p(this,"handleChangeName",(e,t)=>{const n=Object(h.s)(this.state.nameValidators,e);this.setState({inputName:e,nameValidatorErrors:n,createBoardError:null},()=>{t&&this.handleCreate()})}),p(this,"handleChangePrivacy",()=>{const e=this.state.privacy===r.a.BoardPrivacy.SECRET?r.a.BoardPrivacy.PUBLIC:r.a.BoardPrivacy.SECRET;this.setState({privacy:e})}),p(this,"handleCreate",()=>{const{inputName:e,privacy:t}=this.state,{isAdAccountOwner:n,onCreate:i,advertiser_id:o}=this.props,r={privacy:t,name:e,...!n&&o?{advertiser_id:o}:{}};this.setState({saving:!0,createBoardError:null}),this.createBoard(r).then(e=>{this.setState({saving:!1}),i(e)}).catch(e=>{let t=a.a._("Uh oh! Something went wrong.");if("string"==typeof e)t=e;else if(e.message){const{message:n,message_detail:i}=e;t=i?`${n} ${i}`:n}this.setState({saving:!1,createBoardError:t})}),this.invalidateResource(t)})}render(){return Object(b.jsx)(e,{onBoardCreate:this.handleCreate,onChangeBoardName:this.handleChangeName,onChangeBoardPrivacy:this.handleChangePrivacy,...this.props,...this.state})}},p(t,"displayName",`WithBoardCreatePane(${e.displayName||e.name})`),n}function g({advertiser:e,viewer:t}){const n=!e||t.isAuth&&e.owner_user_id===t.id,i=e&&e.id;return{isAdAccountOwner:n,...i?{advertiser_id:i}:{},viewer:t}}function m(e){return{dispatch:e}}function j(e){return Object(d.compose)(Object(o.connect)(g,m),f)(e)}},"/X16":function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));const i={USER_FOLLOW:"USER_FOLLOW"},o={USER_BLOCK:"USER_BLOCK"}},"/ZYE":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("q1tI"),o=n("493B");t.useMonitorOutput=function(e,t,n){var r=o.useCollector(e,t,n),a=r[0],s=r[1];return i.useEffect((function(){var t=e.getHandlerId();if(null!=t)return e.subscribeToStateChange(s,{handlerIds:[t]})}),[e,s]),a}},"/acK":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("q1tI"),o=n("SFi7"),r=n("2S0S");t.useDragDropManager=function(){var e=i.useContext(o.context).dragDropManager;return r(null!=e,"Expected drag drop context"),e}},"/ySb":function(e,t,n){n.r(t),n.d(t,"default",(function(){return m}));var i=n("/MKj"),o=n("Q59z"),r=n("ypm9"),a=n("yweb"),s=n("ZdPf"),c=n("juW8"),l=n("RNo4"),d=n("n6mq"),u=n("EC67"),h=n("nKUr");function b({boardResource:{data:e,refresh:t}}){const n=Object(a.c)(),b=null==e?void 0:e.id,p=Object(i.useSelector)(e=>b&&(e.boards.content||{})[b])||null,{search:f,state:g}=Object(u.i)();if(Object(r.a)(),!p)return Object(h.jsx)(d.U,{accessibilityLabel:n._("Loading Board page","ExperimentalBoardPageContainer.Spinner","Accessibility label on loading spinner"),show:!0});const m=null==g?void 0:g.newBoard,j=Object(s.d)(null==e?void 0:e.sensitivity),v=m&&!j&&null!=e&&e.should_show_more_ideas?c.a.jumpstartBoard:null,O=Object(l.l)(f);return Object(h.jsx)(o.a,{board:p,initialModalType:v,refreshBoardData:t,showPulsar:Boolean(O.showPulsar)})}var p=n("EyTA"),f=n("xkL+"),g=n("75Er");function m(){const e=Object(f.b)(),{username:t}=Object(u.j)(),n=e.isAuth&&e.username===t;Object(g.b)({view_type:5,view_parameter:n?3069:3070});const i=Object(p.a)({name:"BoardResource",getOptions:({routeData:{params:{slug:e,username:t}}})=>({username:t,slug:unescape(e||""),field_set_key:"detailed"})});return Object(h.jsx)(b,{boardResource:i})}},"0/lc":function(e,t,n){n.d(t,"e",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return l}));var i=n("eOdZ"),o=n("62cf");function r(e){const{updateUserData:t}=e,n={};let r=null;if(t.gender&&[o.d,o.e].includes(t.gender)?n.gender=t.gender:t.custom_gender&&(n.customGender=t.custom_gender,n.gender=o.i),t.age?n.age=t.age:t.birthdate&&(n.birthdate=t.birthdate),t.locale&&(n.locale=t.locale),t.country&&(n.country=t.country),t.business_vertical&&(n.businessVertical=t.business_vertical),t.business_vertical_other&&(n.businessVerticalOther=t.business_vertical_other),t.number_employees&&(n.numberEmployees=t.number_employees),t.first_name&&(n.firstName=t.first_name),t.last_name&&(n.lastName=t.last_name),t.full_name&&(n.fullName=t.full_name),t.parent_email&&(n.parentEmail=t.parent_email),t.website_url&&(n.websiteUrl=t.website_url),void 0!==t.allow_analytic_cookies&&(n.allow_analytic_cookies=t.allow_analytic_cookies),void 0!==t.allow_analytic_cookies&&(n.allow_marketing_cookies=t.allow_marketing_cookies),void 0!==t.allow_analytic_cookies&&(n.allow_personalization_cookies=t.allow_personalization_cookies),t.advertising_intent||t.business_name||t.account_type||t.business_goals||t.selected_ecommerce_platforms||t.enable_profile_message||t.enable_profile_address){const{account_type:e,advertising_intent:n,business_name:i,business_goals:o,enable_profile_message:a,enable_profile_address:s,selected_ecommerce_platforms:c}=t;r={...n?{advertising_intent:n}:{},...e?{account_type:e}:{},...i?{business_name:i}:{},...o?{business_goals:o}:{},...a?{enable_profile_message:a}:{},...s?{enable_profile_address:s}:{},...c?{selected_ecommerce_platforms:c}:{}}}r&&(n.partner=r,r.business_name&&(n.firstName=r.business_name));const a=i.d.create("UserSettingsResource",t).callUpdate();return function(e,t){return a.then(t=>(e({type:"UPDATE_USER_SET",payload:n}),t))}}function a(e){return{type:"UPDATE_USER_FIRST_HOME_FEED_REQUEST_AFTER_NUX",payload:{firstHomeFeedRequestAfterNux:e}}}function s(e,t){return n=>{i.d.create("UserStateResource",{state:e,value:t}).callCreate()}}function c(e,t=""){return n=>i.d.create("UpdateFollowedInterestsResource",{referrer:t,updated_interest_follows:e}).callUpdate()}function l(e){return t=>i.d.create("OrientationContextResource",e).callCreate()}},"0BOE":function(e,t,n){n.d(t,"a",(function(){return r}));const i={á:"a",à:"a",â:"a",ä:"a",ã:"a",å:"a",æ:"a",ç:"c",é:"e",è:"e",ê:"e",ë:"e",í:"i",ì:"i",î:"i",ï:"i",ñ:"n",ó:"o",ò:"o",ô:"o",ö:"o",õ:"o",ø:"o",œ:"o",ß:"s",ú:"u",ù:"u",û:"u",ü:"u"},o=e=>{if(!e)return"";let t="";for(let n=0;n<e.length;n+=1)t+=i[e.charAt(n)]||e.charAt(n);return t},r=(e,t,n="name")=>{const i=t.toLowerCase();return e.filter(e=>((e,t)=>{const n=t.split(" "),i=e.split(" ");let r=0;for(let a=0;a<i.length;a+=1)(o(i[a]).includes(n[r])||i[a].includes(n[r]))&&(r+=1);return r===n.length})(e[n].toLowerCase(),i))}},"0C0f":function(e,t,n){n.r(t),n.d(t,"BoardCollabFlyout",(function(){return w})),n.d(t,"default",(function(){return C}));var i=n("q1tI"),o=n("+wrf"),r=n("ViqK"),a=n("3j7w"),s=n("yweb"),c=n("w70y"),l=n("n6mq"),d=n("nKUr");function u({board:e,scrollInfo:t}){const n=Object(s.c)(),o=Object(c.a)({name:"BoardCollaboratorsResource",options:{board_id:e.id},noCache:!0});if(o.isLoaded){const{owner:n}=e,{data:s,isAtEnd:c,isFetching:l,fetchMore:u}=o,h=[n,...s||[]];return Object(d.jsxs)(i.Fragment,{children:[t?Object(d.jsx)(a.a,{scrollBuffer:3*t.container.clientHeight,scrollHeight:t.container.scrollHeight,scrollTop:t.top,isAtEnd:c,isFetching:l,fetchMore:u}):null,h.map(e=>{const{full_name:t,id:n,image_medium_url:i,username:o}=e;return Object(d.jsx)(r.a,{imageUrl:i,linkURL:`/${o}/`,name:t,subtitle:o,title:t},n)})]})}return Object(d.jsx)(l.U,{accessibilityLabel:n._("Loading","Loading spinner when rendering users","Loading spinner when rendering users"),show:!0})}var h=n("/MKj");var b=({heading:e,description:t,disabled:n=!1,id:i,onChange:o,switched:r})=>Object(d.jsxs)(l.f,{display:"flex",direction:"column",width:"100%",paddingX:6,paddingY:4,children:[Object(d.jsx)(l.cb,{weight:"bold",children:e}),Object(d.jsxs)(l.f,{display:"flex",direction:"row",alignItems:"center",marginTop:3,children:[Object(d.jsx)(l.f,{flex:"grow",marginEnd:2,children:Object(d.jsx)(l.cb,{children:t})}),Object(d.jsx)(l.X,{id:i,onChange:o,disabled:n,switched:r})]})]}),p=n("JW66"),f=n("TgLd"),g=n("oN2T");function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class j extends i.Component{constructor(...e){super(...e),m(this,"state",{invitesEnabled:Boolean(this.props.board.collaborator_invites_enabled),requestsEnabled:Boolean(this.props.board.collaborator_requests_enabled),emailEnabled:Boolean(this.props.board.collab_board_email)}),m(this,"handleInvitesToggle",()=>this.setState(e=>({invitesEnabled:!e.invitesEnabled}))),m(this,"handleRequestsToggle",()=>this.setState(e=>({requestsEnabled:!e.requestsEnabled}))),m(this,"handleEmailToggle",()=>this.setState(e=>({emailEnabled:!e.emailEnabled}))),m(this,"handleSubmit",()=>{const{onDismiss:e,board:t,updateBoard:n}=this.props,{invitesEnabled:i,requestsEnabled:o,emailEnabled:r}=this.state;n({...t,collaborator_invites_enabled:i,collaborator_requests_enabled:o,collab_board_email:r}).then(()=>e())})}render(){const{board:{privacy:e},onDismiss:t,isViewerOwner:n}=this.props,{invitesEnabled:i,requestsEnabled:o,emailEnabled:r}=this.state,a=[{heading:this.props.i18n._("Email notifications","Sub-heading for email notifications group board setting","Sub-heading for email notifications group board setting"),description:this.props.i18n._("Receive emails when Pins are added to this board","Description of email notifications setting","Description of email notifications setting"),disabled:!1,onChange:this.handleEmailToggle,id:"email",switched:r}],s=[...a,{heading:this.props.i18n._("Group requests","Sub-heading for group requests group board setting","Sub-heading for group requests group board setting"),description:this.props.i18n._("People can request to join this board","Description of group requests setting","Description of group requests setting"),disabled:e===p.a.BoardPrivacy.SECRET,onChange:this.handleRequestsToggle,id:"requests",switched:o},{heading:this.props.i18n._("Group members","Sub-heading for group members group board setting","Sub-heading for group members group board setting"),description:this.props.i18n._("Group members can invite others","Description of group members setting","Description of group members setting"),disabled:!1,onChange:this.handleInvitesToggle,id:"invites",switched:i}],c=n?s:a;return Object(d.jsx)(f.b,{accessibilityModalLabel:this.props.i18n._("Edit group settings","Label for editing group settings","Label for editing group settings"),heading:this.props.i18n._("Group board settings","Modal header for editing settings for a group board","Modal header for editing settings for a group board"),footer:Object(d.jsx)(l.f,{display:"flex",marginStart:-1,marginEnd:-1,justifyContent:"end",children:Object(d.jsx)(l.f,{paddingX:1,children:Object(d.jsx)(l.g,{color:"red",onClick:this.handleSubmit,text:this.props.i18n._("Done","Button text for being finished with editing group board settings","Button text for being finished with editing group board settings")})})}),onDismiss:t,size:"md",children:c.map(e=>{const{description:t,disabled:n,heading:i,id:o,onChange:r,switched:a}=e;return Object(d.jsx)(b,{description:t,disabled:n,heading:i,id:o,onChange:r,switched:a},o)})})}}var v=Object(h.connect)((e,t)=>({board:e.boards&&e.boards.content[t.boardId]}),e=>({updateBoard:t=>e(Object(g.l)(t))}))((function(e){const t=Object(s.c)();return Object(d.jsx)(j,{...e,i18n:t})})),O=n("EwHv"),y=n("xkL+"),x=n("EC67");function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class w extends i.Component{constructor(...e){super(...e),_(this,"state",{contentRef:null,currentModal:null,scrollContainer:null,scrollTop:null}),_(this,"handleBoardLeave",()=>{const{history:e,viewer:t}=this.props,n=t.isAuth?"/"+t.username:"/";e.replace(n)}),_(this,"handleContentRef",e=>{const{contentRef:t}=this.state;!t&&e&&(this.setState({contentRef:e}),e.focus())}),_(this,"handleScrollContainer",e=>{const{scrollContainer:t}=this.state;!t&&e&&this.setState({scrollContainer:e})}),_(this,"handleScroll",()=>{const{scrollContainer:e}=this.state;e&&this.setState({scrollTop:e.scrollTop})}),_(this,"handleConfirmationModalOpen",()=>this.setState({currentModal:"confirmation"})),_(this,"handleSettingsModalOpen",()=>this.setState({currentModal:"settings"})),_(this,"handleCloseModal",()=>this.setState({currentModal:null})),_(this,"renderCurrentModal",()=>{const{board:{id:e,owner:t},viewer:n}=this.props,{currentModal:i}=this.state,o=n.isAuth&&n.username===t.username;switch(i){case"settings":return Object(d.jsx)(v,{boardId:e,isViewerOwner:o,onDismiss:this.handleCloseModal});default:return null}})}renderInvite(e,t,n){const i={invite:e,onBoardLeave:t,onInviteDidUpdate:n,useGestaltModal:!0,isDim:!1};return Object(d.jsx)(o.a,{...i})}render(){const{anchor:e,board:t,onDismiss:n}=this.props,{currentModal:o,scrollContainer:r,scrollTop:a}=this.state,s=r?{container:r,top:a||0}:null,c=(t.access||[]).includes("write");return Object(d.jsxs)(i.Fragment,{children:[Object(d.jsx)(l.A,{children:Object(d.jsx)(l.f,{dangerouslySetInlineStyle:{__style:{zIndex:1}},position:"absolute",top:!0,children:Object(d.jsx)(l.L,{anchor:e,onDismiss:o?()=>{}:n,idealDirection:"down",size:"xl",positionRelativeToAnchor:!1,children:Object(d.jsxs)(l.u,{alignItems:"stretch",justifyContent:"start",direction:"column",maxHeight:500,minWidth:360,width:"100%",children:[Object(d.jsx)(l.W,{top:0,children:Object(d.jsxs)(l.f,{display:"flex",alignItems:"center",justifyContent:"center",position:"relative",height:64,paddingX:4,paddingY:4,children:[Object(d.jsx)("div",{ref:this.handleContentRef,tabIndex:"0",children:Object(d.jsx)(l.cb,{size:"lg",weight:"bold",children:this.props.i18n._("Group members","boardCollabFlyout.header","Heading for the group members flyout")})}),c&&Object(d.jsx)(l.f,{right:!0,top:!0,position:"absolute",marginTop:2,marginEnd:2,children:Object(d.jsx)(l.x,{accessibilityLabel:this.props.i18n._("Group board settings","boardCollabFlyout.settings.button","Icon for accessing settings on a group board"),icon:"cog",size:"lg",iconColor:"darkGray",onClick:this.handleSettingsModalOpen})})]})}),Object(d.jsx)(l.f,{overflow:"scrollY",children:Object(d.jsx)(l.f,{onScroll:this.handleScroll,ref:this.handleScrollContainer,children:c?Object(d.jsx)(O.a,{board:t,scrollInfo:s,onBoardLeave:this.handleBoardLeave,renderInvite:this.renderInvite,onModalOpen:this.handleConfirmationModalOpen}):Object(d.jsx)(u,{board:t,scrollInfo:s})})})]})})})}),this.renderCurrentModal()]})}}function C(e){const t=Object(s.c)(),n=Object(y.b)(),i=Object(x.h)();return Object(d.jsx)(w,{...e,history:i,viewer:n,i18n:t})}},"0G5S":function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return r}));const i=(e,t=null)=>{try{return"undefined"!=typeof window&&window.localStorage.getItem(e)||t}catch(n){return console.error("Cannot access localStorage."),t}},o=e=>{try{if("undefined"==typeof window)return;window.localStorage.removeItem(e)}catch(t){console.error("Cannot access localStorage.")}},r=(e,t)=>{try{if("undefined"==typeof window)return;window.localStorage.setItem(e,t)}catch(n){console.error("Cannot access localStorage.")}}},"0NP8":function(e,t,n){n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var i=n("oRao"),o=n("yweb"),r=n("n6mq"),a=n("nKUr");const s=({bold:e=!1,count:t,shortform:n=!1,size:o="md",text:s})=>Object(a.jsx)(r.f,{children:Object(a.jsxs)(r.cb,{align:"center",size:o,color:"darkGray",weight:e?"bold":"normal",children:[Object(a.jsx)(i.a,{value:t,shortform:n})," ",s]})}),c=({bold:e,count:t,onClick:n,shortform:i,size:c})=>{const l=Object(o.c)();return Object(a.jsx)(r.f,{children:Object(a.jsx)(r.bb,{onTap:n,children:Object(a.jsx)(s,{bold:e,count:t,shortform:i,size:c,text:l.ngettext("follower","followers",t,"label for n follower(s)","label for n follower(s)")})})})},l=({count:e,size:t})=>{const n=Object(o.c)().ngettext("Pin","Pins",e,"label for n board section(s)","label for n board section(s)");return Object(a.jsx)(r.f,{children:Object(a.jsxs)(r.cb,{inline:!0,size:t,color:"darkGray",children:[!!e&&Object(a.jsx)(i.a,{value:e})||"0"," ",n]})})}},"0ZL5":function(e,t,n){var i=n("c4Fo"),o=n("6CFY"),r=n("nKUr");t.a=({anchors:e,idealDirection:t,onCompleteByAnchor:n,placementId:a,positionRelativeToAnchor:s,touchToDismiss:c,useMasonryFlyout:l})=>Object(r.jsx)(i.a,{placementId:a,predicate:t=>{const{display_data:n}=t;if(2===(null==n?void 0:n.component_type)){const{anchors_by_platform:t}=n;if(null!=t&&t.web){const{anchor:n,placement:i}=t.web;return i===a&&n in e}}return!1},children:({complete:i,dismiss:a,display_data:d})=>Object(r.jsx)(o.a,{anchors:e,complete:i,dismiss:a,displayData:d,idealDirection:t,onCompleteByAnchor:n,platform:"web",positionRelativeToAnchor:s,touchToDismiss:c,useMasonryFlyout:l})})},"0rqB":function(e,t,n){var i=n("q1tI"),o=n("clxp"),r=n("nKUr");const a=Object(i.memo)(({activate:e=!0,activateExperiment:t,isEligible:n=!0,name:a,group:s,children:c})=>{Object(i.useEffect)(()=>{e&&n&&t&&t(a)},[]);const l=s,d=`Experiment(${a}:${l})`,u=n&&l&&(l.startsWith("enabled")||l.startsWith("employee"))||!1,h={group:n?l:"",anyEnabled:u,customActivate:n&&!e?()=>n?t(a):"":null};return Object(r.jsx)(o.a,{name:d,children:c(h)})});t.a=a},"0rqM":function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("TgLd"),o=n("yweb"),r=n("n6mq"),a=n("nKUr");function s({cancelButtonLabel:e,confirmButtonLabel:t,heading:n,message:s,onCancel:c,onConfirm:l}){const d=Object(o.c)(),u=n||d._("Are you sure?"),h=e||d._("Cancel");return Object(a.jsx)(i.b,{accessibilityModalLabel:u,footer:Object(a.jsxs)(r.f,{marginEnd:-1,marginStart:-1,children:[Object(a.jsx)(r.f,{"data-test-id":"cancel-button",padding:1,children:Object(a.jsx)(r.g,{fullWidth:!0,onClick:c,size:"lg",text:h})}),Object(a.jsx)(r.f,{"data-test-id":"confirm-button",padding:1,children:Object(a.jsx)(r.g,{fullWidth:!0,color:"red",onClick:l,size:"lg",text:t})})]}),heading:u,onDismiss:c,role:"alertdialog",children:Object(a.jsx)(r.f,{padding:4,children:Object(a.jsx)(r.cb,{children:s})})})}},"0yL5":function(e,t,n){n.d(t,"a",(function(){return c}));var i=n("q1tI"),o=n("MLoN"),r=n("n6mq"),a=n("E2hd"),s=n("nKUr");function c({bgColor:e,children:t,icon:n,label:c,size:l}){const d=Object(i.useRef)(null),[u,h]=Object(i.useState)(!1),b=()=>h(!1);return Object(s.jsxs)(i.Fragment,{children:[Object(s.jsx)(r.f,{ref:d,children:Object(s.jsx)(a.a,{accessibilityLabel:c,bgColor:e,icon:n,onClick:()=>h(!u),selected:u,size:l})}),u&&Object(s.jsx)(o.a,{anchor:d.current,onDismiss:b,children:t({handleClose:b})})]})}},"1+5i":function(e,t,n){var i=n("w/wX"),o=n("sEf8"),r=n("mdPL"),a=r&&r.isSet,s=a?o(a):i;e.exports=s},"1IOU":function(e,t,n){String.prototype.endsWith||(String.prototype.endsWith=function(e,t){return(void 0===t||t>this.length)&&(t=this.length),this.substring(t-e.length,t)===e})},"1LK5":function(e,t){e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},"1RGD":function(e,t,n){n.d(t,"a",(function(){return c}));var i=n("q1tI"),o=n("yweb"),r=n("vvax"),a=n("n6mq"),s=n("nKUr");function c({header:e,onUpdate:t,value:n}){const c=Object(o.c)(),[l,d]=Object(i.useState)(n?String(Math.floor(Number.parseInt(n,10)/60)):"0"),[u,h]=Object(i.useState)(n?String(Number.parseInt(n,10)%60):"0"),b=(e,n)=>{t(String(Number.parseInt(n,10)+60*Number.parseInt(e,10)))},p=[];for(let i=0;i<=9;i+=1)p.push({value:String(i),label:Object(r.b)(c.ngettext("{{ hours }} hour","{{ hours }} hours",i,"storyboard.detailsList.recipe","Option for number of hours a story pin recipe will take"),{hours:i}).join("")});const f=[];for(let i=0;i<60;i+=1)f.push({value:String(i),label:Object(r.b)(c.ngettext("{{ minutes }} minute","{{ minutes }} minutes",i,"storyboard.detailsList.recipe","Option for number of minutes a story pin recipe will take"),{minutes:i}).join("")});return Object(s.jsxs)(a.u,{alignItems:"end",justifyContent:"start",width:"100%",children:[Object(s.jsx)(a.f,{width:"50%",marginEnd:2,children:Object(s.jsx)(a.S,{size:"lg",id:"hours",name:"hours",label:e,placeholder:c._("Hours","storyboard.detailsList.recipe","Placeholder caption for hours input in story pin recipe cooktime"),value:l,options:p,onChange:({value:e})=>{Number.isNaN(e)||(d(e),b(e,u))}})}),Object(s.jsx)(a.f,{width:"50%",marginStart:2,children:Object(s.jsx)(a.S,{size:"lg",id:"minutes",name:"minutes",placeholder:c._("Minutes","storyboard.detailsList.recipe","Placeholder caption for minutes input in story pin recipe cooktime"),value:u,options:f,onChange:({value:e})=>{Number.isNaN(e)||(h(e),b(l,e))}})})]})}},"1Vso":function(e,t,n){var i=n("7pfs"),o=n("nKUr");t.a=e=>{const{accessibilityLabel:t,children:n,className:r,dataTestId:a,onClick:s,onMouseEnter:c,onMouseLeave:l,style:d}=e;return Object(o.jsx)(i.a,{children:({active:e,focused:i,hovered:u,onBlur:h,onFocus:b,onMouseDown:p,onMouseEnter:f,onMouseLeave:g,onMouseUp:m})=>Object(o.jsx)("button",{"data-test-id":a,"aria-label":t,style:d,onBlur:h,onFocus:b,onMouseDown:p,onMouseEnter:e=>{f(),c&&c(e)},onMouseLeave:e=>{g(),l&&l(e)},onMouseUp:m,onClick:s,className:r,children:n({active:e,focused:i,hovered:u})})})}},"1YNZ":function(e,t,n){var i=n("q1tI"),o=n("c4Fo"),r=n("M1Uz"),a=n("U4JR"),s=n("nKUr");var c=e=>Object(s.jsx)(o.a,{experienceIds:e.experienceIds,placementId:e.placementId,type:10,children:({complete:t,dismiss:n,display_data:i})=>{const o=i.link||e.linkUrl;return Object(s.jsx)(r.a,{duration:i.duration,href:o,text:i.text,onClick:()=>{t(),e.onClick&&e.onClick(),e.shouldLogClicks&&e.shouldLogClicks&&Object(a.b)(101,{objectId:e.objectId,component:e.thriftComponentType,element:e.thriftElementType})},onHide:()=>{e.onHide(),e.completionOnDismissal?t():n()}})}}),l=n("nGHF");function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u=2e3;class h extends i.Component{constructor(...e){super(...e),d(this,"componentDidMount",()=>{const{delay:e=u}=this.props;this.experienceToastsTimeout=window.setTimeout(()=>this.triggerEducationToasts(),e)})}componentWillUnmount(){window.clearTimeout(this.experienceToastsTimeout)}triggerEducationToasts(){const{toastManagerContext:e,completionOnDismissal:t,placementId:n,experienceIds:i}=this.props;e.showOneToast(({onHide:e})=>Object(s.jsx)(c,{experienceIds:i,completionOnDismissal:t,onHide:e,placementId:n,shouldLogClicks:!1}))}render(){return null}}d(h,"defaultProps",{completionOnDismissal:!1});t.a=Object(l.c)(h)},"1tpI":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this.isDisposed=!1}return e.prototype.getDisposable=function(){return this.current},e.prototype.setDisposable=function(e){var t=this.isDisposed;if(!t){var n=this.current;this.current=e,n&&n.dispose()}t&&e&&e.dispose()},e.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var e=this.current;this.current=void 0,e&&e.dispose()}},e}();t.SerialDisposable=i},"2K7C":function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("yweb"),o=n("n6mq"),r=n("nKUr");function a(){const e=Object(i.c)();return Object(r.jsx)(o.u,{alignItems:"center",justifyContent:"center",children:Object(r.jsx)(o.U,{accessibilityLabel:e._("Loading editor","EditorWithMentionsFallback.loading","Message shown while waiting for the editor to load"),show:!0})})}},"2S0S":function(e,t,n){e.exports=function(e,t,n,i,o,r,a,s){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,i,o,r,a,s],d=0;(c=new Error(t.replace(/%s/g,(function(){return l[d++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}},"2WXK":function(e,t,n){var i=n("q1tI");let o=null,r=!1,a=0;const s=()=>{o&&clearTimeout(o),r=!0,o=setTimeout(()=>{r=!1},100)};t.a=()=>{const[e,t]=Object(i.useState)(!1),n=Object(i.useRef)(null);Object(i.useEffect)(()=>(0===a&&window.addEventListener("scroll",s),a+=1,()=>{n.current&&clearTimeout(n.current),a-=1,a||window.removeEventListener("scroll",s)}),[]);const o=e=>{n.current&&clearTimeout(n.current),n.current=e&&r?setTimeout(()=>o(!0),100):setTimeout(()=>{t(e)},32)};return{isHovering:e,hoverHandlers:Object(i.useRef)({onMouseOver:()=>o(!0),onMouseLeave:()=>o(!1)}).current}}},"2i+x":function(e,t,n){n.d(t,"a",(function(){return i}));const i=e=>{const{thumbnail:t,url:n,width:i,height:o,duration:r}=e||{};return t&&n&&i&&o&&{thumbnail:t,url:n,width:i,height:o,duration:r}||void 0}},"2qKt":function(e,t,n){var i=n("q1tI"),o=n("/MKj"),r=n("Y+p1"),a=n.n(r),s=n("Vzit"),c=n("vh5K"),l=n("pLLR"),d=n("ANjH"),u=n("nKUr");function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const b={shouldUsePlacedExperience:!0,dispatchMountActionDuringSSR:!1,isAdvertiserPlacement:!1};t.a=(e,t={},n)=>r=>{const p=function(e){return t=>({experience:t.experiences.eligibleExperiences[e],experiencesMulti:t.experiences.experiencesMulti?t.experiences.experiencesMulti[e]:void 0})}(e);n={...b,...n};const f=function(e,t,n=!0,o=!0,r=!1,l){var d,b;return b=d=class extends i.Component{constructor(e){super(e),h(this,"state",{extraContext:void 0}),h(this,"setExtraContextState",e=>{a()(this.state.extraContext,e)||this.setState({extraContext:e})})}componentDidMount(){this.dispatchPlacementMount()}componentDidUpdate(n,i){const{dispatch:o,experience:r}=this.props;let c=i.extraContext,l=this.state.extraContext||t||{};"function"==typeof t&&(c=t(n,i.extraContext||{}),l=t(this.props,this.state.extraContext||{})),l&&Object.keys(l).length>0&&!a()(c,l)&&o(Object(s.c)(e,l)),!r||n.experience&&r.id===n.experience.id||o(Object(s.k)(e,l))}componentWillUnmount(){const{dispatch:t}=this.props;t(Object(s.m)(e))}dispatchPlacementMount(){const{dispatch:n}=this.props,i="function"==typeof t?t(this.props,this.state.extraContext||{}):{...t},o=r&&null!=i&&i.advertiser_id?{advertiserId:i.advertiser_id}:void 0;n(Object(s.l)(e,i,o))}render(){const{experience:e,experiencesMulti:t}=this.props,n={[r?"advertiserExperience":"experience"]:Object(c.e)(e)?e:null};return Object(u.jsx)(l,{...this.props,setPlacementExtraContext:this.setExtraContextState,...n,experiencesMulti:t})}},h(d,"displayName",`withPlacement(${l.displayName||l.name||"Component"})`),b}(e,t,n.shouldUsePlacedExperience,n.dispatchMountActionDuringSSR,n.isAdvertiserPlacement,r);return Object(d.compose)(l.e,Object(o.connect)(p))(f)}},"3UD+":function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},"3h4M":function(e,t,n){n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var i=n("h6me");const o=[];function r(e){let t;try{t=JSON.stringify({errorObj:e})}catch(s){t=JSON.stringify({errorObj:{message:e.message,name:"logToServer stringify exception"}})}const n=(r={report_context:JSON.stringify({current_url:window.location.href,client_version:"79fdca6"}),report_data:t},Object.keys(r).map(e=>e+"="+encodeURIComponent(r[e])).join("&"));var r;const a=window.btoa(n);if(-1===o.indexOf(a)){const e=new XMLHttpRequest;e.open("post","/_/_/report/error/",!0),e.setRequestHeader("Content-type","application/x-www-form-urlencoded");const t=Object(i.a)();t&&e.setRequestHeader("X-Pinterest-PWS-Handler",t),e.setRequestHeader("X-CSRFToken",function(e){const t=("; "+document.cookie).split("; "+e+"=");return 2===t.length?t.pop().split(";").shift():""}("csrftoken")),e.send(n),o.push(a)}o.length>100&&o.shift()}function a(){window.addEventListener("error",e=>{const t=e.error||{};r({name:t.name,message:t.message||e.message,stack:t.stack,filename:e.filename,line:e.lineno,column:e.colno})}),window.addEventListener("unhandledrejection",e=>{var t,n,i,o,a;if(!((null==e?void 0:e.reason)instanceof Error))return;const{reason:s}=e,c="string"==typeof(null==s?void 0:s.message)?s.message:String(s);r({name:null!==(t=null==s?void 0:s.name)&&void 0!==t?t:"unhandledrejection",message:c,message_detail:null==s?void 0:s.message_detail,original_message:null==s?void 0:s.original_message,stack:null==s?void 0:s.stack,filename:null==s?void 0:s.fileName,line:null!==(n=null!==(i=null==s?void 0:s.lineno)&&void 0!==i?i:null==s?void 0:s.line)&&void 0!==n?n:null==s?void 0:s.lineNumber,column:null!==(o=null!==(a=null==s?void 0:s.column)&&void 0!==a?a:null==s?void 0:s.colno)&&void 0!==o?o:null==s?void 0:s.columnNumber})})}},"3j7w":function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("q1tI");class o extends i.PureComponent{constructor(...e){var t,n,i;super(...e),i=()=>{const{isAtEnd:e,isFetching:t,fetchMore:n,scrollBuffer:i,scrollHeight:o,scrollTop:r}=this.props;e||t||r+i>o&&n()},(n="check")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}componentDidMount(){setTimeout(this.check)}componentDidUpdate(){this.check()}render(){return null}}},"3qQZ":function(e,t,n){},"3z7j":function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("Wer7");function o(e,t){return n=>n(Object(i.a)("BoardSectionResource",{field_set_key:t||"board_page",section_id:e}))}},"4/ic":function(e,t,n){var i=n("ZWtO");e.exports=function(e){return function(t){return i(t,e)}}},"44Ds":function(e,t,n){var i=n("e4Nc");function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var i=arguments,o=t?t.apply(this,i):i[0],r=n.cache;if(r.has(o))return r.get(o);var a=e.apply(this,i);return n.cache=r.set(o,a)||r,a};return n.cache=new(o.Cache||i),n}o.Cache=i,e.exports=o},"493B":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("Gytx"),o=n("q1tI");t.useCollector=function(e,t,n){var r=o.useState((function(){return t(e)})),a=r[0],s=r[1],c=o.useCallback((function(){var o=t(e);i(a,o)||(s(o),n&&n())}),[a,e,n]);return[a,c]}},"4TDQ":function(e,t,n){n.d(t,"a",(function(){return l}));var i=n("3z7j"),o=n("Pqnw"),r=n("eOdZ"),a=n("KFEb"),s=n("Wer7"),c=n("Pv/+");function l(e,t,n){return l=>r.d.create("BoardSectionsMergeResource",{source_section_id:t,target_section_id:n}).callUpdate({showError:!1}).then(r=>Promise.all([l(Object(c.b)(e,t)),l(Object(s.f)("BoardSectionsRepinResource",{board_id:e})),l(Object(i.a)(n)),l(Object(o.a)(a.a.SECTION_PINS,n))]).then(()=>r))}},"4dcN":function(e,t,n){(function(e){var i=n("T0g9"),o=n("Jr++");let r;void 0===r&&(r=e),r._gaq=r._gaq||[];let a=[];const s=function(e){if(a.length)for(let t=0;t<a.length;t+=1){const n=a[t];r._gaq.push(["_setAccount",n]),r._gaq.push(e)}},c=function(e){if(a=e,!e.length)return;const t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=("https:"===document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(t)},l=2,d=3,u={};u.init=function(e,t){c(e),s(["_setCustomVar",1,"is_logged_in",t?"logged in":"logged out",l])},u.initSterling=function(e,{isLoggedIn:t,advertiser:n,adminUser:i,viewingUser:o}){c(e),t?(i?s(["_setCustomVar",1,"adminUser",i.toString(),d]):o&&o.id?s(["_setCustomVar",1,"viewingUser",o.id.toString(),d]):s(["_setCustomVar",1,"is_logged_in","logged in",d]),n&&n.id&&s(["_setCustomVar",3,"advertiserId",n.id,d])):s(["_setCustomVar",1,"is_logged_in","logged out",d])};const h=function(e,t){let n=e;const r=Object(o.a)(t).q;return r&&(n+="?"+Object(i.a)({q:r})),n};u.trackPageview=function(e){s(["_setCustomVar",2,"page_name",e,d]),s(["_trackPageview",h(r.location.pathname,r.location.search)]),s(["_setPageGroup",1,e])},u.trackEvent=function(e,t,n,i,o){s(["_trackEvent",e,t,n,i,o])},u.trackCategoryEvent=function(e,t,n){u.trackEvent(e+"_"+t,n)},t.a=u}).call(this,n("yLpj"))},"4jWr":function(e,t,n){n.d(t,"a",(function(){return i}));const i=200;t.b=(e,t)=>({marginTop:10,opacity:0,position:"relative",transform:"translateY(200px)",transition:"opacity 0.1s ease-in-out",visibility:"hidden",...e?{opacity:1,transform:"translateY(0)",transition:"all 0.7s cubic-bezier(.19, 1.15, .48, 1)",visibility:"visible"}:{},...e&&t?{opacity:0,transform:"scale(1.1)",transition:"opacity transform 0.2s"}:{}})},"4sDh":function(e,t,n){var i=n("4uTw"),o=n("03A+"),r=n("Z0cm"),a=n("wJg7"),s=n("shjB"),c=n("9Nap");e.exports=function(e,t,n){for(var l=-1,d=(t=i(t,e)).length,u=!1;++l<d;){var h=c(t[l]);if(!(u=null!=e&&n(e,h)))break;e=e[h]}return u||++l!=d?u:!!(d=null==e?0:e.length)&&s(d)&&a(h,d)&&(r(e)||o(e))}},"4uTw":function(e,t,n){var i=n("Z0cm"),o=n("9ggG"),r=n("GNiM"),a=n("dt0z");e.exports=function(e,t){return i(e)?e:o(e,t)?[e]:r(a(e))}},"4vzw":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var i=n.getRegistry(),o=i.addSource(e,t);return[o,function(){return i.removeSource(o)}]}},"54t5":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("fOPN"),o=n("HNpt"),r=n("U4W0"),a=n("uCRx"),s=n("QLaP"),c=n("IEa/");function l(e){switch(e[0]){case"S":return r.HandlerRole.SOURCE;case"T":return r.HandlerRole.TARGET;default:s(!1,"Cannot parse handler ID: "+e)}}function d(e,t){var n=e.entries(),i=!1;do{var o=n.next(),r=o.done;if(o.value[1]===t)return!0;i=r}while(!i);return!1}var u=function(){function e(e){this.store=e,this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null}return e.prototype.addSource=function(e,t){a.validateType(e),a.validateSourceContract(t);var n=this.addHandler(r.HandlerRole.SOURCE,e,t);return this.store.dispatch(i.addSource(n)),n},e.prototype.addTarget=function(e,t){a.validateType(e,!0),a.validateTargetContract(t);var n=this.addHandler(r.HandlerRole.TARGET,e,t);return this.store.dispatch(i.addTarget(n)),n},e.prototype.containsHandler=function(e){return d(this.dragSources,e)||d(this.dropTargets,e)},e.prototype.getSource=function(e,t){return void 0===t&&(t=!1),s(this.isSourceId(e),"Expected a valid source ID."),t&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)},e.prototype.getTarget=function(e){return s(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)},e.prototype.getSourceType=function(e){return s(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)},e.prototype.getTargetType=function(e){return s(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)},e.prototype.isSourceId=function(e){return l(e)===r.HandlerRole.SOURCE},e.prototype.isTargetId=function(e){return l(e)===r.HandlerRole.TARGET},e.prototype.removeSource=function(e){var t=this;s(this.getSource(e),"Expected an existing source."),this.store.dispatch(i.removeSource(e)),c((function(){t.dragSources.delete(e),t.types.delete(e)}))},e.prototype.removeTarget=function(e){s(this.getTarget(e),"Expected an existing target."),this.store.dispatch(i.removeTarget(e)),this.dropTargets.delete(e),this.types.delete(e)},e.prototype.pinSource=function(e){var t=this.getSource(e);s(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t},e.prototype.unpinSource=function(){s(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null},e.prototype.addHandler=function(e,t,n){var i=function(e){var t=o.default().toString();switch(e){case r.HandlerRole.SOURCE:return"S"+t;case r.HandlerRole.TARGET:return"T"+t;default:throw new Error("Unknown Handler Role: "+e)}}(e);return this.types.set(i,t),e===r.HandlerRole.SOURCE?this.dragSources.set(i,n):e===r.HandlerRole.TARGET&&this.dropTargets.set(i,n),i},e}();t.default=u},"5ARb":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("MCs0"),o=(n("QWfI"),n("2S0S")),r=["canDrag","beginDrag","isDragging","endDrag"],a=["beginDrag"],s=function(){function e(e,t,n){var i=this;this.spec=e,this.monitor=t,this.ref=n,this.props=null,this.beginDrag=function(){if(i.props)return i.spec.beginDrag(i.props,i.monitor,i.ref.current)}}return e.prototype.receiveProps=function(e){this.props=e},e.prototype.canDrag=function(){return!!this.props&&(!this.spec.canDrag||this.spec.canDrag(this.props,this.monitor))},e.prototype.isDragging=function(e,t){return!!this.props&&(this.spec.isDragging?this.spec.isDragging(this.props,this.monitor):t===e.getSourceId())},e.prototype.endDrag=function(){this.props&&this.spec.endDrag&&this.spec.endDrag(this.props,this.monitor,i.getDecoratedComponent(this.ref))},e}();t.default=function(e){return Object.keys(e).forEach((function(t){o(r.indexOf(t)>-1,'Expected the drag source specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',r.join(", "),t),o("function"==typeof e[t],"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source",t,t,e[t])})),a.forEach((function(t){o("function"==typeof e[t],"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source",t,t,e[t])})),function(t,n){return new s(e,t,n)}}},"5Ai/":function(e,t,n){var i=n("q1tI"),o=n("/MKj"),r=n("1inl"),a=n("3z7j"),s=n("ajUs"),c=n("uVIr"),l=n("MhBu"),d=n("qnp8"),u=n("e/jn"),h=n("eOdZ"),b=n("M1Uz"),p=n("Sbkd"),f=n("xkL+"),g=n("KFEb"),m=n("x12c"),j=n("vvax"),v=n("NjDU"),O=n("nGHF"),y=n("yweb"),x=n("Sp3T"),_=n("Wrea"),w=n("oN2T"),C=n("e0nq"),S=n("EC67"),I=n("nKUr");function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class T extends i.PureComponent{constructor(...e){super(...e),E(this,"state",{step:"unsaved"}),E(this,"deletePin",e=>h.d.create("PinResource",{id:e}).callDelete()),E(this,"repin",()=>{const{location:e,pin:t,target:{board:n,boardSection:i},eventContext:o,previousHistory:r}=this.props,a=Object(s.a)(t,e,r)||(t.tracking_params||"")+"-0",c=!t.id&&t.image_url?Object(u.a)(t.image_url,t.link):"",l=i&&i.id,d={board_id:n.id||"",clientTrackingParams:a,description:t.description||"",image_base64:t.image_base64,link:t.link,image_url:c,is_buyable_pin:!1,is_removable:t.promoted_is_removable,media_upload_id:t.media_upload_id,pin_id:t.id||"",section:l,title:t.title||"",eventContext:o};return h.d.create("RepinResource",d).callCreate({showError:!1})}),E(this,"handleSave",this.props.requireAuth(()=>{const{onSave:e,makeCancelablePromise:t}=this.props,{step:n}=this.state;if("unsaving"===n)return void this.setState({step:"saving"});this.setState({step:"saving"});t(this.repin().then(({resource_response:{data:e}})=>this.shouldCompleteSave(e))).then(e).catch(({isCanceled:e})=>{if(!e){const{target:{board:e,boardSection:t}}=this.props;r.a.showError(t?Object(j.b)(this.props.i18n._("Failed to save the Pin to {{sectionName}}","Error message when failed to save to a section within a board","Error message when failed to save to a section within a board"),{sectionName:t.title}).join(""):Object(j.b)(this.props.i18n._("Failed to save the Pin to {{boardName}}","Error message when failed to save to a board","Error message when failed to save to a board"),{boardName:e.name}).join(""))}})})),E(this,"shouldCompleteSave",e=>{const{pin:t,dispatch:n,showToast:i,target:{board:o,boardSection:r}}=this.props,{step:a}=this.state,s=r&&r.id,l={pinId:t.id,boardId:o.id,sectionId:s,title:t.title||""};if("saving"===a){m.b.publish("currentUser","pinCreated",e),m.b.publish(e.board.id,"pinCreated",{pin:e}),n(Object(w.d)(o)),n(Object(c.a)({feedId:s||o.id,feedType:s?g.a.SECTION_PINS:g.a.BOARD_PINS,itemIds:[t.id],itemType:"pin"}));const{image_url:a,images:u}=t,h=a||(null==u?void 0:u["236x"])&&u["236x"].url||"";return!r&&o.image_cover_url||(o.image_cover_url=h,n(Object(w.e)({},o))),n(Object(C.a)({...l,localPinId:e.id})),n(Object(_.d)({boardId:o.id,sectionId:r?r.id:void 0,increment:1})),n(Object(v.c)({userId:e.pinner.id,increment:1})),this.setState({step:"saved"}),i(({onHide:e})=>Object(I.jsx)(d.a,{pinImageUrl:h,boardName:o.name,boardUrl:o.url,onHide:e,onUndo:this.handleUnsave})),e}"unsaving"===a&&this.handleUnsave(e.id)}),E(this,"handleUnsave",e=>{const{step:t}=this.state,{savedInfo:n}=this.props;if("unsaved"===t)return;if("saving"===t)return void this.setState({step:"unsaving"});const i=n&&n.localPinId||e;i&&(this.setState({step:"unsaving"}),this.deletePin(i).then(()=>this.shouldCompleteUnsave(i)))}),E(this,"shouldCompleteUnsave",e=>{const{pin:t,savedInfo:n,showToast:i,target:{board:o,boardSection:r},dispatch:s,onDelete:c,viewerId:d,i18n:u}=this.props,{step:h}=this.state;if("unsaving"===h){if(n){const n=null==r?void 0:r.id;s(Object(C.d)({pinId:t.id})),s(Object(_.d)({boardId:o.id,sectionId:n,increment:-1})),s(Object(v.c)({userId:d,increment:-1})),s(Object(_.f)(o.id)),s(Object(l.a)({feedId:n||o.id,feedType:n?g.a.SECTION_PINS:g.a.BOARD_PINS,itemIds:[t.id],itemType:"pin"})),n&&s(Object(a.a)(n)),m.b.publish(e,"pinDeleted"),c&&c()}i(({onHide:e})=>Object(I.jsx)(b.a,{onHide:e,text:u._("Pin deleted","OneTapSavePinWrapper.Unsave","Pin delete completion confirmation")})),this.setState({step:"unsaved"})}"saving"===h&&this.handleSave()})}render(){const{children:e,savedInfo:t}=this.props,{step:n}=this.state;return e({save:this.handleSave,saved:"saved"===n||"saving"===n||!(!t||!t.localPinId),savedInfo:t,unsave:this.handleUnsave})}}t.a=Object(o.connect)((e,{pin:{id:t}})=>({previousHistory:e.history.previous,savedInfo:e.pins[t]&&e.pins[t].savedInfo}))((function(e){const t=Object(y.c)(),{showToast:n}=Object(O.b)(),i=Object(p.a)(),o=Object(S.i)(),r=Object(x.a)(),a=Object(f.b)();return Object(I.jsx)(T,{...e,location:o,makeCancelablePromise:i,showToast:n,requireAuth:r,i18n:t,viewerId:a.isAuth?a.id:""})}))},"5FNA":function(e,t,n){n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var i=n("qtKf"),o=n("Pqnw"),r=n("Wer7");const a=["alphabetical","last_pinned_to","oldest","newest","group_boards_at_top","custom"],s={name:"BoardsResource",key:"boardsResource",options:({boardOrder:e,filterStories:t,mixPublicSecret:n,username:i})=>({privacy_filter:"all",sort:e||"last_pinned_to",field_set_key:"profile_grid_item",filter_stories:t,username:i,page_size:25,group_by:n?"mix_public_private":"visibility",include_archived:!0,redux_normalize_feed:!0})},c=(e,t,n)=>({privacy_filter:t?"secret":"public",sort:n||"last_pinned_to",field_set_key:"profile_grid_item",username:e}),l=e=>a.reduce((t,n)=>{const a=[Object(o.a)("profileBoards",Object(i.c)(e,n))];return[!0,!1].forEach(t=>{[!0,!1].forEach(i=>{a.push(Object(r.f)(s.name,s.options({username:e,boardOrder:n,mixPublicSecret:t,filterStories:i})))})}),t.concat(a)},[])},"5MXd":function(e,t,n){n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return d}));var i=n("q1tI"),o=n("1dBE"),r=n("nKUr");const a=660,s={educationId:null,paddingRight:0,zIndex:a};function c(e,t){switch(t.type){case"FOOTER_SET_EDUCATION_ID":const{educationId:n}=t.payload;return{...e,educationId:n};case"FOOTER_SET_PADDING_RIGHT":const{paddingRight:i}=t.payload;return{...e,paddingRight:i};case"FOOTER_SET_Z_INDEX":const{zIndex:o}=t.payload;return{...e,zIndex:o};default:return e}}const{Provider:l,Consumer:d,useHook:u}=Object(o.c)("footerContext");function h({children:e}){const[t,n]=Object(i.useReducer)(c,s);return Object(r.jsx)(l,{value:{...t,setEducationId:e=>n({type:"FOOTER_SET_EDUCATION_ID",payload:{educationId:e}}),setPaddingRight:e=>n({type:"FOOTER_SET_PADDING_RIGHT",payload:{paddingRight:e}}),setZIndex:e=>n({type:"FOOTER_SET_Z_INDEX",payload:{zIndex:e}})},children:e})}},"5S2N":function(e,t,n){n.d(t,"c",(function(){return Pe})),n.d(t,"b",(function(){return Be})),n.d(t,"a",(function(){return ke}));var i=n("q1tI"),o=n("/MKj"),r=n("9WJf"),a=n("BkRI"),s=n.n(a),c=n("yweb"),l=n("n6mq"),d=n("nKUr");function u({commentsDisabled:e,onCommentChange:t,onPhotoChange:n,photosDisabled:i,isManagedView:o,isNoTitle:r}){const a=Object(c.c)(),s=o?6:r?0:3;return Object(d.jsxs)(l.f,{children:[!r&&Object(d.jsx)(l.q,{}),Object(d.jsxs)(l.f,{mdDisplay:"flex",justifyContent:"between",paddingX:o?0:4,paddingY:s,children:[!o&&!r&&Object(d.jsx)(l.f,{column:12,mdColumn:3,paddingY:2,children:Object(d.jsx)(l.cb,{size:"md",children:a._("Comment and Photo Permissions")})}),Object(d.jsxs)(l.f,{column:12,mdColumn:o?12:8,children:[Object(d.jsxs)(l.f,{paddingY:1,display:"flex",alignItems:"center",children:[Object(d.jsx)(l.X,{onChange:t,id:"CommentSwitch",switched:!e}),Object(d.jsx)(l.f,{paddingX:2,children:Object(d.jsx)(l.z,{htmlFor:"CommentSwitch",children:Object(d.jsx)(l.cb,{size:"md",children:a._("Allow people to comment","Label for toggling comments on a pin in pin edit form","Label for toggling comments on a pin in pin edit form")})})})]}),n&&Object(d.jsxs)(l.f,{paddingY:1,alignItems:"center",display:"flex",children:[Object(d.jsx)(l.X,{onChange:n,id:"PhotoSwitch",switched:!i}),Object(d.jsx)(l.f,{paddingX:2,children:Object(d.jsx)(l.z,{htmlFor:"PhotoSwitch",children:Object(d.jsx)(l.cb,{size:"md",children:a._("Allow people to upload photos","Label for toggling photos on a pin in pin edit form","Label for toggling photos on a pin in pin edit form")})})})]})]})]})]})}var h=n("JW66"),b=n("eOdZ"),p=n("5FNA"),f=n("Wer7");var g=n("Sihc"),m=n("Y+p1"),j=n.n(m),v=n("TgLd"),O=n("GBVV"),y=n("Ofms"),x=n("M1Uz"),_=n("nGHF");function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class C extends i.PureComponent{constructor(...e){super(...e),w(this,"state",{deleting:!1}),w(this,"unmounted",!1),w(this,"handleConfirm",()=>{if(this.state.deleting)return;const{onDeletePin:e}=this.props;this.setState({deleting:!0}),e().then(()=>this.handleDeleteDidComplete()).catch(e=>this.handleDeleteDidComplete(e))}),w(this,"handleDeleteDidComplete",e=>{const{toastManagerContext:t}=this.props;this.unmounted||this.setState({deleting:!1}),e||t.showToast(({onHide:e})=>Object(d.jsx)(x.a,{onHide:e,text:this.props.i18n._("Pin deleted!","User deleted their pin","User deleted their pin")}))})}componentWillUnmount(){this.unmounted=!0}render(){const{onDismiss:e}=this.props,{deleting:t}=this.state;return Object(d.jsx)(v.b,{heading:this.props.i18n._("Are you sure?","Confirm the user wants to delete the pin","Confirm the user wants to delete the pin"),accessibilityModalLabel:this.props.i18n._("Are you sure you want to delete this pin?","Accessible label to confirm the user wants to delete the pin","Accessible label to confirm the user wants to delete the pin"),size:"sm",onDismiss:e,footer:Object(d.jsxs)(l.f,{display:"flex",justifyContent:"end",marginStart:-1,marginEnd:-1,children:[Object(d.jsx)(l.f,{paddingX:1,children:Object(d.jsx)(l.g,{fullWidth:!0,onClick:e,text:this.props.i18n._("Cancel")})}),Object(d.jsx)(l.f,{paddingX:1,children:Object(d.jsx)(y.a,{id:"confirm-delete-pin",children:Object(d.jsx)(O.b,{color:"red",onClick:this.handleConfirm,text:this.props.i18n._("Delete Pin"),submitting:t})})})]}),children:Object(d.jsx)(l.f,{padding:4,children:Object(d.jsx)(l.cb,{children:this.props.i18n._("Once you delete a Pin, you can't undo it!")})})})}}const S=Object(_.c)((function(e){const t=Object(c.c)();return Object(d.jsx)(C,{...e,i18n:t})}));S.displayName="DeletePinConfirmation";var I=S;function E({canEdit:e,onAltTextChange:t,altText:n}){const o=Object(c.c)();return Object(d.jsxs)(i.Fragment,{children:[Object(d.jsx)(l.q,{}),Object(d.jsxs)(l.f,{mdDisplay:"flex",justifyContent:"between",paddingX:4,paddingY:3,children:[Object(d.jsx)(l.f,{column:12,mdColumn:3,paddingY:2,children:Object(d.jsx)(l.z,{htmlFor:"AltTextField",children:Object(d.jsx)(l.cb,{size:"md",children:o._("Alt text","EditPinModal.EditAltText","Label for editing alt text of pin")})})}),Object(d.jsx)(l.f,{column:12,mdColumn:8,children:e?Object(d.jsxs)(i.Fragment,{children:[Object(d.jsx)(l.f,{children:Object(d.jsx)(l.eb,{id:"AltTextField",onChange:({value:e})=>t({value:e.slice(0,500)}),size:"lg",value:n||""})}),Object(d.jsx)(l.f,{children:Object(d.jsx)(l.z,{htmlFor:"AltTextField",children:Object(d.jsx)(l.f,{marginTop:1,children:Object(d.jsx)(l.cb,{size:"md",color:"gray",children:o._("This helps people using screen readers understand what your Pin is about.","EditPinModal.EditAltText","Label for editing alt text of pin")})})})})]}):Object(d.jsx)(l.f,{column:12,mdColumn:8,paddingY:2,children:Object(d.jsx)(l.cb,{size:"md",weight:"bold",children:n})})})]})]})}var T=n("V711"),P=n("sUAf");function D({board:e={},canEdit:t,isOriginallyQuickCreatesBoard:n,onBoardChange:i,onBoardCreate:o,viewerId:r}){const a=Object(c.c)(),{showEnabledSaveBehavior:s}=Object(P.a)(r),u="quick_saves"===e.layout&&s,h="quick_creates"===e.layout;return Object(d.jsxs)(l.f,{mdDisplay:"flex",justifyContent:"between",paddingX:4,paddingY:3,children:[Object(d.jsx)(l.f,{column:12,mdColumn:3,paddingY:2,children:Object(d.jsx)(l.z,{htmlFor:"BoardPicker",children:Object(d.jsx)(l.cb,{size:"md",children:n?a._("Organize to a board (optional)","editPinModal.editBoard.optionalBoardLabel","Label for board dropdown to select optional board"):a._("Board")})})}),t?Object(d.jsx)(l.f,{column:12,mdColumn:8,children:Object(d.jsx)(T.a,{board:e,isBoardlessPinsBoard:u,isQuickCreatesBoard:h,onBoardChosen:i,onBoardCreate:o})}):e.name&&Object(d.jsx)(l.f,{column:12,mdColumn:8,paddingY:2,children:Object(d.jsx)(l.cb,{size:"md",weight:"bold",children:e.name})})]})}var B=n("TSYQ"),M=n.n(B),k=n("JKZO"),R=n("Q7uW"),A=n("U4JR");function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class N extends i.Component{constructor(...e){super(...e),L(this,"state",{focused:!1}),L(this,"suggestionAnchorRef",Object(i.createRef)()),L(this,"setRef",e=>this.textAreaRef=e),L(this,"handleBlur",e=>{this.setState({focused:!1});const{onBlur:t}=this.props;t&&t(e)}),L(this,"handleFocus",e=>{this.setState({focused:!0});const{onFocus:t}=this.props;t&&t(e)}),L(this,"handleChange",({text:e,mentions:t})=>{this.props.onDescriptionChange({value:e,userMentionTags:t})})}render(){const{canAddUserMentionTags:e,canEdit:t,description:n,errorMessage:o,initialMentions:r,label:a,placeholder:s,onDescriptionChange:c}=this.props,{focused:u}=this.state;return Object(d.jsxs)(i.Fragment,{children:[Object(d.jsx)(l.q,{}),Object(d.jsxs)(l.f,{mdDisplay:"flex",justifyContent:"between",paddingX:4,paddingY:3,children:[Object(d.jsx)(l.f,{column:12,mdColumn:3,paddingY:2,children:Object(d.jsx)(l.z,{htmlFor:"DescriptionField",children:Object(d.jsx)(l.cb,{size:"md",children:a})})}),t?Object(d.jsxs)(l.f,{column:12,mdColumn:8,children:[Object(d.jsx)(l.f,{children:e?Object(d.jsx)("div",{className:M()("DescriptionField",{DescriptionField__error:!!o,DescriptionField__focus:u}),id:"DescriptionField",ref:this.suggestionAnchorRef,role:"textbox",children:Object(d.jsx)(k.a,{initialMentions:r,initialText:n,onAddMention:()=>{Object(A.b)(8905,{element:116,tag_type:1})},onBlur:this.handleBlur,onChange:this.handleChange,onFocus:this.handleFocus,onSearchMentionCancel:()=>{Object(A.b)(8908,{element:116,tag_type:1})},onSuggestionsPopoverOpen:()=>{Object(A.b)(8907,{element:116,tag_type:1})},maxSuggestions:4,placeholder:s})}):Object(d.jsx)(l.db,{id:"DescriptionField",placeholder:s,value:n,onChange:({value:e})=>{c({value:e,userMentionTags:[]})},hasError:(o||"").length>0})}),!!o&&Object(d.jsx)(l.f,{children:Object(d.jsx)(R.a,{errorMessage:o,htmlFor:"pin-edit-description"})})]}):Object(d.jsx)(l.f,{column:12,mdColumn:8,paddingY:2,children:Object(d.jsx)(l.cb,{size:"md",weight:"bold",children:n})})]})]})}}var U=N,F=n("VJm5"),H=n("rSLd"),z=n("xOLo");function q({isCarousel:e,onMouseEnter:t,onMouseLeave:n,shouldShowCarouselSliders:i,onCarouselSlide:o,currentIndex:r,carouselData:a,pinId:s,description:c,image:u={}}){return Object(d.jsxs)(l.f,{paddingX:4,paddingY:3,children:[e&&(()=>{const e=a&&a.carousel_slots&&a.carousel_slots.length||1;return e>=2&&Object(d.jsx)(l.f,{padding:2,children:Object(d.jsx)(l.z,{htmlFor:"CardsIndex",children:Object(d.jsxs)(l.cb,{size:"md",children:[r+1,"/",e]})})})})(),Object(d.jsx)(l.D,{width:236,children:Object(d.jsxs)(l.f,{onMouseEnter:t,onMouseLeave:n,children:[Object(d.jsxs)(l.D,{rounding:2,wash:!0,children:[e&&i&&Object(d.jsx)(l.f,{width:"100%",height:"100%",display:"inlineBlock",position:"absolute",dangerouslySetInlineStyle:{__style:{zIndex:10,background:"rgba(0, 0, 0, 0.3)"}},children:Object(d.jsx)(z.default,{handleCarouselSwipe:o,carouselIndex:r,carouselData:a,pinId:s,isEditMode:!0})}),e?Object(d.jsx)(F.a,{carouselIndex:r,isCloseup:!1,carouselData:a,pinId:s,isEditMode:!0}):Object(d.jsx)(l.y,{alt:c,color:"#efefef",naturalHeight:u.height,src:u.url,naturalWidth:u.width})]}),e&&Object(d.jsx)(H.default,{carouselIndex:r,carouselData:a,pinId:s,handleCarouselSwipe:o,isEditMode:!0,variant:"legacy"})]})})]})}function G({apiErrorMessage:e,shouldShowGenericUpdateError:t,onClickDeleteButton:n,disableDelete:i,onHide:o,shouldDisableSave:r,triggerBoardAndSectionCreate:a}){const s=Object(c.c)();return Object(d.jsxs)(l.f,{display:"flex",justifyContent:"between",marginStart:-1,marginEnd:-1,children:[Object(d.jsx)(y.a,{id:"delete-pin-button",children:Object(d.jsx)(l.g,{fullWidth:!0,text:s._("Delete","EditPinModal.EditPinFooter.Delete","delete pin"),onClick:n,disabled:i})}),t&&Object(d.jsx)(l.f,{display:"flex",marginStart:2,marginTop:2,justifyContent:"center",children:Object(d.jsx)(R.a,{errorMessage:e||s._("Sorry! There was an error editing your Pin.","EditPinModal.EditPinFooter.ErrorMessageToast","Toast for pin edit error"),htmlFor:"pin-edit-generic-error"})}),Object(d.jsxs)(l.f,{display:"flex",justifyContent:"between",marginStart:-2,marginEnd:-2,children:[Object(d.jsx)(l.f,{paddingX:2,children:Object(d.jsx)(l.g,{fullWidth:!0,text:s._("Cancel","EditPinModal.EditPinFooter.Cancel","cancel changes"),onClick:o})}),Object(d.jsx)(l.f,{paddingX:2,"data-test-id":"edit-pin-save",children:Object(d.jsx)(l.g,{fullWidth:!0,text:s._("Save","EditPinModal.EditPinFooter.Save","save changes"),color:"red",onClick:a,disabled:r})})]})]})}function W({pinNoteText:e,isCollaborative:t,onPinNoteChange:n}){const o=Object(c.c)();return Object(d.jsxs)(i.Fragment,{children:[Object(d.jsx)(l.q,{}),Object(d.jsxs)(l.f,{mdDisplay:"flex",justifyContent:"between",paddingX:4,paddingY:3,children:[Object(d.jsx)(l.f,{column:12,mdColumn:3,paddingY:2,children:Object(d.jsx)(l.z,{htmlFor:"PinNoteField",children:Object(d.jsx)(l.cb,{size:"md",children:t?o._("Note to group","editPinModal.editPinNote.groupTitle","Label for editing private note on group Pin"):o._("Note to self","editPinModal.editPinNote.title","Label for editing private note on Pin")})})}),Object(d.jsx)(l.f,{column:12,mdColumn:8,paddingY:2,children:Object(d.jsx)(l.db,{errorMessage:e.length>=500?o._("Character limit reached","editPinModal.editPinNote.warningText","Text to inform user they have reached the length limit on Pin note"):void 0,id:"PinNoteField",onChange:n,placeholder:o._("Add a private note to remember your ideas about this Pin","editPinModal.editPinNote.placeholderText","Placeholder for editing private note"),value:e})})]})]})}var V=n("NXrh");function K({board:e,canEdit:t,currentSection:n,onSectionChange:i,onSectionCreate:o,sectionId:r,sectionName:a}){const s=Object(c.c)(),u=null!=e&&e.id?V.b:V.a;return"quick_creates"===(null==e?void 0:e.layout)?null:Object(d.jsxs)(l.f,{mdDisplay:"flex",justifyContent:"between",paddingX:4,paddingY:3,children:[Object(d.jsx)(l.f,{column:12,mdColumn:3,paddingY:3,children:Object(d.jsx)(l.z,{htmlFor:"SectionPicker",children:Object(d.jsx)(l.cb,{size:"md",children:s._("Section","label for editing a Pin's board section","label for editing a Pin's board section")})})}),t&&e?Object(d.jsx)(l.f,{column:12,mdColumn:8,children:Object(d.jsx)(u,{board:e,onSectionChange:i,selectedSectionId:r,selectedSectionName:a,onSectionCreate:o})}):Object(d.jsx)(l.f,{column:12,mdColumn:8,paddingY:2,children:Object(d.jsx)(l.cb,{size:"md",weight:"bold",children:n&&!(e||{}).is_collaborative?n.title:s._("No section","default dropdown option for selecting a board section on pin edit","default dropdown option for selecting a board section on pin edit")})})]})}var Y=n("VBRM"),X=n("8Enz"),Q=n("kT2/"),Z=n("6HHy"),$=n("1RGD");function J({keyValueBlocks:e,listBlocks:t,onUpdateKeyValueBlock:n,onUpdateListBlocks:o,templateType:r}){const a=Object(c.c)();return Object(d.jsxs)(l.f,{children:[1===r&&Object(d.jsxs)(i.Fragment,{children:[Object(d.jsxs)(l.f,{paddingY:2,children:[Object(d.jsx)(l.cb,{size:"md",children:a._("Cook time","editModal.editStoryPinModal.details.cookTime","Label for cook time detail")}),Object(d.jsx)(l.f,{paddingY:2,children:Object(d.jsx)($.a,{onUpdate:e=>n(0,e),value:e[0]||null})})]},"cooktime"),Object(d.jsxs)(l.f,{paddingY:2,children:[Object(d.jsx)(l.cb,{size:"md",children:a._("Servings","editModal.editStoryPinModal.details.servings","Label for serving size detail")}),Object(d.jsx)(l.f,{paddingY:2,children:Object(d.jsx)(Z.a,{showLabel:!1,onUpdate:e=>n(1,e),value:e[1]||null})})]},"servingSize")]}),2===r&&Object(d.jsxs)(l.f,{paddingY:2,children:[Object(d.jsx)(l.cb,{size:"md",children:a._("Difficulty","editModal.editStoryPinModal.details.difficulty","Label for difficulty level detail")}),Object(d.jsx)(l.f,{paddingY:2,children:Object(d.jsx)(X.a,{showLabel:!1,onUpdate:e=>n(2,e),value:e[2]||null})})]},"difficulty"),Object(d.jsxs)(l.f,{paddingY:2,children:[Object(d.jsx)(l.cb,{size:"md",children:(()=>{switch(r){case 1:return a._("Ingredients","editModal.editStoryPinModal.listHeading","Heading for an ingredients list");case 2:return a._("Supplies","editModal.editStoryPinModal.listHeading","Heading for a supplies list");default:return a._("What they'll need","editModal.editStoryPinModal.listHeading","Heading for a generic list")}})()}),Object(d.jsx)(l.f,{paddingY:2,children:Object(d.jsx)(Q.a,{listBlocks:t,onUpdate:o})})]})]})}var ee=n("ESls"),te=n("Joxa");var ne=n("vvax"),ie=n("QAzJ"),oe=n("MNxV");var re=Object(o.connect)(()=>({}),e=>({completeResourceFetch:t=>e(Object(f.b)("PinResource",{field_set_key:"detailed",id:t.id},t)),invalidatePin:t=>e(Object(f.f)("PinResource",{field_set_key:"detailed",id:t}))}))((function({apiErrorMessage:e,board:t,completeResourceFetch:n,commentsDisabled:o,description:r,disableDelete:a,invalidatePin:s,isLoadingPin:h,isProcessing:p,onChangeBoard:f,onChangeComment:g,onChangeSection:m,onClickBoardCreate:j,onClickDeleteButton:O,onClickEditPages:y,onClickSectionCreate:x,onHide:_,pinResource:w,sectionId:C,sectionName:S,title:I,triggerBoardAndSectionCreate:E}){var P,D;const B=Object(c.c)(),M=null!==(P=w.data)&&void 0!==P?P:{},k=M.story_pin_data,A=null!==(D=M.images&&M.images["474x"])&&void 0!==D?D:{},[L,N]=Object(i.useState)(!1),[U,F]=Object(i.useState)(null),[H,z]=Object(i.useState)(!1),[q,G]=Object(i.useState)({}),[W,K]=Object(i.useState)([]);Object(i.useEffect)(()=>{var e;const t=(null==k||null===(e=k.metadata)||void 0===e?void 0:e.basics)||null;if(t){const e=Object(te.b)(t);G(e.keyValueBlocks||{}),K(e.listBlocks||[])}},[k]),Object(i.useEffect)(()=>{e&&F(e)},[e]);const X=(e,t)=>{G({...q,[e]:t}),N(!0)},Q=e=>{K(e),N(!0)},{anyEnabled:Z}=Object(ie.b)("web_story_pin_edit_deprecation"),{anyEnabled:$}=Object(ie.b)("web_sp2s"),re=M.created_at?new Date(M.created_at):null,ae=re&&Object(Y.a)(re,14),se=!Z&&!!ae&&new Date<ae,ce=W.length>0||Object.keys(q).length>0,le=$?Object(ne.b)(B._("Edit details and add, delete, or reorder pages up to {{ numDays }} days after your Idea Pin is published. Edit the board and engagement settings any time.","editModal.editStoryPinModal.editTimeInformation","Let the user know how the edit settings are limited"),{numDays:14}):Object(ne.b)(B._("Edit details and add, delete, or reorder pages up to {{ numDays }} days after your Story Pin is published. Edit the board and engagement settings any time.","editModal.editStoryPinModal.editTimeInformation","Let the user know how the edit settings are limited"),{numDays:14});return Object(d.jsx)(v.b,{accessibilityModalLabel:B._("Edit your previously saved pin","editModal.editStoryPinModal.accessibilityLabel","Accessible label for edit previously saved story pin modal"),footer:Object(d.jsxs)(l.u,{alignItems:"stretch",justifyContent:"between",children:[Object(d.jsx)(l.f,{"data-test-id":"delete-pin-button",children:Object(d.jsx)(l.g,{fullWidth:!0,color:"white",disabled:a,onClick:O,size:"lg",text:B._("Delete","editModal.editStoryPinModal.deleteButton","Delete button for previously saved story pin")})}),!!U&&Object(d.jsx)(l.u,{alignItems:"stretch",justifyContent:"center",children:Object(d.jsx)(R.a,{errorMessage:U,htmlFor:"pin-edit-generic-error"})}),Object(d.jsxs)(l.f,{display:"flex",justifyContent:"between",marginEnd:-1,marginStart:-1,children:[Object(d.jsx)(l.f,{paddingX:1,children:Object(d.jsx)(l.g,{fullWidth:!0,onClick:_,size:"lg",text:B._("Cancel","editModal.editStoryPinModal.cancelButton","Cancel button to not save edits to previously saved story pin")})}),Object(d.jsx)(l.f,{"data-test-id":"edit-pin-save",paddingX:1,children:Object(d.jsx)(l.g,{fullWidth:!0,color:"red",onClick:()=>{if(L&&k){z(!0);const e=Object(te.c)({keyValueBlocks:q,listBlocks:W}),t=function(e){var t,n,i,o,r,a,s;return{metadata:{basics:null!==(t=e.metadata)&&void 0!==t&&t.basics?Object(te.a)(e.metadata.basics):void 0,diy_data:null===(n=e.metadata)||void 0===n?void 0:n.diy_data,pin_image_signature:null===(i=e.metadata)||void 0===i?void 0:i.pin_image_signature,pin_title:null===(o=e.metadata)||void 0===o?void 0:o.pin_title,recipe_data:null===(r=e.metadata)||void 0===r?void 0:r.recipe_data,template_type:null===(a=e.metadata)||void 0===a?void 0:a.template_type},pages:(s=e.pages,(null!=s?s:[]).map(e=>{var t,n;const i=(null!==(t=e.blocks)&&void 0!==t?t:[]).map(e=>{switch(e.type){case"story_pin_paragraph_block":return{block_style:e.block_style,style:e.style,text:e.text,type:0};case"story_pin_heading_block":return{block_style:e.block_style,level:e.level,style:e.style,text:e.text,type:1};case"story_pin_image_block":return{block_style:e.block_style,image_signature:e.image_signature,tracking_id:e.tracking_id,type:2};case"story_pin_video_block":return{block_style:e.block_style,tracking_id:e.tracking_id,type:3,video_signature:e.video_signature};default:return null}}).filter(Boolean);return i.length>0?{blocks:i,layout:e.layout,style:null!==(n=e.style)&&void 0!==n&&n.background_color?{background_color:e.style.background_color}:void 0}:null}).filter(Boolean))}}(k),i={...t,metadata:{...t.metadata,basics:e}},o={pin_id:M.id,story_pin:JSON.stringify(i)};b.d.create("StoryPinEditResource",o).callUpdate().then(e=>{const{resource_response:t}=e;s(M.id),n(t.data),E()}).catch(e=>{F(e.message),z(!1)})}else E()},size:"lg",text:B._("Done","editModal.editStoryPinModal.doneButton","Done button to save edits to previously saved story pin")})})]})]}),heading:B._("Edit Pin","editModal.editStoryPinModal.heading","Edit a previously saved story pin"),onDismiss:_,size:"md",children:h||!w.isLoaded||H||p?Object(d.jsx)(l.f,{paddingX:12,paddingY:9,children:Object(d.jsx)(l.U,{accessibilityLabel:B._("Loading edit information","editPinModal.editStoryPinModal.spinner","Accessible label for the edit pin loading icon"),show:!0})}):Object(d.jsx)(l.f,{overflow:"hidden",children:Object(d.jsx)(l.f,{marginEnd:-4,marginStart:-4,children:Object(d.jsx)(ee.a,{name:"web_story_pin_limit_edits",children:({anyEnabled:e})=>{var n,a,s,c,h,b;return Object(d.jsxs)(l.f,{display:"flex",minHeight:300,overflow:"hidden",paddingX:8,children:[Object(d.jsxs)(l.f,{alignItems:"center",direction:"column",display:"flex",flex:"shrink",paddingX:4,children:[Object(d.jsxs)(l.D,{wash:!0,rounding:4,width:120,children:[Object(d.jsx)(l.y,{alt:r,color:"#efefef",naturalHeight:null!==(n=A.height)&&void 0!==n?n:1,naturalWidth:null!==(a=A.width)&&void 0!==a?a:1,src:null!==(s=A.url)&&void 0!==s?s:""}),Object(d.jsx)(l.f,{position:"absolute",left:!0,top:!0,padding:2,children:Object(d.jsxs)(l.f,{alignItems:"center",color:"lightGray",display:"flex",justifyContent:"center",opacity:.8,padding:2,rounding:"pill",children:[Object(d.jsx)(l.w,{accessibilityLabel:$?B._("Idea Pin icon","editModal.editStoryPinModal.storyPinIndicator","Idea Pin icon indicator"):B._("Story Pin icon","editModal.editStoryPinModal.storyPinIndicator","Story Pin icon indicator"),color:"darkGray",icon:"story-pin",size:12}),Object(d.jsx)(l.f,{marginStart:1,children:Object(d.jsx)(l.cb,{size:"md",weight:"bold",children:null===(c=M.story_pin_data)||void 0===c?void 0:c.page_count})})]})})]}),se||!e?Object(d.jsx)(l.f,{"data-test-id":"edit-pages-button",paddingY:2,children:Object(d.jsx)(l.g,{onClick:y,text:B._("Edit pages","editModal.editStoryPinModal.editPagesButton","Edit pages label for story pin creation entry point")})}):null]}),Object(d.jsx)(l.f,{direction:"column",display:"flex",flex:"grow",paddingX:4,children:Object(d.jsx)(l.f,{marginBottom:-2,marginTop:-2,children:Object(d.jsx)(l.f,{maxHeight:500,overflow:"auto",paddingX:1,children:Object(d.jsxs)(l.f,{maxWidth:504,children:[e&&ae&&Object(d.jsx)(l.f,{paddingY:2,children:se?Object(d.jsxs)(i.Fragment,{children:[Object(d.jsx)(l.cb,{size:"md",children:Object(ne.b)(B._("Edit until {{ editDate }}","editModal.editStoryPinModal.lastEditableDate","Let user know the last date this Pin can be edited on"),{editDate:Object(d.jsx)(oe.b,{dateFormatType:oe.a.NUMERIC,useUTC:!1,value:ae},"noEditsTwoWeeksAfter-"+(null!==(h=M.created_at)&&void 0!==h?h:""))})}),Object(d.jsx)(l.f,{paddingY:2,children:Object(d.jsx)(l.cb,{color:"gray",size:"md",children:le})})]}):Object(d.jsxs)(l.f,{children:[Object(d.jsx)(l.cb,{size:"md",children:B._("Editing","editModal.editStoryPinModal.editLabel","Label header for informing users story pin is only editable for board selection")}),Object(d.jsx)(l.f,{paddingY:2,children:Object(d.jsx)(l.cb,{size:"md",color:"gray",children:B._("Only board selection and engagement settings can be changed!","editModal.editStoryPinModal.editLabel","Label header for informing users story pin is only editable for board selection")})})]})}),Object(d.jsxs)(l.f,{paddingY:2,children:[Object(d.jsx)(l.cb,{size:"md",children:B._("Title","editModal.editStoryPinModal.titleLabel","Label for form input where users will input the title of their pin")}),Object(d.jsx)(l.f,{paddingY:2,children:Object(d.jsxs)(l.f,{alignItems:"center",color:"lightGray",display:"flex",justifyContent:"between",padding:4,rounding:4,children:[Object(d.jsx)(l.cb,{color:"gray",lineClamp:1,children:I||""}),Object(d.jsx)(l.w,{accessibilityLabel:B._("Lock","editModal.editStoryPinModal.lockIcon.accessibilityLabel","Label for the lock icon to show that editing a story pin title is locked"),color:"darkGray",icon:"lock"})]})})]}),Object(d.jsxs)(l.f,{paddingY:2,children:[Object(d.jsx)(l.cb,{size:"md",children:B._("Board","editModal.editStoryPinModal.boardLabel","Label for dropdown where users will choose their board")}),Object(d.jsx)(l.f,{paddingY:2,children:t?Object(d.jsx)(T.a,{board:t,isStoryPin:!0,onBoardChosen:f,onBoardCreate:j}):null})]}),Object(d.jsxs)(l.f,{paddingY:2,children:[Object(d.jsx)(l.cb,{size:"md",children:B._("Section","editModal.editStoryPinModal.sectionLabel","Label for dropdown where users will choose their section")}),Object(d.jsx)(l.f,{paddingY:2,children:(null==t?void 0:t.id)&&Object(d.jsx)(V.b,{isStoryPin:!0,board:t,onSectionChange:m,onSectionCreate:x,selectedSectionId:C,selectedSectionName:S})})]}),e&&ce&&se&&Object(d.jsx)(J,{keyValueBlocks:q,listBlocks:W,onUpdateKeyValueBlock:X,onUpdateListBlocks:Q,templateType:null==k||null===(b=k.metadata)||void 0===b?void 0:b.template_type}),M.can_delete_did_it_and_comments&&Object(d.jsxs)(l.f,{paddingY:2,children:[Object(d.jsx)(l.cb,{size:"md",children:B._("Comments and photos permissions","editModal.editStoryPinModal.commentsAndPhotosPermissionsLabel","Label for dropdown where users can toggle off permissions for comments and photos")}),Object(d.jsx)(l.f,{paddingY:2,children:Object(d.jsx)(u,{isNoTitle:!0,commentsDisabled:o,onCommentChange:g})})]})]})})})})]})}})})})})}));function ae({canEdit:e,onTitleChange:t,title:n,errorMessage:o}){const r=Object(c.c)();return Object(d.jsxs)(i.Fragment,{children:[Object(d.jsx)(l.q,{}),Object(d.jsxs)(l.f,{mdDisplay:"flex",justifyContent:"between",paddingX:4,paddingY:3,children:[Object(d.jsx)(l.f,{column:12,mdColumn:3,paddingY:2,children:Object(d.jsx)(l.z,{htmlFor:"TitleField",children:Object(d.jsx)(l.cb,{size:"md",children:r._("Title","Label for editing title of pin","Label for editing title of pin")})})}),Object(d.jsx)(l.f,{column:12,mdColumn:8,children:e?Object(d.jsxs)(i.Fragment,{children:[Object(d.jsx)(l.f,{children:Object(d.jsx)(l.eb,{hasError:(o||"").length>0,id:"TitleField",onChange:t,size:"lg",value:n})}),!!o&&Object(d.jsx)(l.f,{children:Object(d.jsx)(R.a,{errorMessage:o,htmlFor:"pin-edit-title"})})]}):Object(d.jsx)(l.f,{column:12,mdColumn:8,paddingY:2,children:Object(d.jsx)(l.cb,{size:"md",weight:"bold",children:n})})})]})]})}function se({onChangeWebsite:e,link:t,errorMessage:n}){const o=Object(c.c)();return Object(d.jsxs)(i.Fragment,{children:[Object(d.jsx)(l.q,{}),Object(d.jsxs)(l.f,{mdDisplay:"flex",justifyContent:"between",paddingX:4,paddingY:3,children:[Object(d.jsx)(l.f,{column:12,mdColumn:3,paddingY:2,children:Object(d.jsx)(l.z,{htmlFor:"WebsiteField",children:Object(d.jsx)(l.cb,{size:"md",children:o._("Website")})})}),Object(d.jsxs)(l.f,{column:12,mdColumn:8,children:[Object(d.jsx)(l.f,{children:Object(d.jsx)(l.eb,{hasError:(n||"").length>0,id:"WebsiteField",onChange:e,size:"lg",value:t})}),!!n&&Object(d.jsx)(l.f,{children:Object(d.jsx)(R.a,{errorMessage:n,htmlFor:"pin-edit-website"})})]})]})]})}var ce=n("3z7j"),le=n("MhBu"),de=n("x12c"),ue=n("xkL+"),he=n("sH+O"),be=n("OSge"),pe=n("KFEb"),fe=n("r8eU"),ge=n("qVfT"),me=n("NjDU"),je=n("QO9Q"),ve=n("w70y"),Oe=n("eIuQ"),ye=n("0Xtd"),xe=n("pLLR"),_e=n("ANjH"),we=n("Wrea"),Ce=n("c50B"),Se=n("VqlB"),Ie=n("EC67");function Ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Te(e){return Boolean(e&&e.trim().length)}function Pe(e,t){const n=Te(e),i=Te(t);return(n||i)&&e!==t}class De extends i.Component{constructor(...e){var t,n,i,o,r,a,c,l,d,u,p,f,g,m,v,O,y,x;super(...e),Ee(this,"state",{altText:(null===(t=this.props.pinResource.data)||void 0===t?void 0:t.alt_text)||"",board:(null===(n=this.props.pinResource.data)||void 0===n?void 0:n.board)||null,commentsDisabled:(null===(i=this.props.pinResource.data)||void 0===i?void 0:i.comments_disabled)||(null===(o=this.props.pinResource.data)||void 0===o?void 0:o.did_it_disabled)||!1,description:(null===(r=this.props.pinResource.data)||void 0===r||null===(a=r.description)||void 0===a?void 0:a.trim())||"",apiErrorMessage:null,link:(null===(c=this.props.pinResource.data)||void 0===c?void 0:c.link)||"",pinNoteText:(null===(l=this.props.pinResource.data)||void 0===l||null===(d=l.pin_note)||void 0===d?void 0:d.text)||"",sectionId:(null===(u=this.props.pinResource.data)||void 0===u||null===(p=u.section)||void 0===p?void 0:p.id)||null,sectionName:(null===(f=this.props.pinResource.data)||void 0===f||null===(g=f.section)||void 0===g?void 0:g.title)||null,showDeleteConfirmation:!1,carousel_data:(null===(m=this.props.pinResource.data)||void 0===m?void 0:m.carousel_data)||null,title:(null===(v=this.props.pinResource.data)||void 0===v?void 0:v.title)||"",isLoadingPin:!Boolean(this.props.pinResource.isLoaded),isProcessing:!1,currentIndex:void 0!==this.props.carouselSlotCurrentIndex?this.props.carouselSlotCurrentIndex:(null===(O=this.props.pinResource.data)||void 0===O||null===(y=O.carousel_data)||void 0===y?void 0:y.index)||0,shouldApplyTextToAll:!1,shouldDisableSave:!1,shouldShowCarouselSliders:!1,shouldShowValidationTitleError:!1,shouldShowValidationDescriptionError:!1,shouldShowValidationLinkFormatError:!1,shouldShowGenericUpdateError:!1,shouldShowValidationUserMentionTagsError:!1,userMentionTags:(null===(x=this.props.pinResource.data)||void 0===x?void 0:x.user_mention_tags)||[]}),Ee(this,"onClickDeleteButton",()=>this.setState({showDeleteConfirmation:!0})),Ee(this,"onHideConfirmation",()=>this.setState({showDeleteConfirmation:!1})),Ee(this,"updateCarouselSlotIndex",()=>{const{carouselSlotCurrentIndex:e}=this.props;this.setState({currentIndex:void 0!==e?e:this.props.pinResource.data&&this.props.pinResource.data.carousel_data&&this.props.pinResource.data.carousel_data.index||0})}),Ee(this,"handleBoardChange",e=>{const{board:{id:t}}=this.state;e.id!==t&&this.setState({board:e,sectionId:null,sectionName:null})}),Ee(this,"createBoard",e=>{const{createBoard:t}=this.props,{board:n}=this.state;!n.id&&n.name&&e&&t(n.name,e).then(e=>{if(this._isMounted){const{sectionId:t,sectionName:n}=this.state;!t&&n?(this.setState({board:e}),this.createSection()):(this.handleBoardChange(e),this.handleSave())}})}),Ee(this,"handleBoardCreateClick",e=>{if(!e)return;const t={name:e,privacy:h.a.BoardPrivacy.PUBLIC,access:"write"};this.setState({board:t,sectionId:null,sectionName:null})}),Ee(this,"createSection",()=>{const{board:e,sectionName:t}=this.state;if(!t)return;if(!e.id)return void this.createBoard();const n={boardId:e.id,name:t},{createSection:i}=this.props;i(n).then(e=>{this._isMounted&&(this.setState({sectionId:e&&e.id||null,sectionName:e&&e.title||null}),this.handleSave())}).catch(()=>{this.setState({shouldShowGenericUpdateError:!0,apiErrorMessage:null})})}),Ee(this,"handleSectionCreateClick",e=>{if(0===e.length)return;const{board:t}=this.state;t&&this.setState({sectionId:null,sectionName:e})}),Ee(this,"handleSectionChange",e=>this.setState({sectionId:e&&e.id||null,sectionName:e&&e.title||null,shouldShowGenericUpdateError:!1})),Ee(this,"handleDeletePin",()=>{const{advertiser_id:e,changeBoardPinCount:t,changeUserPinCount:n,dispatch:i,onDelete:o,onHide:r,orbacActingAs:a,pinId:s,pinResource:{data:c},removeBoardlessPin:l,viewer:d}=this.props,u=Object(ye.a)(d,a),h={...e?{advertiser_id:e}:{},...u?{orbac_subject_id:u}:Object.freeze({}),id:s};return b.d.create("PinResource",h).callDelete().then(()=>{if(this._isMounted){if(!c)return;const{board:{id:e}={},pinner:{id:a}={},section:l}=c,d=null==l?void 0:l.id;t({boardId:e,sectionId:d,increment:-1}),n({userId:a,increment:-1}),i(Object(we.f)(e)),i(Object(le.a)({feedId:d||e,feedType:d?pe.a.SECTION_PINS:pe.a.BOARD_PINS,itemIds:[s],itemType:"pin"})),d&&i(Object(ce.a)(d)),de.a.instance.publish(a,"pinDeleted"),de.a.instance.publish(s,"pinDeleted"),r(),o&&o()}d.id&&l(d.id,s)})}),Ee(this,"sanitizeCarouselData",e=>{let{carousel_data:t}=this.state;if(e&&(t=e),t){const{carousel_slots:e}=t;if(e){const t={carousel_slots:[]};return e.forEach(e=>{const n={};n.description=e.details||"",n.title=e.title||"",n.link=e.link||"",t.carousel_slots.push(n)}),t}}return null}),Ee(this,"triggerBoardAndSectionCreate",e=>()=>{const{board:t,sectionId:n,sectionName:i}=this.state;t&&!t.id&&t.name?this.createBoard(e):!n&&i?this.createSection():this.handleSave()}),Ee(this,"logPinEditEvent",(e,t,n,i,o)=>{const r={},{pinId:a,view:s,viewParameter:c}=this.props,{userMentionTags:l}=this.state;if(r.objectId=a,r.num_user_mention_tags=l.length,e&&(r.board_was_modified=!0),!e&&t&&(r.board_section_was_modified=!0),n){const{description:e}=this.state,{description:t}=o;r.original_pin_description=t,r.edited_pin_description=e}if(i){const{carousel_data:e}=this.state,{carousel_data:t}=o;r.original_carousel_data=JSON.stringify(this.sanitizeCarouselData(t)),r.edited_carousel_data=JSON.stringify(this.sanitizeCarouselData(e))}Object(A.b)(2,{component:208,view:s,viewParameter:c,...r})}),Ee(this,"handleSave",()=>{this.setState({apiErrorMessage:null,isProcessing:!0});const{advertiser_id:e,completeResourceFetch:t,invalidatePinResource:n,orbacActingAs:i,pinId:o,pinResource:{data:r},onHide:a,removeBoardlessPin:s,updatePinNote:c,viewer:l}=this.props;if(!r)return;const{alt_text:d,board:u,comments_disabled:h,did_it_disabled:p,title:f,description:g,link:m,pin_note:v,section:O,carousel_data:y}=r,x=null==v?void 0:v.text,{carousel_data:_,shouldShowValidationLinkFormatError:w}=this.state;let C;if(_){const e=this.sanitizeCarouselData();e&&(C=JSON.stringify(e))}const{altText:S,board:I,commentsDisabled:E,currentIndex:T,title:P,description:D,pinNoteText:B,sectionId:M,carousel_data:k,userMentionTags:R}=this.state,A=I||u,L=w?m:this.state.link,N=Object(ye.a)(l,i),U={alt_text:S,board_id:null==A?void 0:A.id,board_section_id:M,carousel_data_json:C,description:D,disable_comments:E,disable_did_it:E,id:o,link:L,title:P,user_mention_tags:JSON.stringify(R),...e?{advertiser_id:e}:{},...N?{orbac_subject_id:N}:Object.freeze({})},F=O&&O.id||null,H=null==A?void 0:A.id,z=null==u?void 0:u.id,q=Pe(d,S),G=z!==H,W=(Boolean(F)||Boolean(M))&&F!==M,V=Pe(f,P),K=Pe(g,D),Y=Pe(m,L),X=Boolean(k)&&Boolean(y)&&!j()(k,y),Q=h!==E||p!==E,Z=Pe(x,B);q||G||W||V||K||Z||Y||X||Q?(Z&&c(o,x,B,N),b.d.create("PinResource",U).callUpdate().then(({resource_response:e})=>{if(this._isMounted){const{changeBoardPinCount:c,onSubmit:d,pinId:u,pinMoved:h}=this.props;var i,o;if((G||W)&&H&&z)h({selectedPinIds:[u],source:{boardId:z,sectionId:F},target:{boardId:H,sectionId:M}}),c({boardId:H,sectionId:M||void 0,increment:1}),c({boardId:z,sectionId:F||void 0,increment:-1}),l.id&&"quick_saves"===(null===(i=r.board)||void 0===i?void 0:i.layout)&&s(l.id,u);if(d&&H&&null!=A&&A.url)d({boardId:H,title:null!==(o=A.name)&&void 0!==o?o:"",sectionId:M,url:A.url});a(),n(u,N);const{data:b}=e;b.carousel_data&&(b.carousel_data.index=T),t(b,N),this.logPinEditEvent(G,W,K,X,r)}}).catch(()=>{const{shouldShowValidationTitleError:e,shouldShowValidationDescriptionError:t,shouldShowValidationLinkFormatError:n}=this.state;this.setState({isProcessing:!1,shouldShowGenericUpdateError:!e&&!t&&!n})})):(a(),n(o,N)),this.setState({isProcessing:!1})}),Ee(this,"handleTextChanges",(e,t)=>{const{carousel_data:n}=this.state;if(!n)return;const i=s()(n),{carousel_slots:o=[]}=i,{currentIndex:r,shouldApplyTextToAll:a,description:c,link:l,title:d}=this.state,u=this.valueIsValidForType(e,t);switch(a?o.forEach(n=>n[t]=e):o[r]&&(o[r][t]=e),t){case"details":const t=0===r?e:c;this.setState({description:t,carousel_data:i||null,shouldShowValidationDescriptionError:!u,shouldShowGenericUpdateError:!1});break;case"link":const n=0===r?e:l;this.setState({link:n,carousel_data:i||null,shouldShowValidationLinkFormatError:!u,shouldShowGenericUpdateError:!1});break;case"title":const o=0===r?e:d;this.setState({title:o,carousel_data:i||null,shouldShowValidationTitleError:!u,shouldShowGenericUpdateError:!1})}}),Ee(this,"handleDescriptionChange",({value:e,userMentionTags:t})=>{const n=this.valueIsValidForType(e,"description"),i=this.valueIsValidForType(t,"userMentionTags");t.length<this.state.userMentionTags.length&&Object(A.b)(8906,{element:116,tag_type:1}),this.setState({description:e,userMentionTags:t,shouldShowValidationDescriptionError:!n,shouldShowValidationUserMentionTagsError:!i,shouldShowGenericUpdateError:!1})}),Ee(this,"handleCarouselDetailsChange",({value:e})=>{this.handleTextChanges(e,"details")}),Ee(this,"handleTitleChange",({value:e})=>{const t=this.valueIsValidForType(e,"title");this.setState({title:e,shouldShowValidationTitleError:!t,shouldShowGenericUpdateError:!1})}),Ee(this,"handleCarouselTitleChange",({value:e})=>{this.handleTextChanges(e,"title")}),Ee(this,"handleAltTextChange",({value:e})=>{this.setState({altText:e})}),Ee(this,"valueIsValidForType",(e,t)=>{switch(t){case"details":case"description":return e.length<=500;case"link":return e.length>=0&&0===Object(Ce.s)([Object(Ce.r)({message:this.props.i18n._("Not a valid url.","Validation error for an improperly formated url","Validation error for an improperly formated url")})],e).length;case"title":return e.length<=100;case"userMentionTags":return e.length<=5;default:return!0}}),Ee(this,"handleWebsiteChange",({value:e})=>{const t=this.valueIsValidForType(e,"link");this.setState({link:e,shouldDisableSave:!t,shouldShowValidationLinkFormatError:!t,shouldShowGenericUpdateError:!1})}),Ee(this,"handleCarouselWebsiteChange",({value:e})=>{this.handleTextChanges(e,"link")}),Ee(this,"handleCommentChange",e=>this.setState({commentsDisabled:!e.value})),Ee(this,"handleShouldApplyToAll",e=>{if(e){const{currentIndex:t=0,carousel_data:n}=this.state;if(!n)return;const i=s()(n),{carousel_slots:o=[]}=i,{details:r,link:a,title:c}=o[t];o.forEach(e=>{e.details=r,e.title=c,e.link=a}),this.setState({carousel_data:i,shouldApplyTextToAll:e})}else this.setState({shouldApplyTextToAll:e})}),Ee(this,"handleCarouselSlider",e=>{const{carousel_data:t}=this.state,n=t&&t.carousel_slots&&t.carousel_slots.length||1;e>=0&&e<n&&this.setState({currentIndex:e})}),Ee(this,"handleClickStoryPinPages",()=>{const{pinResource:{data:e},history:t}=this.props;e&&t.push(`/story-pin-builder/${e.id}/edit`)}),Ee(this,"handleMouseEnter",()=>{this.setState({shouldShowCarouselSliders:!0})}),Ee(this,"handleMouseLeave",()=>{this.setState({shouldShowCarouselSliders:!1})})}componentDidMount(){this._isMounted=!0,this.updateCarouselSlotIndex()}componentDidUpdate(e){const{pinResource:{data:t,isLoaded:n},carouselSlotCurrentIndex:i}=this.props;var o;t&&n!==e.pinResource.isLoaded&&this.setState({altText:t.alt_text,board:t.board,commentsDisabled:t.comments_disabled||t.did_it_disabled,description:t.description&&t.description.trim(),isLoadingPin:!1,link:t.link,pinNoteText:(null===(o=t.pin_note)||void 0===o?void 0:o.text)||"",sectionId:(t.section||{}).id,sectionName:(t.section||{}).title,title:t.title,carousel_data:t.carousel_data,currentIndex:void 0!==i?i:t.carousel_data&&t.carousel_data.index||0,shouldApplyTextToAll:!1,userMentionTags:t.user_mention_tags||[]})}componentWillUnmount(){this._isMounted=!1}showErrorToast(e){this.props.toastManagerContext.showOneToast(({onHide:t})=>Object(d.jsx)(x.a,{variant:"error",duration:5e3,onHide:t,text:e})),this.props.onHide()}getCurrentUserId(e){return e.isAuth?e.id:""}render(){var e;const{disableDelete:t,onHide:n,orbacActingAs:i,pinResource:o,pinId:a,requestContext:s,viewer:c}=this.props,{altText:h,apiErrorMessage:b,board:p,commentsDisabled:f,description:g,link:m,pinNoteText:j,sectionId:O,sectionName:y,showDeleteConfirmation:x,title:_,isLoadingPin:w,isProcessing:C,carousel_data:S,shouldApplyTextToAll:T,currentIndex:P,shouldDisableSave:B,shouldShowCarouselSliders:M,shouldShowValidationTitleError:k,shouldShowValidationDescriptionError:R,shouldShowValidationLinkFormatError:A,shouldShowGenericUpdateError:L,shouldShowValidationUserMentionTagsError:N,userMentionTags:F}=this.state;if(x)return Object(d.jsx)(I,{onDeletePin:this.handleDeletePin,onDismiss:this.onHideConfirmation});const H=o.data||{},z=!!(S&&S.carousel_slots&&S.carousel_slots.length>1),V=S&&S.carousel_slots&&S.carousel_slots.length>0&&S.carousel_slots[P]||{},{details:Y="",link:X="",title:Q=""}=V,Z=!!(H&&H.story_pin_data_id&&H.story_pin_data),$=new fe.b(s,"web_business_access_orbac_feature_gate").enabled(),J=H&&(H.access||[]).includes("write")||this.props.canEdit||!!p&&Object(r.a)({action:4,board:p})||$&&!!p&&Object(ye.c)(c,p,i),ee=e=>{let t;if($){const n=Object(ye.a)(e,i);t=n||this.getCurrentUserId(e)}else t=this.getCurrentUserId(e);const n=this.props.canEdit&&this.props.advertiserOwnerUserId?this.props.advertiserOwnerUserId:t;return J&&!H.is_repin&&!Z&&(z||!S)&&(H.native_creator&&H.native_creator.id===n||z&&H.pinner&&H.pinner.id===n||H.link_domain&&H.link_domain.official_user&&H.link_domain.official_user.id===n||!!H.domain&&H.pinner&&H.pinner.id===n&&H.pinner.domain_url&&H.pinner.domain_url.includes(H.domain))},te=H&&H.images&&H.images["474x"]||{},ne=new fe.b(s,"web_story_pin_creator").enabledWithNoActivation(),ie=new fe.b(s,"web_alt_text").enabledWithNoActivation(),oe=H.story_pin_data&&H.story_pin_data.metadata&&H.story_pin_data.metadata.version?Object(he.b)(H.story_pin_data.metadata.version,be.c):null,ce=null!=oe&&oe>=0,le=!!H.story_pin_data&&!!H.story_pin_data.metadata&&!!H.story_pin_data.metadata.is_editable&&H.native_creator&&H.native_creator.id===this.getCurrentUserId(c);if(Z&&ne&&ce&&le)return Object(d.jsx)(re,{apiErrorMessage:b,board:p,commentsDisabled:f,description:g,disableDelete:t,isLoadingPin:w,isProcessing:C,onChangeBoard:this.handleBoardChange,onChangeComment:this.handleCommentChange,onChangeSection:this.handleSectionChange,onClickBoardCreate:this.handleBoardCreateClick,onClickDeleteButton:this.onClickDeleteButton,onClickEditPages:this.handleClickStoryPinPages,onClickSectionCreate:this.handleSectionCreateClick,onHide:n,pinResource:o,sectionId:O,sectionName:y,title:_,triggerBoardAndSectionCreate:this.triggerBoardAndSectionCreate(c)});const de=ee(c)?Object(d.jsx)(ae,{canEdit:J,onTitleChange:z?this.handleCarouselTitleChange:this.handleTitleChange,title:z&&Q?Q:_,errorMessage:k?Object(Oe.b)(z,this.props.i18n):""}):null,ue=(J||c.isAuth&&(H.pinner||{}).id===c.id)&&ee(c)?Object(d.jsx)(U,{canAddUserMentionTags:!z,canEdit:J,description:(z?Y:g)||"",errorMessage:(()=>R?Object(Oe.a)(z,this.props.i18n):N?Object(Oe.d)(z,this.props.i18n):"")(),initialMentions:F,label:this.props.i18n._("Description","Label for editing description","Label for editing description"),placeholder:this.props.i18n._("Tell us about this Pin...","Placeholder for editing description","Placeholder for editing description"),onDescriptionChange:z?this.handleCarouselDetailsChange:this.handleDescriptionChange}):null,pe=Object(d.jsx)(W,{isCollaborative:!(null==p||!p.is_collaborative),onPinNoteChange:({value:e})=>{this.setState({pinNoteText:e})},pinNoteText:j}),ge=(e=>ee(e)&&!(H.aggregated_pin_data&&H.aggregated_pin_data.is_shop_the_look))(c)?Object(d.jsx)(se,{link:z&&X?X:m,onChangeWebsite:z?this.handleCarouselWebsiteChange:this.handleWebsiteChange,errorMessage:A?Object(Oe.c)(z,this.props.i18n):""}):null,me=z?Object(d.jsxs)(l.f,{display:"flex",justifyContent:"end",paddingX:4,paddingY:3,alignItems:"end",children:[Object(d.jsx)(l.f,{paddingY:2,children:Object(d.jsx)(l.z,{htmlFor:"applyTextToAll",children:Object(d.jsx)(l.cb,{children:this.props.i18n._("Apply text to all","Apply title, description, link to all cards","Apply title, description, link to all cards")})})}),Object(d.jsx)(l.f,{paddingX:2,paddingY:2,children:Object(d.jsx)(l.X,{onChange:e=>this.handleShouldApplyToAll(e.value),id:"applyTextToAll",switched:T})})]}):null,je=ee(c)&&ie?Object(d.jsx)(E,{canEdit:J,onAltTextChange:this.handleAltTextChange,altText:h}):null,ve=H.can_delete_did_it_and_comments?Object(d.jsx)(u,{commentsDisabled:f,onCommentChange:this.handleCommentChange}):null,xe=!!c.has_quicksave_board&&!!c.boardCount&&c.boardCount<2,_e="quick_creates"===(null===(e=H.board)||void 0===e?void 0:e.layout);return Object(d.jsx)(v.b,{heading:this.props.i18n._("Edit this Pin","EditPinModal.ModalHeading.EditThisPin","Edit a previously saved pin"),accessibilityModalLabel:this.props.i18n._("Edit your previously saved pin","EditPinModal.ModalHeading.AccessibleLabel","Accessible label for edit previously saved pin modal"),size:xe?"sm":"lg",onDismiss:n,footer:Object(d.jsx)(G,{apiErrorMessage:b,shouldShowGenericUpdateError:L,onClickDeleteButton:this.onClickDeleteButton,disableDelete:t,onHide:n,shouldDisableSave:B,triggerBoardAndSectionCreate:this.triggerBoardAndSectionCreate(c)}),children:w||!o.isLoaded||C?Object(d.jsx)(l.u,{alignItems:"center",justifyContent:"center",children:Object(d.jsx)(l.U,{accessibilityLabel:this.props.i18n._("loading","EditPinModal.LoadingPin.Spinner","Accessible label for the edit pin loading icon"),show:!0})}):Object(d.jsxs)(l.f,{display:"flex",justifyContent:xe?"center":"between",minHeight:350,paddingX:4,children:[xe?null:Object(d.jsxs)(l.f,{column:12,mdColumn:9,children:[Object(d.jsx)(D,{board:p||H.board,canEdit:J,isOriginallyQuickCreatesBoard:_e,onBoardChange:this.handleBoardChange,onBoardCreate:this.handleBoardCreateClick,viewerId:c.id||""}),Object(d.jsx)(K,{board:p||H.board,canEdit:J,onSectionCreate:this.handleSectionCreateClick,onSectionChange:this.handleSectionChange,sectionId:O,sectionName:y,currentSection:H.section}),de,ue,ge,me,je,pe,ve]}),Object(d.jsx)(q,{isCarousel:z,shouldShowCarouselSliders:M,onCarouselSlide:this.handleCarouselSlider,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,currentIndex:this.state.currentIndex,carouselData:this.state.carousel_data,pinId:a,description:g,image:te})]})})}}const Be=(e,t,n)=>({field_set_key:"detailed",id:e,preserve_component_state:t,...n?{orbac_subject_id:n}:Object.freeze({})});const Me=Object(_e.compose)(_.c,Object(o.connect)((function(e){const{advertiser:t,viewer:n}=e;return n.isAuth&&t?{advertiser_id:t.id,...t.owner_user_id!==n.id?{advertiserOwnerUserId:t.owner_user_id}:{},viewer:n}:{viewer:n}}),(e,t)=>({changeBoardPinCount:t=>e(Object(we.d)(t)),changeUserPinCount:t=>e(Object(me.c)(t)),completeResourceFetch:(t,n)=>e(Object(f.b)("PinResource",Be(t.id,!1,n),t)),createBoard:(t,n)=>e(function(e,t){const n={name:e,privacy:h.a.BoardPrivacy.PUBLIC};return e=>b.d.create("BoardResource",n).callCreate().then(n=>{const i=n.resource_response.data;return e(t.username&&Object(f.f)("BoardsResource",Object(p.a)(t.username,!1))),i})}(t,n)),createSection:n=>e(Object(g.a)(n,t.i18n)),invalidatePinResource:(t,n)=>e(Object(f.f)("PinResource",Be(t,!0,n))),removeBoardlessPin:(t,n)=>e(Object(le.a)({feedId:t,feedType:pe.a.BOARDLESS_PINS,itemIds:[n],itemType:"pin"})),pinMoved:Object(_e.bindActionCreators)(Se.b,e),updatePinNote:(t,n,i,o)=>e(Object(ge.a)(t,n,i,o))})))(De);function ke(e){const t=Object(c.c)(),n=Object(je.a)(),i=Object(ue.b)(),r=Object(ye.a)(i,n),a=Object(ve.a)({name:"PinResource",options:Be(e.pinId,!0,r)});return Object(d.jsx)(Me,{...e,dispatch:Object(o.useDispatch)(),history:Object(Ie.h)(),pinResource:a,requestContext:Object(xe.d)(),i18n:t,orbacActingAs:n})}},"5uyJ":function(e,t,n){n.d(t,"a",(function(){return i}));const i={V_HLSV4:"V_HLSV4",V_720P:"V_720P"}},"6/Sz":function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("lNaY");function o(e,t){const n=(((e||{}).rich_metadata||{}).products||[])[0]||{},{shouldUnifyImageSizes:o}=t||{};return n&&n.additional_images&&n.additional_images.length>0?Object(i.a)(e.images,n,e.carousel_data&&e.carousel_data.index,o):e&&e.carousel_data}},"62cf":function(e,t,n){n.d(t,"f",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return r})),n.d(t,"e",(function(){return a})),n.d(t,"i",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"h",(function(){return d})),n.d(t,"g",(function(){return u}));const i=1,o=2,r="female",a="male",s="unspecified",c="en-US",l="US",d=520,u={is_renux:!0,is_simple_renux:!0,steps:[{moduleName:"NuxPicker"},{moduleName:"NuxEducationLoader"}],can_exit:!0,relaunchPlacement:!1,sub_type:"modal"}},"6A0I":function(e,t,n){var i=n("q1tI"),o=n("/MKj"),r=n("JW66"),a=n("Sihc"),s=n("GBVV"),c=n("QO9Q"),l=n("xkL+"),d=n("0Xtd"),u=n("yweb"),h=n("n6mq"),b=n("nKUr");function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class f extends i.Component{constructor(e){super(e),p(this,"onCreateSection",()=>{const{board:e,dispatch:t,completeCreateSectionAction:n,pinImport:i,viewer:o,orbacActingAs:r}=this.props,s=Object(d.a)(o,r);return this.setState({isSaving:!0}),t(Object(a.a)({boardId:e.id,name:this.state.inputName.trim(),pinImport:i},this.props.i18n,s)).then(e=>{this.setState({isSaving:!1}),n(e)}).catch(e=>{this.setState({createError:e.message_detail||e.message,isSaving:!1})})}),p(this,"handleKeyDown",({event:e,value:t})=>{const{createError:n,inputName:i}=this.state;[r.a.KeyCode.ENTER,r.a.KeyCode.NUMPAD_ENTER].includes(e.which)&&!n&&i.trim()&&this.onCreateSection()}),p(this,"handleChangeName",({value:e})=>{this.setState({createError:null,inputName:e})}),p(this,"handleInputRef",e=>{this.setState({inputRef:e})}),this.state={createError:null,inputName:e.initialName||"",inputRef:null,isSaving:!1}}componentDidUpdate(e,t){const{createError:n,inputRef:i}=this.state;!i||t.inputRef&&!n||i.focus()}render(){const{showTitle:e,positionRelative:t}=this.props,{createError:n,inputName:i,isSaving:o}=this.state,r=!!i.trim()&&!n;return Object(b.jsxs)(h.f,{display:"flex",direction:"column",color:"white",flex:"grow",top:!0,bottom:!0,right:!0,position:t?"relative":"absolute",rounding:2,width:"100%",dangerouslySetInlineStyle:{__style:{borderLeft:"1px solid #f5f5f5"}},children:[e&&Object(b.jsx)(h.f,{marginTop:3,paddingX:6,paddingY:3,children:Object(b.jsx)(h.v,{size:"sm",children:this.props.i18n._("Add section","Title in the add section modal","Title in the add section modal")})}),Object(b.jsxs)(h.f,{padding:4,children:[Object(b.jsx)(h.f,{marginBottom:2,children:Object(b.jsx)(h.z,{htmlFor:"sectionEditName",children:Object(b.jsx)(h.cb,{size:"md",color:n?"red":"gray",children:this.props.i18n._("Name","Board section name","Board section name")})})}),Object(b.jsx)(h.f,{children:Object(b.jsx)(h.f,{ref:this.handleInputRef,children:Object(b.jsx)(h.eb,{errorMessage:n||"",id:"sectionEditName",name:"sectionName",onChange:this.handleChangeName,onKeyDown:this.handleKeyDown,placeholder:this.props.i18n._('Like "Lighting"',"Placeholder for board section name","Placeholder for board section name"),size:"lg",type:"text",value:i})})})]}),Object(b.jsx)(h.u,{alignItems:"stretch",justifyContent:"start",flex:"grow"}),Object(b.jsx)(h.f,{padding:4,children:Object(b.jsx)(h.u,{alignItems:"stretch",justifyContent:"end",children:Object(b.jsx)(s.b,{disabled:!r||o,onClick:this.onCreateSection,submitting:o,text:this.props.i18n._("Add","add a new section","add a new section")})})})]})}}t.a=Object(o.connect)()((function(e){const t=Object(u.c)(),n=Object(l.b)(),i=Object(c.a)();return Object(b.jsx)(f,{...e,i18n:t,viewer:n,orbacActingAs:i})}))},"6CFY":function(e,t,n){var i=n("q1tI"),o=n("BcvT"),r=n("n6mq"),a=n("nKUr");const s=new r.t(669),c={1:"up",2:"right",3:"down",4:"left"};t.a=({anchors:e={},complete:t,dismiss:n,displayData:l,idealDirection:d,onCompleteByAnchor:u={},platform:h,positionRelativeToAnchor:b=!0,touchToDismiss:p=!0,useMasonryFlyout:f=!1})=>{var g;const{anchors_by_platform:m={},button_text:j,button_uri:v,display_type:O,flyout_direction:y,scroll_to_dismiss:x,scroll_to_dismiss_delay_in_seconds:_=0,text:w}=l||{},C=null===(g=m[h])||void 0===g?void 0:g.anchor,S=e[C],I=Object(i.useCallback)(()=>{x&&(window.removeEventListener("scroll",I),window.removeEventListener("touchmove",I)),p&&S&&S.removeEventListener("click",I),setTimeout(()=>n(),1e3*_)},[S]);if(Object(i.useEffect)(()=>{S&&(x&&(window.addEventListener("scroll",I),window.addEventListener("touchmove",I)),p&&S.addEventListener("click",I))},[S]),!S)return null;const{FLYOUT:E,PULSAR:T}={FLYOUT:1,PULSAR:2},P=({children:e})=>{if(f)return Object(a.jsx)(r.A,{zIndex:s,children:e});if(O===T){const t={};if(b)t.top=S.offsetTop,t.left=S.offsetLeft,t.width=S.offsetWidth,t.height=S.offsetHeight;else{const e=S.getBoundingClientRect();t.top=e.top+window.pageYOffset,t.left=e.left+window.pageXOffset,t.width=e.width,t.height=e.height}return Object(a.jsx)(r.f,{position:"absolute",top:!0,left:!0,zIndex:s,dangerouslySetInlineStyle:{__style:t},children:e})}return Object(a.jsx)(r.f,{zIndex:s,children:e})},D=c[y],B=v&&(v.startsWith("https://")||v.startsWith("http://")),M=(u||{})[C],k=()=>{x&&(window.removeEventListener("scroll",I),window.removeEventListener("touchmove",I)),p&&S.removeEventListener("click",I),t()};return Object(a.jsxs)(i.Fragment,{children:[O===T&&Object(a.jsx)(P,{children:Object(a.jsx)(o.a,{anchor:S,onTouch:()=>{k(),M?M():S instanceof HTMLElement&&S.click()},zIndex:670})}),O===E&&Object(a.jsx)(P,{children:Object(a.jsx)(r.L,{anchor:S,color:"blue",idealDirection:D||d||"down",onDismiss:I,positionRelativeToAnchor:!f&&b,shouldFocus:!1,showCaret:!0,size:"md",children:Object(a.jsxs)(r.f,{padding:4,width:"220px",children:[Object(a.jsx)(r.cb,{align:"center",color:"white",weight:"bold",children:w}),j?Object(a.jsx)(r.f,{display:"flex",justifyContent:"center",marginTop:4,children:Object(a.jsx)(r.f,{column:8,children:v?Object(a.jsx)(r.g,{fullWidth:!0,color:"white",href:v,onClick:({disableOnNavigation:e})=>{e(),k()},role:"link",size:"md",target:B?"blank":null,text:j}):Object(a.jsx)(r.g,{fullWidth:!0,color:"white",onClick:k,size:"md",text:j})})}):null]})})})]})}},"6G9P":function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("q1tI"),o=(n("JW66"),n("yaUg")),r=n("n6mq"),a=n("nKUr");const s=(e,t,n)=>n?Object(o.a)(e._("Saved to {{sectionName}} in {{boardName}}","Toast for successfully saving to a section within a board","Toast for successfully saving to a section within a board"),{sectionName:n.title,boardName:null!=t?t:""}):Object(a.jsxs)(i.Fragment,{children:[Object(a.jsx)(r.cb,{children:e._("Saved to")}),Object(a.jsx)(r.cb,{weight:"bold",children:t})]})},"6HHy":function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("yweb"),o=n("vvax"),r=n("n6mq"),a=n("nKUr");function s({onUpdate:e,showLabel:t=!0,value:n}){const s=Object(i.c)(),c=[];for(let i=1;i<=50;i+=1)c.push({value:String(i),label:Object(o.b)(s.ngettext("{{ servings }} serving","{{ servings }} servings",i,"storyboard.detailsList.field.servings","Option for number of servings a story pin recipe will provide"),{servings:i}).join("")});return Object(a.jsx)(r.u,{alignItems:"stretch",justifyContent:"start",width:"100%",children:Object(a.jsx)(r.f,{width:"100%",position:"relative",children:Object(a.jsx)(r.S,{size:"lg",id:"servings",name:"servings",label:t?s._("Servings","storyboard.detailsList.field.servings","Header title for serving count entry for story pin recipe"):void 0,placeholder:s._("Pick a serving size","storyboard.detailsList.recipe","Placeholder caption for servings count input in story pin recipe"),value:n,options:c,onChange:({value:t})=>{Number.isNaN(t)||e(t)}})})})}},"6SCp":function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("HJ6M");function o(e){return"most_reactions"===e?"most_reactions":"default"}function r(e,t,n,r){var a,s;const{owner:c,should_show_board_activity:l}=e,d=(null==c?void 0:c.id)===t.id;let u="react_grid_pin";return t.isPartner&&d&&l?u="partner_react_grid_pin_with_board_activity":t.isPartner&&d?u="partner_react_grid_pin":l&&(u="react_grid_pin_with_board_activity"),{board_id:e.id,board_url:null!==(a=e.url)&&void 0!==a?a:"",currentFilter:r,field_set_key:u,filter_section_pins:!r||r===i.a,sort:o(n),layout:null!==(s=e.layout)&&void 0!==s?s:"",page_size:25,redux_normalize_feed:!0}}},"6b3J":function(e,t,n){n.d(t,"b",(function(){return S})),n.d(t,"a",(function(){return I}));var i=n("q1tI"),o=n("/MKj"),r=n("ihsa"),a=n("r9FX"),s=n("n6mq"),c=n("nKUr");const l={__style:{animationName:"SelectInterest_AnimateIn, SelectInterest_CircleAnimateOut",animationDuration:"0.3s, 0.3s",animationDelay:"0.3s, 1s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out",backgroundColor:"rgba(196, 196, 196, 0.1)"}},d={__style:{animationName:"SelectInterest_AnimateIn, SelectInterest_AnimateOut",animationDuration:"0.3s, 0.5s",animationDelay:"0.3s, 1.1s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out"}};var u=function({anchor:e,endAnimation:t,interest:n}){const[o,a]=Object(i.useState)(!1),{width:u,height:h,url:b}=n.images["400x"];let p;const f=()=>{t(n.id)},g=()=>{a(!0),p=setTimeout(f,2e3)};Object(i.useEffect)(()=>((()=>{const e=new Image;e.src=null!=b?b:"",e.onload=g})(),()=>{p&&clearTimeout(p)}),[]);const{top:m,left:j,bottom:v,right:O}=(e||{}).getBoundingClientRect(),y=(m+v)/2+100,x=(j+O)/2-75;return!!e&&o&&Object(c.jsxs)(i.Fragment,{children:[Object(c.jsx)(r.a,{unsafeCSS:"\n@keyframes SelectInterest_AnimateIn {\n  from {\n    transform: scale(0.0);\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n    transform: scale(1.0);\n  }\n}\n@keyframes SelectInterest_CircleAnimateOut {\n  from {\n    transform: scale(1.0);\n    opacity: 1;\n  }\n  to {\n    transform: scale(0.8);\n    opacity: 0;\n  }\n}\n@keyframes SelectInterest_AnimateOut {\n  from {\n    transform: translateX(0) translateY(0) scale(1.0);\n    opacity: 1;\n  }\n  to {\n    transform: translateX(-25px) translateY(-200px) scale(0.1);\n    opacity: 0;\n  }\n}\n"}),Object(c.jsxs)(s.f,{dangerouslySetInlineStyle:{__style:{top:y,left:x}},display:"flex",justifyContent:"center",position:"fixed",width:200,height:200,children:[Object(c.jsx)(s.f,{alignItems:"center",dangerouslySetInlineStyle:l,display:"flex",height:"100%",justifyContent:"center",opacity:0,rounding:"circle",width:"100%"}),Object(c.jsx)(s.f,{bottom:!0,dangerouslySetInlineStyle:d,height:100,left:!0,margin:"auto",opacity:0,position:"absolute",rounding:3,right:!0,top:!0,width:100,children:Object(c.jsx)(s.D,{height:"100%",rounding:4,width:"100%",wash:!0,children:Object(c.jsx)(s.y,{alt:"pin-image",fit:"cover",naturalHeight:null!=u?u:1,naturalWidth:null!=h?h:1,src:null!=b?b:""})})})]})]})},h=n("yweb"),b=n("w70y"),p=n("5MXd"),f=n("vtuW"),g=n("U4JR"),m=n("QAzJ"),j=n("ySR+"),v=n("EC67"),O=n("0G5S"),y=n("0/lc");const x="cubic-bezier(0.66, 0.025, 0.33, 0.975)",_="RelatedInterestsBanner_SlideIn 250ms forwards "+x,w=e=>({view:e,viewParameter:136,component:13489});function C({onDismiss:e,relatedInterests:t,viewType:n}){const l=Object(h.c)(),[d,b]=Object(i.useState)(!0),[m,C]=Object(i.useState)(!1),[S,I]=Object(i.useState)([]),[E,T]=Object(i.useState)(S.reduce((e,t)=>(e[t.id]=!1,e),{})),[P,D]=Object(i.useState)(),[B,M]=Object(i.useState)(),[k,R]=Object(i.useState)(),{viewportSize:A}=Object(o.useSelector)(({ui:e})=>e.app);let L;const N=Object(v.h)(),U=Object(o.useDispatch)();Object(i.useEffect)(()=>{t&&t.length>=5&&(I(t.slice(0,6)),b(!1),Object(g.b)(9025,{view:n}),C((()=>{const e=Object(O.a)("lastViewedMiniRenux");return!!(e&&Date.now()-Number(e)<2592e5)})()),Object(f.c)("viewedMiniRenux",!0),Object(O.c)("lastViewedMiniRenux",Date.now()))},[t]),Object(i.useEffect)(()=>()=>{clearTimeout(P),clearTimeout(B),clearTimeout(L)},[]);const{isTooltipOnLogoButtonShown:F,logoButtonRef:H,toggleTooltipOnLogoButton:z}=Object(j.b)(),q=()=>z(!1),G=()=>z(!0),W=e=>{b(!d);const t=e?{}:{element:179};let i=101;e&&(i=d?107:106),R(!0),L=setTimeout(()=>R(!1),125),Object(g.b)(i,{...w(n),...t})},V=e=>{const t=S.findIndex(t=>t.id===e.id),i=!e.is_followed,o=S.slice();o[t]={...e,is_followed:i},I(o),i&&T({...E,[e.id]:!0}),Promise.resolve(U(Object(y.d)({[e.id]:i},"mini_renux"))).then(()=>{i&&(F?(P&&clearTimeout(P),D(setTimeout(q,7e3))):(B&&clearTimeout(B),P&&clearTimeout(P),M(setTimeout(G,3e3)),D(setTimeout(q,1e4)))),U(Object(y.c)(!0))}),Object(g.b)(101,{...w(n),element:i?1030:1151}),Object(f.c)("completedMiniRenux",!0)},K=e=>T({...E,[e]:!1}),Y=l._("Welcome back!","relatedInterestsBanner.header","Welcome header on related interests banner"),X=l._("Tell us what else you're interested in","relatedInterestsBanner.subheader","Subheader on realted interests banner instructing users to select interests"),Q=Object(c.jsxs)(i.Fragment,{children:[Object(c.jsx)(s.f,{display:"flex",marginStart:-2,children:S.slice(0,3).map(e=>{var t,n,i;const o=e.images["400x"];return o?Object(c.jsx)(s.f,{marginStart:2,rounding:2,children:Object(c.jsx)(s.D,{height:64,rounding:4,width:64,children:Object(c.jsx)(s.y,{alt:l._("Related interest image thumbnail","relatedInterestsBanner.image.thumbnail","Label for related interests image preview thumbnail"),color:e.background_color,fit:"cover",naturalHeight:null!==(t=o.height)&&void 0!==t?t:1,naturalWidth:null!==(n=o.width)&&void 0!==n?n:1,src:null!==(i=o.url)&&void 0!==i?i:""})})},o.url):null})}),Object(c.jsxs)(s.f,{direction:"column",display:"flex",marginEnd:6,paddingX:6,children:[Object(c.jsx)(s.cb,{children:Y}),Object(c.jsx)(s.v,{size:"sm",children:X})]}),Object(c.jsx)(s.g,{onClick:()=>W(!1),text:l._("Choose topics","relatedInterestsBanner.button.chooseTopics","Choose topics button, expands banner to show topics")})]}),Z=Object(c.jsxs)(s.u,{alignItems:"center",direction:"column",justifyContent:"center",children:[Object(c.jsx)(s.cb,{align:"center",children:Y}),Object(c.jsx)(s.v,{align:"center",size:"sm",children:X}),Object(c.jsx)(s.f,{display:"flex",marginStart:-2,paddingY:4,children:S.map(e=>Object(c.jsx)(s.f,{marginStart:2,display:"flex",direction:"column",justifyContent:"start",children:Object(c.jsx)(a.a,{clickHandler:()=>V(e),interest:e,isSelected:e.is_followed,size:"md_120"})},e.id))}),Object(c.jsx)(s.g,{color:"red",disabled:0===S.filter(e=>e.is_followed).length,onClick:()=>{N.push("/"),Object(g.b)(101,{...w(n),element:76})},text:l._("See your new home feed","relatedInterestsBanner.button.seeHomefeed","Submit selected topics and go to updated homefeed button")})]}),$=new s.o([new s.t(p.a)]);return S.length>=5&&!m?Object(c.jsxs)(s.A,{children:[Object(c.jsx)(r.a,{unsafeCSS:(J=128,`\n@keyframes RelatedInterestsBanner_SlideIn {\n  from { transform: translateY(${J}px); }\n  to { transform: translateY(0); }\n}\n`)}),Object(c.jsx)(s.bb,{onTap:d?()=>{}:()=>W(!1),children:Object(c.jsxs)(s.f,{alignItems:"center",bottom:!0,color:"white",dangerouslySetInlineStyle:{__style:{animation:_,WebkitAnimation:_,boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)",cursor:d?"default":"pointer",transition:"min-height 250ms "+x}},display:"flex",minHeight:d?328:128,justifyContent:"center",left:!0,padding:8,position:"fixed",right:!0,zIndex:$,children:[!k&&(d?Z:Q),Object(c.jsx)(s.f,{padding:"lg"===A||d?8:4,position:"lg"===A||d?"absolute":"static",right:!0,top:d,children:Object(c.jsx)(s.x,{accessibilityLabel:l._("Dismiss icon button","relatedInterestsBanner.button.dismiss","Icon button to close banner"),icon:"cancel",iconColor:"darkGray",onClick:e})})]})}),S.map(e=>E[e.id]?Object(c.jsx)(u,{anchor:H,interest:e,endAnimation:K},e.id):null)]}):null;var J}function S({onDismiss:e,pinId:t}){const{data:n}=Object(b.a)({name:"PinInterestsResource",options:{hideFollowed:!0,limit:6,pinId:t}});return Object(c.jsx)(C,{onDismiss:e,relatedInterests:n,viewType:3})}function I({boardId:e,onDismiss:t}){const n=Object(m.a)("web_board_related_interests_banner"),{data:i}=Object(b.a)({name:"ApiResource",options:{url:`/v3/boards/${e}/interests/`,data:{deduping_enabled:!0,hide_followed:!0,limit:6},field_sets:["interest.background_color","interest.follower_count","interest.id","interest.images[400x]","interest.is_followed","interest.name","interest.type","interest.url_name"]}});return i&&i.length>5&&n().anyEnabled?Object(c.jsx)(C,{onDismiss:t,relatedInterests:i,viewType:3}):null}},"6j0b":function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("8A+h");function o({board:e,viewer:t}){return Object(i.a)(t,e)?3069:3070}},"6uti":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,r=i?Symbol.for("react.portal"):60106,a=i?Symbol.for("react.fragment"):60107,s=i?Symbol.for("react.strict_mode"):60108,c=i?Symbol.for("react.profiler"):60114,l=i?Symbol.for("react.provider"):60109,d=i?Symbol.for("react.context"):60110,u=i?Symbol.for("react.async_mode"):60111,h=i?Symbol.for("react.concurrent_mode"):60111,b=i?Symbol.for("react.forward_ref"):60112,p=i?Symbol.for("react.suspense"):60113,f=i?Symbol.for("react.memo"):60115,g=i?Symbol.for("react.lazy"):60116;function m(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case u:case h:case a:case c:case s:case p:return e;default:switch(e=e&&e.$$typeof){case d:case b:case l:return e;default:return t}}case g:case f:case r:return t}}}function j(e){return m(e)===h}t.typeOf=m,t.AsyncMode=u,t.ConcurrentMode=h,t.ContextConsumer=d,t.ContextProvider=l,t.Element=o,t.ForwardRef=b,t.Fragment=a,t.Lazy=g,t.Memo=f,t.Portal=r,t.Profiler=c,t.StrictMode=s,t.Suspense=p,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===h||e===c||e===s||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===f||e.$$typeof===l||e.$$typeof===d||e.$$typeof===b)},t.isAsyncMode=function(e){return j(e)||m(e)===u},t.isConcurrentMode=j,t.isContextConsumer=function(e){return m(e)===d},t.isContextProvider=function(e){return m(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return m(e)===b},t.isFragment=function(e){return m(e)===a},t.isLazy=function(e){return m(e)===g},t.isMemo=function(e){return m(e)===f},t.isPortal=function(e){return m(e)===r},t.isProfiler=function(e){return m(e)===c},t.isStrictMode=function(e){return m(e)===s},t.isSuspense=function(e){return m(e)===p}},"711d":function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},"75Er":function(e,t,n){n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c}));var i=n("q1tI"),o=n("+NLT"),r=n("m2Wt"),a=n("h4v/");function s(e,t){Object(i.useEffect)(()=>{if(e){const t=r.a.fromPlainObject(e);t.setEventType(13),t.setRequestIdentifier(o.a.initialPageContext.PAGE_LOAD_REQUEST_IDENTIFIER),a.a.getInstance().addEvent(t)}},[t])}function c(e){const{children:t,log:n}=e;return s(n),t||null}},"79tv":function(e,t,n){function i(e=""){return e+"_tools/more-ideas/"}n.d(t,"a",(function(){return i}))},"7jH2":function(e,t,n){n.d(t,"a",(function(){return i.a})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return h})),n.d(t,"f",(function(){return b})),n.d(t,"g",(function(){return p})),n.d(t,"h",(function(){return f})),n.d(t,"k",(function(){return m})),n.d(t,"l",(function(){return j})),n.d(t,"m",(function(){return v})),n.d(t,"n",(function(){return O})),n.d(t,"i",(function(){return y})),n.d(t,"j",(function(){return x})),n.d(t,"o",(function(){return _})),n.d(t,"p",(function(){return w})),n.d(t,"q",(function(){return C.a})),n.d(t,"r",(function(){return S})),n.d(t,"s",(function(){return T})),n.d(t,"t",(function(){return P})),n.d(t,"u",(function(){return D})),n.d(t,"v",(function(){return B})),n.d(t,"w",(function(){return M})),n.d(t,"x",(function(){return k})),n.d(t,"y",(function(){return A})),n.d(t,"z",(function(){return L})),n.d(t,"A",(function(){return N})),n.d(t,"B",(function(){return U})),n.d(t,"C",(function(){return H}));var i=n("Nle8");function o(e){return!e.is_promoted}var r=e=>{const t=(e||[]).reduce((e,t)=>t.name?e.concat({name:t.name}):e,[]);return t.length>0?t:null};function a(e){if(e&&e.pin){const t=e.pin.rich_metadata;if(t)return t.products?144:t.article?141:t.recipe?145:139;if(e.pin.story_pin_data)return 157}return 140}var s=n("cr+I"),c=n.n(s),l=n("U4JR");function d({deepLinkBackGoesToBoard:e,goBack:t,pin:n,routePush:i,trafficSource:o,viewer:r,requestContext:s,viewType:d,viewParameterType:u,componentType:h}){Object(l.b)(101,{view:d||3,viewParameter:u||a(Object(C.a)({pin:n})),...h?{component:h}:void 0,element:34});const b="deep_linking"===o&&!e,p=r.partner?"/homefeed/":"/",{utm_source:f,news_hub_id:g}=function(e){const t=c.a.parse(e);return{utm_source:t.utm_source||null,utm_medium:t.utm_medium||null,utm_campaign:t.utm_campaign||null,news_hub_id:t.news_hub_id||null}}(s.fullPath);return""+f=="31"&&g?i("/news_hub/"+g):b?i(p):t()}var u=n("pOug");var h=Object(u.a)(e=>{const{richMetadata:t}=e,{article:n}=t,{name:i,description:o,authors:a,date_published:s}=n||{};return i?{...e,article:{name:i,description:o,authors:r(a),datePublished:s&&new Date(s)||void 0}}:null});var b=Object(u.a)(e=>{const{attribution:t}=e.pin,{author_url:n,url:i,author_name:o,title:r,provider_name:a,cc_url:s,embed:c}=t||{};return a&&i?{...e,attribution:{providerUrl:i,providerName:a,title:r,authorUrl:n,authorName:o,ccUrl:s,embed:c}}:null});var p=Object(u.a)(e=>{const{categorizedIngredients:t}=e.recipe;return t&&t.length>0?{...e,categorizedIngredients:t}:null});var f=Object(u.a)(e=>{const{display_name:t}=e.richSummary;return t?{...e,displayName:t}:null});const g=e=>t=>{const{images:n}=t,i=n[e],{url:o,width:r,height:a}=i||{};return o&&r&&a?{url:o,width:r,height:a}:null},m=Object(u.a)(e=>{const t=g("236x")(e);return t&&{...e,image236x:t}}),j=Object(u.a)(e=>{const t=g("564x")(e);return t&&{...e,image564x:t}}),v=Object(u.a)(e=>{const t=g("736x")(e);return t&&{...e,image736x:t}});var O=Object(u.a)(e=>{const{images:t}=e,n=t.orig,{url:i,width:o,height:r}=n||{};return i&&o&&r?{...e,imageOrig:{url:i,width:o,height:r}}:null});var y=Object(u.a)(e=>{const{embed:t}=e.pin,{type:n,src:i,subtype:o}=t||{};return i?{...e,embed:{type:n,src:i,subtype:o}}:null});var x=Object(u.a)(e=>{const{embed:t}=y(Object(C.a)(e))||{};return!(!t||!t.src||"pinstory"===t.subtype||"gif"===t.type)?{...e,embed:{...t}}:null});var _=Object(u.a)(e=>{const{pin:t}=e,{images:n}=t,i=Object.keys(n||{}).reduce((e,t)=>{const i=n[t],{url:o,width:r,height:a}=i;return e&&o&&r&&a?{...e,[t]:{url:o,width:r,height:a}}:null},{});return i&&Object.keys(i).length>0?{...e,images:i}:null});var w=Object(u.a)(e=>{const{products:t=null}=P(e)&&S(P(e))||{},{pin:n}=e,{tracked_link:i,link:o,method:r}=n,a=i||o,s=a&&("catalog_bulk_create"===r||!!t)?decodeURIComponent(a):a;return s?{...e,link:s}:null}),C=n("O1y+");Object(u.a)(e=>{const{pin:t}=e,{aggregated_pin_data:n}=t,{pin_tags:i}=n||{};return i?{...e,pinTags:i}:null});var S=Object(u.a)(e=>{const{pin:t,richMetadata:n}=e,{buyable_availability:i}=t,{products:o}=n,r=Array.isArray(o)?o.map(e=>{const{name:t,offer_summary:n}=e,{in_stock:o,min_price:r,max_price:a,price:s}=n||{};let c=null;return void 0!==r&&void 0!==a?c=`${r} - ${a}`:void 0!==s&&(c=""+s),t?{name:t,outOfStock:!1===i||!1===o,priceText:c}:null}).filter(e=>null!==e):[];return r.length>0?{...e,products:{first:r[0],rest:r.slice(1)}}:null}),I=n("PsyL");const E=e=>{const{h:t,m:n}=e||{},i={hours:t||0,minutes:n||0};return void 0!==t||void 0!==n?{h:t,m:n,time:i,isoDuration:Object(I.a)(i)}:null};var T=Object(u.a)(e=>{const{richMetadata:t}=e,{recipe:n}=t,{name:i,categorized_ingredients:o,diets:r,from_aggregated_data:a,cook_times:s,servings_summary:c}=n||{},{total:l,cook:d,prep:u}=s||{},{summary:h}=c||{},b=E(u),p=E(d),f=E(l);return i?{...e,recipe:{name:i,categorizedIngredients:o,diets:r,fromAggregatedData:a,prepTime:b,cookTime:p,totalTime:f,servingSummary:h}}:null});var P=Object(u.a)(e=>{const{rich_metadata:t}=e.pin;return t?{...e,richMetadata:t}:null});var D=Object(u.a)(e=>{const{rich_summary:t}=e.pin;return t?{...e,richSummary:t}:null});var B=Object(u.a)(e=>{const{title:t}=e.richMetadata;return t?{...e,title:t}:null});var M=Object(u.a)(e=>{const{pin:t,inChangeTitlesExp:n}=e,{carousel_data:i,title:o,closeup_unified_title:r}=t;let a=n?r:o;if(i){const{carousel_slots:e=[],index:t}=i;e[t]&&e[t].title&&(a=e[t].title)}return a?{...e,title:a}:null});var k=Object(u.a)(e=>{const{richMetadata:t}=e,{tutorial:n}=t,{name:i,description:o,from_aggregated_data:r}=n||{};return n&&i?{...e,tutorial:{name:i,description:o,fromAggregatedData:r}}:null}),R=n("2i+x");var A=Object(u.a)(e=>{const{videos:t}=e.pin,{id:n,video_list:i={}}=t||{},{V_720P:o,V_HLSV4:r,V_HLSV3_MOBILE:a}=i,s=Object(R.a)(r),c=Object(R.a)(a),l=Object(R.a)(o),d=l||s||c;return n&&d?{...e,video:{id:n,hasVideo:d,mp4:l||void 0,hls:s||void 0,hlsv3:c||void 0}}:null});var L=Object(u.a)(e=>{const{video:t}=A(Object(C.a)(e))||{},{embed:n}=y(Object(C.a)(e))||{},i=!(!t||!(e=>{var t,n;const{hlsv3:i,hls:o}=e,r=i||o;return Boolean(!!r&&(null!==(t=r.width)&&void 0!==t?t:0)>(null!==(n=r.height)&&void 0!==n?n:0))})(t))||!(!n||!n.src||"pinstory"===n.subtype||"gif"===n.type);return{...e,isWideVideo:i}});var N=e=>{var t,n,i,o;const{video:r={}}=A(Object(C.a)({pin:e}))||{},a=!!e.story_pin_data&&(null===(t=e.story_pin_data)||void 0===t||null===(n=t.pages)||void 0===n?void 0:n.length)>0&&(null===(i=e.story_pin_data)||void 0===i?void 0:i.pages[0])||{},s=!(null==a||null===(o=a.blocks)||void 0===o||!o.find(e=>!!e.video));return!!r.hasVideo||s};function U({pin:e,boardCount:t}){return(!e.content_sensitivity||!e.content_sensitivity.is_sensitive_content)&&(void 0!==t&&t>=1)}var F=n("Zygf"),H=e=>!(e&&e.pinner&&e.pinner.blocked_by_me||e&&Object(F.a)(e))},"7nh8":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.INIT_COORDS="dnd-core/INIT_COORDS",t.BEGIN_DRAG="dnd-core/BEGIN_DRAG",t.PUBLISH_DRAG_SOURCE="dnd-core/PUBLISH_DRAG_SOURCE",t.HOVER="dnd-core/HOVER",t.DROP="dnd-core/DROP",t.END_DRAG="dnd-core/END_DRAG"},"7pfs":function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("zyj3");function o({children:e}){return e(Object(i.a)())}},"7zq+":function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("Q2/A");const o=/\{\s*(\w+)\s*\}/g;var r=(e,t)=>Object(i.a)(o,e,t);function a({args:e,format:t}){const n=(e||[]).reduce((e,t,n)=>({...e,[n]:t.text}),{});return r(t,n)}},"82UD":function(e,t,n){n.r(t),n.d(t,"default",(function(){return v}));var i=n("q1tI"),o=n("/MKj"),r=n("T+9/"),a=n("ajUs"),s=n("ou9u"),c=n("hFNL"),l=n("yKES"),d=n("5uyJ"),u=n("n6mq"),h=n("nKUr");const b={overlay:{__style:{backgroundColor:"#000"}}};function p(e){var t,n,o,r;const{pin:{id:a,images:s,title:c,videos:p,video_status_message:f}}=e,g=f||{},m=s&&s["236x"],j=p&&(null===(t=p.video_list)||void 0===t?void 0:t[d.a.V_HLSV4]),{duration:v}=j||{};return Object(h.jsx)(i.Fragment,{children:Object(h.jsx)(u.j,{children:Object(h.jsxs)(u.bb,{role:"link",href:"/pin/"+a,rounding:2,children:[Object(h.jsxs)(u.f,{overflow:"hidden",position:"relative",rounding:2,children:[m&&Object(h.jsx)(u.y,{alt:c||"",color:"lightGray",naturalHeight:null!==(n=m.height)&&void 0!==n?n:1,naturalWidth:null!==(o=m.width)&&void 0!==o?o:1,src:null!==(r=m.url)&&void 0!==r?r:""}),!!v&&Object(h.jsx)(u.f,{padding:2,position:"absolute",bottom:!0,left:!0,display:"flex",children:Object(h.jsx)(l.a,{duration:v})}),Object(h.jsx)(u.f,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.4,dangerouslySetInlineStyle:b.overlay}),Object(h.jsxs)(u.f,{position:"absolute",top:!0,left:!0,padding:5,width:"100%",children:[Object(h.jsx)(u.v,{color:"white",overflow:"normal",size:"sm",children:g.title}),Object(h.jsx)(u.f,{marginTop:4,children:Object(h.jsx)(u.cb,{color:"white",size:"md",overflow:"normal",children:g.subtitle})})]})]}),Object(h.jsx)(u.f,{display:"flex",alignItems:"start",justifyContent:"between",marginTop:1,paddingX:1,children:Object(h.jsx)(u.f,{flex:"grow",children:c&&Object(h.jsx)(u.f,{paddingY:1,children:Object(h.jsx)(u.cb,{inline:!0,size:"md",weight:"bold",children:c})})})})]})})})}var f=n("Y8Sn"),g=n("EC67"),m=n("vpxy"),j=n("0nTG");function v({trackingParameters:e,pin:t,pinId:n,...l}){var d,u,b;const v=Object(g.i)(),O=Object(o.useSelector)(({pins:e})=>e[n])||t,y=Object(a.a)(O,v),x=Object(s.a)(O),_=!!(x&&x.url&&x.height&&x.width)||void 0,w=x&&O.videos?O.videos.id:void 0,[C,S]=Object(i.useState)(!1),I=Object(i.useCallback)(()=>S(!0),[]),E=Object(i.useCallback)(()=>S(!1),[]),{componentType:T,contextLogData:P,impressionAuxFields:D,slotIndex:B,viewData:M,viewParameter:k,viewType:R}=e;return Object(h.jsx)(r.a,{componentType:T,contextLogData:{..."undefined"!=typeof window?{pwa_type:Object(c.b)(window)}:{},...P,...Object(j.f)(O,P)},impressionAuxFields:{...D||{},isNativeVideoAndWatchable:_,videoIdStr:w,clientTrackingParams:y||(O.tracking_params||"")+"-0",imageURL:null!==(d=null===(u=O.images)||void 0===u||null===(b=u["236x"])||void 0===b?void 0:b.url)&&void 0!==d?d:"",richTypes:Object(j.e)(O)},impressionType:"Pin",isPaused:!C,loggingId:O.id,slotIndex:B,viewData:M,viewParameter:k,viewType:R,children:Object(f.g)(O)?Object(h.jsx)(p,{pin:O}):Object(h.jsx)(m.a,{...l,debugImpressionState:C?"started":"paused",onError:E,onLoad:I,pin:O,pinId:n,trackingParameters:{componentType:T,contextLogData:P,slotIndex:B,viewParameter:k,viewType:R}})})}},"88U9":function(e,t,n){t.a=({boardCollaboratorCount:e,collaborators:t})=>{const n=e?e+1:t.length,i=n>3,o=t.slice(0,i?2:3);return{displayedCollaborators:o,nonDisplayedCollaboratorCount:i?n-o.length:0}}},"8BbR":function(e,t,n){n.d(t,"a",(function(){return c}));var i=n("eBDd"),o=n("yweb"),r=n("n6mq"),a=n("nKUr");function s({pinCount:e,height:t,size:n}){const s=Object(o.c)(),c=Object(i.a)(s._("+{{ pinCount }}","+N count overlay on pin selections","+N count overlay on pin selections"),{pinCount:e});return Object(a.jsx)(r.f,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0,0,0,.2)"}},display:"flex",justifyContent:"center",height:t,children:"sm"===n?Object(a.jsx)(r.cb,{color:"white",size:"md",weight:"bold",children:c}):Object(a.jsx)(r.v,{color:"white",size:"md",children:c})})}function c({additionalPinCount:e,additionalPinCountSize:t="lg",pin:n,width:i,height:o,rounded:c}){return Object(a.jsx)(r.D,{height:o,width:i,rounding:c?4:0,wash:!0,children:n&&Object(a.jsx)(r.y,{alt:n.description,color:n.dominantColor,fit:"cover",naturalHeight:o,naturalWidth:i,src:n.imageUrl,children:!!e&&Object(a.jsx)(s,{pinCount:e,height:o,size:t})})})}},"8Enz":function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("yweb"),o=n("n6mq"),r=n("nKUr");function a({onUpdate:e,showLabel:t=!0,value:n}){const a=Object(i.c)(),s=[{label:a._("Easy","storyboard.detailsList.field.difficulty","Easy difficulty rating for story pin"),value:String(1)},{label:a._("Medium","storyboard.detailsList.field.difficulty","Medium difficulty rating for story pin"),value:String(2)},{label:a._("Difficult","storyboard.detailsList.field.difficulty","Hard difficulty rating for story pin"),value:String(3)}];return Object(r.jsx)(o.u,{alignItems:"stretch",justifyContent:"start",width:"100%",children:Object(r.jsx)(o.f,{width:"100%",children:Object(r.jsx)(o.S,{size:"lg",id:"servings",name:"servings",label:t?a._("Difficulty","storyboard.detailsList.field.difficulty","Header title for difficulty rating entry for story pin"):void 0,placeholder:a._("Pick a difficulty rating","storyboard.detailsList.field","Placeholder caption for difficulty rating input in story pin"),value:n,options:s,onChange:({value:t})=>{Number.isNaN(t)||e(t)}})})})}},"8cMa":function(e,t,n){var i=n("yweb"),o=n("n6mq"),r=n("nKUr");t.a=function({type:e}){const t=Object(i.c)(),n={group:{accessibilityLabel:t._("group board","Board picker group board icon","Board picker group board icon"),icon:"people"},protected:{accessibilityLabel:t._("protected board","Board picker protected board icon","Board picker protected board icon"),icon:"protect"},secret:{accessibilityLabel:t._("secret board","Board picker secret board icon","Board picker secret board icon"),icon:"lock"},sections:{accessibilityLabel:t._("board with sections","Board picker board with sections icon","Board picker board with sections icon"),icon:"arrow-forward"},sectionsInline:{accessibilityLabel:t._("board with sections","Board picker board with sections icon","Board picker board with sections icon"),icon:"arrow-down"}}[e];return Object(r.jsx)(o.f,{marginStart:1,children:Object(r.jsx)(o.f,{marginStart:2,children:"sections"===e||"sectionsInline"===e?Object(r.jsx)(o.w,{accessibilityLabel:n.accessibilityLabel,icon:n.icon,size:"12",color:"darkGray"}):Object(r.jsx)(o.w,{accessibilityLabel:n.accessibilityLabel,icon:n.icon,size:16,color:"darkGray"})})})}},"9EBm":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("+k3R"),o=n("slCJ"),r=n("4vzw"),a=n("5ARb"),s=n("nrB0"),c=n("nwWm"),l=n("E3gc"),d=n("QWfI"),u=n("2S0S");t.default=function(e,t,n,h){void 0===h&&(h={}),i.default("DragSource","type, spec, collect[, options]",e,t,n,h);var b=e;"function"!=typeof e&&(u(l.default(e),'Expected "type" provided as the first argument to DragSource to be a string, or a function that returns a string given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',e),b=function(){return e}),u(d.isPlainObject(t),'Expected "spec" provided as the second argument to DragSource to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',t);var p=a.default(t);return u("function"==typeof n,'Expected "collect" provided as the third argument to DragSource to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',n),u(d.isPlainObject(h),'Expected "options" provided as the fourth argument to DragSource to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',n),function(e){return o.default({containerDisplayName:"DragSource",createHandler:p,registerHandler:r.default,createConnector:function(e){return new c.default(e)},createMonitor:function(e){return new s.default(e)},DecoratedComponent:e,getType:b,collect:n,options:h})}}},"9Nap":function(e,t,n){var i=n("/9aa");e.exports=function(e){if("string"==typeof e||i(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},"9QW3":function(e,t,n){n.d(t,"a",(function(){return a}));const i={row:0,section:0},o={row:-1,section:-1},r=()=>{};class a{constructor(e){this.index=Object.assign({},i),this.sections=e,this.updateCallback=r,this.selectItem=r}getIndex(){return this.index}isAtStart(){const{row:e,section:t}=this.index;return 0===e&&0===t}isAtEnd(){const{row:e,section:t}=this.index,n=this.sections[t]||[];return this.sections.length===t+1&&n.length===e+1}next(){if(this.isAtEnd())return;const{row:e,section:t}=this.index;e===o.row&&t===o.section?this.index=Object.assign({},i):this.sections[t].length>e+1?this.index.row+=1:(this.index.section+=1,this.index.row=0),this.updateCallback(!0)}prev(){if(this.isAtStart())return;const{row:e,section:t}=this.index;if(e===o.row&&t===o.section)this.index=Object.assign({},i);else if(e>0)this.index.row-=1;else{const e=this.index.section-1;this.index={section:e,row:this.sections[e].length-1}}this.updateCallback(!0)}select(){const{row:e,section:t}=this.index;this.selectItem((this.sections[t]||[])[e])}setInactive(){this.index=Object.assign({},o),this.updateCallback()}setSelectItem(e){this.selectItem=e}setUpdateCallback(e){this.updateCallback=e}updateIndex(e){this.index=e,this.updateCallback()}}},"9X5u":function(e,t,n){var i=n("P9b8"),o=(n("rg+c"),n("aUfZ")),r=n("ANjH");t.a=e=>t=>Object(r.compose)(o.a,Object(i.DropTarget)(e,{},(e,t)=>({connectDropTarget:e.dropTarget(),isDragWithinBounds:t.isOver()})))(t)},"9b+k":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getDataFromDataTransfer=function(e,t,n){var i=t.reduce((function(t,n){return t||e.getData(n)}),"");return null!=i?i:n}},"9ggG":function(e,t,n){var i=n("Z0cm"),o=n("/9aa"),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(i(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||(a.test(e)||!r.test(e)||null!=t&&e in Object(t))}},"9ip6":function(e,t,n){n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}));function i(e,t){return e.itemIndex===t.itemIndex&&e.regionWithinItem===t.regionWithinItem}function o({hoverRelativePosition:{positionRelativeToCenter:{x:e},boundingBox:{width:t}},centerEnabled:n}){const i=n?.5*t:0;return Math.abs(e)<i/2?"center":e<0?"left":"right"}function r({hoverLocation:{itemIndex:e,regionWithinItem:t},sourceIndex:n}){if("center"===t||e===n)return e;const i="left"===t;return e<n===i?e:i?e-1:e+1}},A6Hx:function(e,t,n){n.d(t,"a",(function(){return l}));var i=n("q1tI"),o=n("TgLd"),r=n("yweb"),a=n("n6mq"),s=n("U4JR"),c=n("nKUr");function l({children:e,objectId:t,onHide:n}){const l=Object(r.c)(),d={component:13141,objectId:t};return Object(i.useEffect)(()=>{Object(s.b)(6359,d)},[t]),Object(c.jsx)(o.b,{accessibilityModalLabel:l._("Pincode","pincode.pincodemodal.label","Accessible label for a modal showing the pincode modal"),heading:l._("Pincode","pincode.pincodemodal.heading","Heading for a modal showing the pincode."),onDismiss:()=>{n(),Object(s.b)(6358,d)},size:"sm",children:Object(c.jsx)(a.u,{alignItems:"stretch",justifyContent:"center",children:e})})}},AAEI:function(e,t,n){n.d(t,"a",(function(){return c}));var i=n("q1tI"),o=n("/MKj"),r=n("ANjH"),a=n("vh5K"),s=n("Vzit");function c(e){const t=Object(o.useDispatch)(),n=Object(o.useSelector)(e=>e.experiences.eligibleExperiences),c=Object(o.useSelector)(e=>e.experiences.mountedPlacements);return{experienceForPlacement:e?Object(a.c)(n,c,e):null,...Object(i.useMemo)(()=>Object(r.bindActionCreators)({completeExperience:s.a,dismissExperience:s.b,fetchAllExperiences:s.d,fetchAllExperiencesMulti:s.f,fetchExperienceForPlacement:s.c,triggerExperimentsForPlacement:s.k,viewExperience:s.j},t),[t])}}},"B/xd":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("q1tI"),o=n("2S0S");function r(e,t){"function"==typeof e?e(t):e.current=t}t.default=function(e,t){var n=e.ref;return o("string"!=typeof n,"Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute"),n?i.cloneElement(e,{ref:function(e){r(t,e),n&&r(n,e)}}):i.cloneElement(e,{ref:t})}},B6Tf:function(e,t,n){n.d(t,"a",(function(){return fe})),n.d(t,"b",(function(){return ge}));var i=n("q1tI"),o=n("b/K5"),r=n("/MKj"),a=n("JW66"),s=n("GBVV"),c=n("yweb"),l=n("/WHw"),d=n("pLLR"),u=n("fZbY"),h=n("oRM1"),b=n("FDmi"),p=n("yaUg"),f=n("n6mq"),g=n("nKUr");function m(e){const t=Object(c.c)(),{body:n,img:i,onClick:o,selected:r,title:a,username:s,valid:l}=e,d=s||n;return Object(g.jsx)(f.f,{marginBottom:4,children:Object(g.jsx)(f.bb,{onTap:o,children:Object(g.jsxs)(f.u,{alignItems:"center",direction:"row",justifyContent:"start",width:"100%",children:[i,Object(g.jsxs)(f.f,{flex:"grow",marginEnd:2,marginStart:3,children:[Object(g.jsx)(f.f,{marginBottom:1,children:Object(g.jsx)(f.cb,{lineClamp:1,weight:"bold",children:a})}),Object(g.jsx)(f.cb,{size:"sm",lineClamp:1,children:d})]}),Object(g.jsx)(f.f,{marginStart:2,children:(u=r,h=l,s?u?Object(g.jsx)(f.w,{accessibilityLabel:t._("Confirmation an invite will be sent","Alt tags on a check box on the board create flow for board invites","Alt tags on a check box on the board create flow for board invites"),color:"red",icon:"check-circle",size:32}):Object(g.jsx)(f.f,{dangerouslySetInlineStyle:{__style:{border:"solid 1px #B5B5B5"}},height:32,rounding:"circle",width:32}):Object(g.jsx)(f.g,{color:"gray",disabled:!!u||Boolean(!h),size:"sm",text:u?t._("Sent","Sent a board collaborator invite","Sent a board collaborator invite"):t._("Invite","Add board collaborator invite","Add board collaborator invite")}))})]})})});var u,h}var j=n("w70y"),v=n("ZE2w");function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t,n){const{id:i}=e;return t===n.findIndex(e=>e.id===i)}class x extends i.Component{constructor(...e){super(...e),O(this,"state",{selectedCollaborators:this.props.preselectedCollaborators||[],typeaheadSuggestions:[],value:""}),O(this,"isIdSelected",{}),O(this,"handleTextFieldChange",({value:e})=>{this.setState({value:e})}),O(this,"handleCollaboratorClick",e=>{const{id:t,type:n}=e;this.isIdSelected[t]=!this.isIdSelected[t];const{selectedCollaborators:i}=this.state,o=i.concat([e]),r="email"===n?v.d:v.e;this.props.onSelectedCollaboratorsChange({id:t,resource:r}),this.setState({selectedCollaborators:o})}),O(this,"handleTypeaheadSuggestionsChange",e=>{this.setState({typeaheadSuggestions:e})})}componentDidMount(){this.props.preselectedCollaborators&&this.props.preselectedCollaborators.map(e=>{const{id:t,type:n}=e;this.isIdSelected[t]=!this.isIdSelected[t];const i="email"===n?v.d:v.e;return this.props.onSelectedCollaboratorsChange({id:t,resource:i}),null})}render(){const{value:e}=this.state,{shareSuggestionsResource:{data:t}}=this.props,n=t||[],i=(""===e?this.state.selectedCollaborators.concat(n).filter(y):this.state.selectedCollaborators.concat(this.state.typeaheadSuggestions).concat({type:"email",id:e,valid:Object(u.a)(e)}).concat(n).filter(y)).map(e=>function(e,t,n,i){if("user_share_suggestion"===e.type||"user"===e.type){const i=Object(g.jsx)(b.a,{name:e.title||e.full_name,size:"sm",src:e.image_medium_url||e.image_large_url});return Object(g.jsx)(m,{img:i,onClick:()=>n(e),selected:t,title:e.full_name,username:e.username})}if("email"===e.type){const{id:o,valid:r}=e,a=Object(g.jsx)(f.f,{alignItems:"center",color:"lightGray",display:"flex",height:40,justifyContent:"center",rounding:"circle",width:40,children:Object(g.jsx)(f.w,{accessibilityLabel:i._("Email icon","Email icon on board create modal","Email icon on board create modal"),color:"darkGray",icon:"envelope",size:20})}),s=Object(p.a)(i._("Email {{ email }}"),{email:o});let c,l;return t?(c=i._("Done!","Text that lets the user know we sent the board invite email","Text that lets the user know we sent the board invite email"),l=()=>{}):(c=r?i._("Click to send!","Text that lets the user know they can successfully send a board invite email","Text that lets the user know they can successfully send a board invite email"):i._("Keep typing!","Text that lets a user know the email they are typing is not valid yet","Text that lets a user know the email they are typing is not valid yet"),l=()=>r?n(e):void 0),Object(g.jsx)(m,{body:c,img:a,onClick:l,selected:t,title:s,valid:r})}}(e,this.isIdSelected[e.id],this.handleCollaboratorClick,this.props.i18n)).map((e,t)=>Object(g.jsx)("li",{children:e},t));return Object(g.jsxs)(f.u,{alignItems:"stretch",justifyContent:"start",direction:"column",height:"100%",children:[Object(g.jsx)(f.f,{paddingX:3,paddingY:2,children:Object(g.jsx)(f.cb,{size:"sm",children:this.props.i18n._("Add collaborators (optional)","Optional field to add collaborators to a board on board create","Optional field to add collaborators to a board on board create")})}),Object(g.jsx)(f.f,{marginBottom:4,marginTop:2,paddingX:3,width:"100%",children:Object(g.jsx)(f.f,{flex:"grow",children:Object(g.jsx)(h.a,{onTypeaheadSuggestionsChange:this.handleTypeaheadSuggestionsChange,resourceName:"ShareSuggestionsTypeaheadResource",value:e,children:Object(g.jsx)(f.Q,{accessibilityLabel:this.props.i18n._("Search for collaborators by name or email"),id:"CollaboratorInviteSearchField",onChange:this.handleTextFieldChange,placeholder:this.props.i18n._("Search by name or email"),size:"lg",value:e})})})}),Object(g.jsx)(f.f,{overflow:"scrollY",paddingX:3,children:Object(g.jsx)("ul",{children:i})})]})}}function _(e){const t=Object(c.c)(),n=Object(j.a)({name:"ShareSuggestionsResource",noCache:!0});return Object(g.jsx)(x,{...e,i18n:t,shareSuggestionsResource:n})}var w=Object(l.a)((function({createBoardError:e,inputName:t,nameValidatorErrors:n,onBoardCreate:o,onCancel:r,onChangeBoardName:l,onChangeBoardPrivacy:u,onInvite:h,privacy:b,preselectedCollaborators:p,saving:m,showTitle:j,isAdAccountOwner:v}){const O=Object(c.c)(),{isRTL:y}=Object(d.d)(),x=0===n.length,w=b===a.a.BoardPrivacy.SECRET;return Object(g.jsx)(f.f,{color:"white",height:"100%",left:!0,position:"absolute",top:!0,width:"100%",children:Object(g.jsx)("form",{onSubmit:e=>{e.preventDefault(),o()},style:{height:"100%"},children:Object(g.jsxs)(f.u,{alignItems:"stretch",justifyContent:"start",direction:"column",height:"100%",children:[j&&Object(g.jsx)(f.f,{display:"flex",marginTop:3,paddingX:6,paddingY:3,children:Object(g.jsx)(f.v,{size:"sm",children:O._("Create board")})}),Object(g.jsxs)(f.f,{padding:3,children:[Object(g.jsx)(f.f,{marginBottom:2,children:Object(g.jsx)(f.z,{htmlFor:"boardEditName",children:Object(g.jsx)(f.cb,{size:"sm",children:O._("Name")})})}),Object(g.jsx)(f.f,{children:Object(g.jsx)(f.eb,{errorMessage:n.join(", "),id:"boardEditName",name:"boardName",onChange:({value:e})=>l(e),placeholder:O._('Like "Places to Go" or "Recipes to Make"'),size:"lg",value:t})})]}),v&&Object(g.jsxs)(i.Fragment,{children:[Object(g.jsxs)(f.f,{padding:3,children:[Object(g.jsx)(f.f,{marginBottom:2,children:Object(g.jsx)(f.z,{htmlFor:"secret",children:Object(g.jsx)(f.cb,{size:"sm",children:O._("Secret","secret board","secret board")})})}),Object(g.jsx)(f.f,{children:Object(g.jsx)(f.X,{id:"secret",onChange:u,switched:w})})]}),Object(g.jsx)(f.u,{alignItems:"stretch",justifyContent:"start",flex:"grow",overflow:"hidden",children:Object(g.jsx)(f.f,{width:"100%",children:Object(g.jsx)(_,{onSelectedCollaboratorsChange:h,preselectedCollaborators:p})})})]}),!v&&Object(g.jsx)(i.Fragment,{children:Object(g.jsxs)(f.f,{padding:3,children:[Object(g.jsx)(f.f,{marginBottom:2,children:Object(g.jsx)(f.z,{htmlFor:"protected",children:Object(g.jsx)(f.cb,{size:"sm",children:O._("Protected board (not listed on user's profile)","protected board","protected board")})})}),Object(g.jsx)(f.f,{children:Object(g.jsx)(f.X,{disabled:!0,id:"protected",onChange:()=>{},switched:!0})})]})}),Object(g.jsxs)(f.f,{bottom:!0,color:"white",dangerouslySetInlineStyle:{__style:{boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)",borderBottomLeftRadius:"32px",borderBottomRightRadius:"32px"}},display:"flex",justifyContent:"between",left:y,paddingX:4,paddingY:2,position:"absolute",right:!y,width:720,children:[Object(g.jsx)(f.g,{onClick:r,text:O._("Cancel","cancel board create","cancel board create")}),Object(g.jsxs)(f.u,{alignItems:"stretch",justifyContent:"end",children:[!!e&&Object(g.jsx)(f.f,{paddingX:2,children:Object(g.jsx)(f.cb,{align:"center",color:"red",size:"md",weight:"bold",children:e})}),Object(g.jsx)(s.b,{disabled:!t.trim()||!x||!!e||m,submitting:m,text:O._("Create","create a new board","create a new board")})]})]})]})})})})),C=n("6A0I"),S=n("qyR9"),I=n("0BOE");class E extends i.Component{constructor(...e){var t,n,i;super(...e),i=e=>{const{board:t,sectionsResource:{data:n}}=this.props;return e.length>=2?[{items:Object(I.a)([t],e),customProps:{inSectionSelection:!0}},{items:Object(I.a)(null!=n?n:[],e,"title")}]:[{items:[t],customProps:{inSectionSelection:!0}},{items:null!=n?n:[]}]},(n="getSections")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}render(){const{sectionsResource:{error:e,isLoaded:t},boardSavedTo:n,isSelectMode:i,onSectionCreate:o,onSectionSelected:r,pinId:a}=this.props;return Object(g.jsx)(S.a,{isSelectMode:i,boardSavedTo:n,createButtonLabel:this.props.i18n._("Add section","Button for creating a board section","Button for creating a board section"),hasLoadError:!!e,isLoaded:t,getSections:this.getSections,onCreate:o,onSelected:r,pinId:a})}}function T(e){const t=Object(c.c)(),n=Object(j.a)({name:"BoardSectionsRepinResource",options:{board_id:e.board.id}});return Object(g.jsx)(E,{...e,i18n:t,sectionsResource:n})}var P=n("Wer7"),D=n("U4JR"),B=n("xkL+");function M(e,t,n){return{...e?{pin_id:e}:Object.freeze({}),...t?{username:t}:Object.freeze({}),...n?{advertiser_id:n,filter:"protected"}:Object.freeze({}),field_set_key:"board_picker",limit:undefined,shortlist_suggestions:2}}class k extends i.Component{constructor(...e){var t,n,i;super(...e),i=e=>{const{boardResource:{data:t}}=this.props;if(!t)return[];const{all_boards:n,boards_shortlist:i}=t,o=(e=>{const t=[],n=[];return e.forEach(e=>{var i;null!==(i=e.name)&&void 0!==i&&i.match(/^\d/)?n.push(e):t.push(e)}),[...t,...n]})(n);return o.length<=3?[{items:o}]:e.length>=2?[{items:Object(I.a)(o,e)}]:[i.length?{items:i,title:this.props.i18n._("Top choices")}:{items:[]},{items:o,title:this.props.i18n._("All boards","title for board picker all boards section","title for board picker all boards section")}]},(n="getSections")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}render(){const{boardResource:{data:e,error:t,isLoaded:n},boardSavedTo:i,isSelectMode:o,onBoardCreate:r,onBoardSelected:a,pinId:s}=this.props,c=n&&!!e&&e.all_boards.length<=3;return Object(g.jsx)(S.a,{isSelectMode:o,boardSavedTo:i,hasLoadError:!!t,hasLowBoardCount:c,isLoaded:n,getSections:this.getSections,onCreate:r,onSelected:a,pinId:s})}}function R(e){const t=Object(c.c)(),n=Object(B.b)(),i=Object(r.useSelector)(({advertiser:e})=>{if(n.isAuth&&e&&e.owner_user_id!==n.id)return e.id}),o=Object(r.useSelector)(({advertiser:e})=>{if(n.isAuth&&e&&e.owner_user_id!==n.id)return e.owner_user_id}),a=Object(j.a)({name:"BoardPickerBoardsResource",options:M(e.pinId,o,i)});return Object(g.jsx)(k,{...e,boardResource:a,i18n:t})}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class L extends i.Component{constructor(...e){super(...e),A(this,"state",{inviteQueue:{},newName:"",selectedSectionBoard:this.props.boardWithSection||null,showCreate:this.props.showCreate||!1}),A(this,"close",()=>{const{selectedSectionBoard:e,showCreate:t}=this.state,{onClose:n}=this.props;t&&e?this.setState({showCreate:!1},this.manageModalTitle):e?this.setState({selectedSectionBoard:null},this.manageModalTitle):n()}),A(this,"sendInvites",e=>{const{inviteQueue:t}=this.state;Object.keys(t).forEach(n=>{t[n].resource(e.id,[n])})}),A(this,"handleInvite",e=>{const{inviteQueue:t}=this.state;if(t[e.id]){const n={...t};delete n[e.id],this.setState({inviteQueue:n})}else{const n=Object.assign({},t,{[e.id]:e});this.setState({inviteQueue:n})}}),A(this,"handleBoardCreate",e=>{const{onBoardCreated:t}=this.props;this.handleBoardSave(e,!0),t&&t(e)}),A(this,"handleBoardSave",(e,t)=>{const{selectedSectionBoard:n}=this.state,{onBoardSave:i,invalidatePinBetterSaveResource:o,invalidateResource:r}=this.props;if(r(),o(),n&&"board_section"===e.type){return i(n,e,t)}const a=e,{section_count:s=0}=a;!n&&"number"==typeof s&&s>0?this.setState({selectedSectionBoard:a},this.manageModalTitle):(this.sendInvites(e),i(a,void 0,t))}),A(this,"handleCreate",e=>t=>{t=t||"",this.setState({newName:t,showCreate:!0},this.manageModalTitle);const n=e?13105:13025,i=e?10306:249;Object(D.b)(101,{component:n,element:i})}),A(this,"manageModalTitle",()=>{const{setModalTitle:e}=this.props,{selectedSectionBoard:t,showCreate:n}=this.state;e&&e(n&&t?this.props.i18n._("Add section","Repin title for making a board section","Repin title for making a board section"):n&&!t?this.props.i18n._("Create board","Repin title for making a new board","Repin title for making a new board"):t&&!n?this.props.i18n._("Choose section","Repin title for choosing a board section","Repin title for choosing a board section"):this.props.i18n._("Choose board","Repin title for choosing a board","Repin title for choosing a board"))})}render(){const{boardSavedTo:e,isRepin:t,isSelectMode:n,onToggleFlyout:i,pinId:o,preselectedCollaborators:r,setModalTitle:a,suggestedBoardTitle:s}=this.props,{newName:c,selectedSectionBoard:l,showCreate:d}=this.state,u=!!l,h=!a;return Object(g.jsxs)(f.f,{display:"flex",position:"relative",width:"100%",children:[!d&&Object(g.jsx)(f.f,{direction:"column",display:"flex",marginTop:4,width:"100%",children:l?Object(g.jsx)(T,{board:l,boardSavedTo:e,isSelectMode:n,onSectionCreate:this.handleCreate(u),onSectionSelected:this.handleBoardSave}):Object(g.jsx)(R,{boardSavedTo:e,isSelectMode:n,onBoardCreate:this.handleCreate(u),onBoardSelected:this.handleBoardSave,pinId:o})}),d&&!l&&Object(g.jsx)(w,{onCancel:this.close,onCreate:this.handleBoardCreate,onInvite:this.handleInvite,onToggleFlyout:i,pinId:o,prefilledName:c||s,preselectedCollaborators:r,showTitle:h}),d&&l&&Object(g.jsx)(C.a,{board:l,completeCreateSectionAction:this.handleBoardSave,initialName:c,isRepin:t,onClearModal:this.close,showTitle:h})]})}}var N=Object(r.connect)(null,(function(e,t){return{invalidateResource:()=>{e(Object(P.f)("BoardPickerBoardsResource",M(t.pinId)))},invalidatePinBetterSaveResource:()=>{e(Object(P.f)("BoardPickerBoardsResource",{field_set_key:"board_picker"}))}}}))((function(e){const t=Object(c.c)();return Object(g.jsx)(L,{...e,i18n:t})})),U=n("TgLd"),F=n("v+PR"),H=n("1inl"),z=n("K316"),q=n("TvzZ"),G=n("Ye/N");const W="publish_actions",V={checkFbTimelinePermission:function(e){Object(q.default)((function(t){t.api("/me/permissions",t=>{const n=t.data;let i=!1;if(n){i=!!n.find(e=>e.permission===W&&"granted"===e.status)}i?e.success&&e.success():e.error&&e.error()})}),z.a)},fbConnectedAccountMatchesLoggedInAccount:function(e,t){if(!t)return!0;const n=e.getAuthResponse();return!n||t===n.userID},maybeRequestFbTimelinePermission:function(e,t){Object(q.default)(n=>{if(!V.fbConnectedAccountMatchesLoggedInAccount(n,t))return H.a.showError(G.a._("Oops! Your account is linked to a different Facebook account than the one you're logged into now.")),e.error&&e.error(),void(e.complete&&e.complete());V.checkFbTimelinePermission({success(){e.success&&e.success(),e.complete&&e.complete()},error(){V.fbLogin(e)}})},z.a)},fbLogin:function(e){Object(q.default)(t=>{t.login(t=>{t.authResponse?V.checkFbTimelinePermission(e):e.error&&e.error(),e.complete&&e.complete()},{scope:W})},z.a)}};var K=V,Y=n("G35+"),X=n("mBfy");function Q({onSocialConnect:e}){const t=Object(c.c)(),n=Object(B.b)(),{data:o,isLoaded:r}=Object(j.a)({name:"UserResource",options:{user_id:n&&n.isAuth?n.id:"",field_set_key:"social_connect"}}),[a,s]=Object(i.useState)(!!(r&&o&&o.facebook_publish_stream_enabled)),[l,d]=Object(i.useState)(!!(r&&o&&o.twitter_publish_enabled));if(Object(i.useEffect)(()=>{r&&o&&(s(!!o.facebook_publish_stream_enabled),d(!!o.twitter_publish_enabled))},[o,r]),!o)return null;const{connected_to_facebook:u,twitter_url:h}=o,b=t=>{s(t),X.default.set("facebook_publish_stream_enabled",t),e(Y.a.FACEBOOK,t)};return!(!u&&!h)&&Object(g.jsxs)(f.f,{display:"flex",padding:2,children:[u&&Object(g.jsxs)(f.f,{display:"flex",alignItems:"center",marginStart:2,children:[Object(g.jsx)(f.k,{checked:a,id:"share_facebook",onChange:()=>{a?b(!1):K.maybeRequestFbTimelinePermission({success:()=>b(!0),error:()=>b(!1)})},size:"sm"}),Object(g.jsx)(f.z,{htmlFor:"share_facebook",children:Object(g.jsx)(f.f,{marginStart:2,children:Object(g.jsx)(f.cb,{children:t._("Post to Facebook")})})})]}),h&&Object(g.jsxs)(f.f,{display:"flex",alignItems:"center",marginStart:5,children:[Object(g.jsx)(f.k,{checked:l,id:"share_twitter",onChange:()=>{const t=!l;d(t),e(Y.a.TWITTER,t)},size:"sm"}),Object(g.jsx)(f.z,{htmlFor:"share_twitter",children:Object(g.jsx)(f.f,{marginStart:2,children:Object(g.jsx)(f.cb,{children:t._("Post to Twitter")})})})]})]})}var Z=n("Sihc");var $=({board:e,completeCreateSectionAction:t,height:n,onClose:o,pinImport:a,url:s,width:l})=>{const d=Object(c.c)(),u=Object(r.useDispatch)(),[h,b]=Object(i.useState)(""),[p,m]=Object(i.useState)(!1),[j,v]=Object(i.useState)(null);return Object(g.jsx)(U.b,{accessibilityModalLabel:d._("Repin modal","save.pinToBoard.modal.label","Accessibility label on modal"),heading:Object(g.jsx)(f.f,{padding:8,children:Object(g.jsx)(f.u,{alignItems:"center",children:Object(g.jsx)(f.f,{width:"66%",marginStart:"auto",children:Object(g.jsxs)(f.u,{justifyContent:"between",children:[Object(g.jsx)(f.v,{size:"md",children:d._("Add section","sectionCreateModal.title","Title in the add section modal")}),Object(g.jsx)(f.x,{icon:"cancel",accessibilityLabel:d._("Close","sectionCreateModal.closeButton","close section create modal button"),size:"md",iconColor:"darkGray",onClick:o})]})})})}),footer:Object(g.jsx)(f.u,{children:Object(g.jsx)(f.f,{marginStart:"auto",children:Object(g.jsx)(f.g,{fullWidth:!0,text:d._("Add","sectionCreateModal.add.button","add a new section"),color:"red",onClick:()=>{e&&(m(!0),u(Object(Z.a)({boardId:e.id,name:h.trim(),pinImport:a},d)).then(n=>{t(e,n,!1)}).catch(e=>{v(e.message||e.message_detail)}).finally(()=>{m(!1)}))},disabled:p||!h.trim()||!!j,size:"lg"})})}),onDismiss:o,size:"sm",children:Object(g.jsx)(f.f,{padding:8,children:Object(g.jsxs)(f.u,{children:[Object(g.jsx)(f.D,{rounding:4,height:n,width:l,children:Object(g.jsx)(f.y,{alt:"",fit:"cover",src:s||"",naturalHeight:null!=n?n:1,naturalWidth:null!=l?l:1})}),Object(g.jsx)(f.f,{marginStart:8,dangerouslySetInlineStyle:{__style:{width:l?`calc(100% - ${l}px)`:"100%"}},children:Object(g.jsx)(f.eb,{id:"sectionEditName",onChange:e=>{b(e.value)},placeholder:d._('Like "Lighting"',"sectionCreateModal.boardSection.name","Placeholder for board section name"),label:d._("Name","section.create.label","label text for section input"),size:"lg",type:"text",value:h})})]})})})};function J(){const e=Object(c.c)();return Object(g.jsxs)(f.u,{alignItems:"center",direction:"column",justifyContent:"center",children:[Object(g.jsx)(f.U,{accessibilityLabel:e._("Pins being saved to new sections","save.pin-to-board.PinToBoard.SectionSuggestions.SavingView","accessibility label on spinner"),show:!0}),Object(g.jsx)(f.f,{paddingY:2,children:Object(g.jsx)(f.v,{children:e._("Hold, please...","save.pin-to-board.PinToBoard.SectionSuggestions.SavingView","Heading on modal while saving pins")})}),Object(g.jsx)(f.cb,{children:e._("We're grouping the ideas you picked into sections. This will help organize all your ideas!","save.pin-to-board.PinToBoard.SectionSuggestions.SavingView","Text explaining new pins are being saved")})]})}var ee=n("82UD");function te({index:e,pin:t,sectionName:n}){const o=t.id,r=Object(i.useContext)(de),[a,s]=Object(i.useState)(!1),c=Object(i.useCallback)(({event:e})=>{e.preventDefault(),e.stopPropagation(),r({type:a?"unselect":"select",payload:{sectionName:n,pinId:o}}),s(!a)},[o,a]);return Object(g.jsx)(f.bb,{onTap:c,rounding:4,children:Object(g.jsx)(ee.default,{attributionOption:"hide",blockClickEvents:!0,pin:t,pinId:t.id,pinImageCrop:"none",saveButtonOptions:{type:"none"},selectionState:a?"selected-image-only":"deselected-image-only",surface:"SectionSuggestedPins",trackingParameters:{slotIndex:e}})})}var ne=Object(i.memo)((function({sectionSuggestion:e,showSpinner:t}){const n=Object(c.c)(),o=Object(i.useRef)(),r=Object(j.a)({name:"BatchP2PResource",options:{clientType:"84",page_size:10,pinIds:e.pins.map(e=>e.id)},noCache:!0});return Object(g.jsxs)(i.Fragment,{children:[Object(g.jsx)(f.u,{alignItems:"stretch",justifyContent:"center",width:"100%",children:Object(g.jsx)(f.U,{accessibilityLabel:n._("Loading pins","save.pin-to-board.PinToBoard.SectionSuggestions.SectionPinsSelection","Accessibility label on a loading spinner"),show:t&&r.isFetching})}),r.data&&Object(g.jsx)(f.f,{paddingY:4,paddingX:8,children:Object(g.jsx)(f.v,{align:"start",size:"sm",children:e.name})}),Object(g.jsx)(f.f,{ref:o,children:r.data&&o&&o.current&&Object(g.jsx)(f.E,{columnWidth:152,comp:({data:t,itemIdx:n})=>Object(g.jsx)(te,{index:n,pin:t,sectionName:e.name}),gutterWidth:16,items:r.data||[],loadItems:()=>{},scrollContainer:()=>o.current})})]})}),(e,t)=>e.sectionSuggestion.id===t.sectionSuggestion.id);function ie({canSubmit:e,handleClose:t,handleSubmit:n,sectionSuggestions:o}){const r=Object(c.c)();Object(i.useEffect)(()=>{const e=[];o.forEach(t=>e.push(t.name)),Object(D.b)(13,{suggested_section_names_viewed:e,view:1,viewParameter:3461})},[o]);return Object(g.jsx)(i.Fragment,{children:Object(g.jsxs)(f.f,{width:"100%",children:[Object(g.jsx)(f.f,{minHeight:"100%",marginBottom:12,width:"100%",children:o.map((e,t)=>Object(g.jsx)(f.f,{marginBottom:4,children:Object(g.jsx)(ne,{sectionSuggestion:e,showSpinner:0===t})},e.name))}),Object(g.jsx)(f.f,{bottom:!0,color:"white",dangerouslySetInlineStyle:{__style:{boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)",position:"sticky"}},display:"flex",justifyContent:"end",padding:4,width:720,children:Object(g.jsx)(f.g,{color:e?"red":"gray",size:"lg",text:e?r._("Next","save.pin-to-board.PinToBoard.SectionPinsWrapper","Button to submit form selections"):r._("Skip","save.pin-to-board.PinToBoard.SectionPinsWrapper","Button to submit form selections"),onClick:()=>{e?n():t()}})})]})})}function oe({handleClose:e,handleSubmit:t,suggestions:n}){const o=Object(c.c)(),[r,a]=Object(i.useState)({}),s=!!Object.keys(r).length;return Object(g.jsxs)(f.f,{children:[Object(g.jsx)(f.f,{display:"flex",alignItems:"center",dangerouslySetInlineStyle:{__style:{height:"calc(100% - 88px)"}},children:Object(g.jsx)(f.f,{display:"flex",wrap:!0,height:360,paddingX:6,children:n.map(e=>Object(g.jsx)(f.f,{paddingX:1,height:160,children:Object(g.jsx)(f.bb,{onTap:()=>{const t={...r};t[e.name]?delete t[e.name]:t[e.name]=e,a(t)},rounding:6,children:Object(g.jsx)(f.f,{rounding:7,dangerouslySetInlineStyle:{__style:{border:r[e.name]?"2px solid #111":"2px solid white",padding:"2px"}},children:Object(g.jsxs)(f.f,{height:160,width:152,position:"relative",rounding:6,children:[Object(g.jsx)(f.D,{rounding:6,height:160,width:152,children:Object(g.jsx)(f.y,{alt:e.name,fit:"cover",naturalHeight:e.images["236x"].height,naturalWidth:e.images["236x"].width,src:e.images["236x"].url})}),Object(g.jsx)(f.f,{alignItems:"center",dangerouslySetInlineStyle:{__style:{background:"rgba(0, 0, 0, 0.3)"}},display:"flex",height:160,justifyContent:"center",left:!0,paddingX:5,position:"absolute",rounding:6,top:!0,width:152,children:Object(g.jsx)(f.v,{align:"center",color:"white",size:"sm",children:e.name})})]})})})},e.name))})}),Object(g.jsx)(f.f,{display:"flex",width:"100%",justifyContent:"end",padding:5,children:Object(g.jsx)(f.g,{color:s?"red":"gray",size:"lg",text:s?o._("Next","save.pin-to-board.SectionSuggestionPicker","Button to submit form selections"):o._("Skip","save.pin-to-board.SectionSuggestionPicker","Button to submit form selections"),onClick:()=>{s?t(Object.values(r)):e()}})})]})}var re=n("M1Uz"),ae=n("6G9P"),se=n("0S8y"),ce=n("EC67"),le=n("nGHF");const de=Object(i.createContext)();function ue(e,t){const{sectionName:n,pinId:i}=t.payload,o=[...e[n]||[]];switch(t.type){case"select":return{...e,[n]:[...o,i]};case"unselect":const t=o.indexOf(i);if(o.splice(t,1),!o.length){const t={...e};return delete t[n],t}return{...e,[n]:o};default:throw new Error("Unsupported action received by PinSelectionReducer")}}function he({board:e,handleClose:t,setModalTitle:n,suggestions:o,viewer:a}){const s=Object(c.c)(),[l,d]=Object(i.useState)("sections"),[u,h]=Object(i.useState)([]),[b,p]=Object(i.useState)([]),[f,m]=Object(i.useReducer)(ue,{}),{showOneToast:j}=Object(le.b)(),v=Object(r.useDispatch)(),O=Object(ce.h)(),y=Object(i.useRef)(null);Object(i.useEffect)(()=>()=>{y.current&&clearTimeout(y.current)},[]),Object(i.useEffect)(()=>{const e=[];o.forEach(t=>e.push(t.name)),p(e)},[o]);const x=()=>{Object(D.b)(101,{component:20,view:52})},_=()=>{t(),j(({onHide:t})=>{var n;return Object(g.jsx)(re.a,{duration:fe,onHide:t,text:Object(ae.a)(s,e.name),href:e.url,imageUrl:null!==(n=e.image_cover_url)&&void 0!==n?n:"",onClick:x})}),Object(D.b)(101,{element:1150,view:1,viewParameter:3460,suggested_section_names:b})};return{sections:Object(g.jsx)(oe,{handleClose:_,handleSubmit:e=>{h(e),d("pins"),n&&(Object(se.c)({user:a})?n(s._("Great! Now pick a few ideas to add to your board's new section.","save.pin-to-board.PinToBoard.SectionSuggestions.SectionSuggestionContainerNewUser","Modal title for choosing ideas for a new board")):n(s._("Great! Now pick some ideas to start off with.","save.pin-to-board.PinToBoard.SectionSuggestions.SectionSuggestionContainer","Modal title for choosing ideas for a new board")));const t=[];e.forEach(e=>t.push(e.name)),Object(D.b)(101,{element:96,suggested_section_names_selected:t,suggested_section_names_viewed:b,view:1,viewParameter:3460})},suggestions:o}),pins:Object(g.jsx)(de.Provider,{value:m,children:Object(g.jsx)(ie,{canSubmit:!!Object.keys(f).length,handleClose:_,handleSubmit:()=>{let t=0;d("saving"),n&&n(null);const i=u.reduce((e,t)=>(e[t.name]=null,e),{});let o=0;const r=[];Object.entries({...i,...f}).forEach(([n,i])=>{o+=Array.isArray(i)&&i.length,r.push({[n]:i}),v(Object(Z.a)({boardId:e.id,initialPinIds:i,name:n},s)).then(()=>{t+=1,t===u.length&&(y.current=setTimeout(()=>{var t;O.push(null!==(t=e.url)&&void 0!==t?t:"")},1500),Object(D.b)(101,{element:76,number_pins_selected:o,number_sections_selected:u.length,selected_pin_ids:JSON.stringify(r),suggested_section_names:b,view:1,viewParameter:3460}))})})},sectionSuggestions:u})}),saving:Object(g.jsx)(J,{})}[l]}var be=n("Yo6N");function pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const fe=4e3,ge={LOADING:"loading",SUCCESS:"success"};class me extends i.PureComponent{constructor(...e){super(...e),pe(this,"state",{isFlyoutOpen:!1,isSavingPin:!1,newBoard:null}),pe(this,"pinImageRef",Object(i.createRef)()),pe(this,"unmounted",!1),pe(this,"handleSavePinToBoard",(e,t,n)=>{const{handleSaveToBoard:i,sectionSuggestions:o,setModalTitle:r,viewer:a}=this.props;i(e,t,n),n&&(this.setState({isSavingPin:!0,newBoard:e}),o&&o.length>0&&r&&(Object(se.c)({user:a})?r(this.props.i18n._("You can keep your boards organized with sections. Try adding a section to your new board now!","save.pin-to-board.PinToBoard.SectionPickerModalTitleNewUser","Modal title for selection recommended sections for a new board")):r(this.props.i18n._("Let's build out your new board! What topics will it include?","save.pin-to-board.PinToBoard.SectionPickerModalTitle","Modal title for selection recommended sections for a new board"))))}),pe(this,"handleToggleFlyout",()=>this.setState({isFlyoutOpen:!this.state.isFlyoutOpen})),pe(this,"safeSetState",(e,t)=>{this.unmounted?t&&t():this.setState(e,t)}),pe(this,"close",()=>{const{isFlyoutOpen:e}=this.state,{handleAbort:t}=this.props;e||t()}),pe(this,"dismissModal",e=>{const{dismissModal:t}=this.props;t&&t()})}componentWillUnmount(){this.unmounted=!0}render(){const{boardSavedTo:e,boardWithSection:t,color:n,displaySuccessAnimation:r,handleNewBoardAnimationCompletion:a,handleSocialConnectSet:s,isInModal:c,newPin:l,pin:d,preselectedCollaborators:u,onBoardCreated:h,sectionSuggestions:b,sensitiveContentNotice:p,setModalTitle:m,showCreate:j,shouldRenderContent:v,suggestedBoardTitle:O,updateDescription:y,viewer:x}=this.props;if(!d||!d&&!d.resourceLoaded||!v)return null;const{isSavingPin:_,newBoard:w}=this.state;if(j&&t){var C;const{url:e,width:n,height:i}=(null===(C=d.images)||void 0===C?void 0:C["236x"])||{};return Object(g.jsx)($,{board:t,url:e,height:i,width:n,onClose:this.close,completeCreateSectionAction:this.handleSavePinToBoard})}let S=null;l&&l.board&&(S=l.board.name);const I=p&&p.title||this.props.modalTitle,E=p?Object(g.jsx)(be.a,{inModal:!0,notices:[p]}):Object(g.jsx)(f.u,{alignItems:"stretch",height:"calc(90vh - 97px)",justifyContent:"center",maxHeight:"703px",width:"100%",children:_&&w&&b&&b.length>0?Object(g.jsx)(he,{board:w,handleClose:this.close,setModalTitle:m,suggestions:b,viewer:x}):Object(g.jsxs)(i.Fragment,{children:[Object(g.jsxs)(f.f,{color:"white",display:"flex",height:"100%",overflow:"hidden",position:"relative",rounding:2,width:"100%",children:[Object(g.jsxs)(f.u,{alignItems:"stretch",direction:"column",justifyContent:"between",width:"40%",children:[Object(g.jsx)(f.f,{alignItems:"center",direction:"column",display:"flex",flex:"grow",justifyContent:"start",marginTop:3,children:Object(g.jsx)(F.a,{color:n,pin:d,pinImageRef:this.pinImageRef,updateDescription:y})}),Object(g.jsx)(Q,{onSocialConnect:s})]}),Object(g.jsx)(f.u,{alignItems:"stretch",width:"60%",children:Object(g.jsx)(N,{boardSavedTo:e,boardWithSection:t,isRepin:!0,onBoardCreated:h,onBoardSave:this.handleSavePinToBoard,onClose:this.close,onToggleFlyout:this.handleToggleFlyout,pinId:d.id,preselectedCollaborators:u,setModalTitle:c?m:void 0,showCreate:j,suggestedBoardTitle:O})})]}),r&&Object(g.jsx)(o.a,{onDismiss:()=>{a(),this.dismissModal()},pin:d,pinImageRef:this.pinImageRef,selectedBoardName:S})]})});return c?Object(g.jsx)(U.b,{accessibilityModalLabel:I||this.props.i18n._("Repin modal","save.pin-to-board.PinToBoard.PinToBoard","Accessibility label on modal"),heading:I,onDismiss:this.close,size:"md",children:E}):E}}pe(me,"defaultProps",{pwtAuxData:{}});t.c=function(e){const t=Object(c.c)(),n=Object(B.b)();return Object(g.jsx)(me,{...e,i18n:t,viewer:n})}},B9iM:function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("q1tI"),o=n("/MKj"),r=n("aK+E"),a=n("EC67");function s({dangerouslyDisableFetch:e,options:t}){const n=Object(o.useDispatch)(),s=Object(r.a)(t),c=Object(i.useRef)(),l=Object(i.useRef)(!!e),d=Object(a.h)();return{dispatch:n,isNotFirstOrRevisit:d&&"POP"!==d.action,lastDangerouslyDisableFetch:l,lastOptionsKey:c,optionsKey:s}}},BEzM:function(e,t,n){var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n("7nh8"),r=n("LTlA"),a=n("QLaP");t.default=function(e){return function(t){void 0===t&&(t={});var n=e.getMonitor(),s=e.getRegistry();!function(e){a(e.isDragging(),"Cannot call drop while not dragging."),a(!e.didDrop(),"Cannot call drop twice during one drag operation.")}(n),function(e){var t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}(n).forEach((function(c,l){var d=function(e,t,n,i){var o=n.getTarget(e),s=o?o.drop(i,e):void 0;(function(e){a(void 0===e||r.isObject(e),"Drop result must either be an object or undefined.")})(s),void 0===s&&(s=0===t?{}:i.getDropResult());return s}(c,l,s,n),u={type:o.DROP,payload:{dropResult:i({},t,d)}};e.dispatch(u)}))}}},BUdX:function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("sErn"),o=n("+NLT"),r=n("jZXB");let a=null;const s={fromDesktopContextProps(e){const{context:t,context:{user:n={}}}=e;return{advertiser:t.advertiser?t.advertiser:null,country:t.country,deepLink:t.deep_link,experiments:e.experiments,fullPath:t.full_path,isAmp:!1,isAuthenticated:t.is_authenticated,isBot:"true"===t.is_bot,isSocialBot:!!t.social_bot,isManagedAdvertiser:t.is_managed_advertiser,isRTL:["ar"].includes(t.language),language:t.language,legacyAdvertiser:null,locale:t.locale,loginState:n.login_state||void 0,origin:t.origin,regionFromIp:t.region_from_ip,unauthId:t.unauth_id,userAgent:{browserName:t.browser_name,browserVersion:t.browser_version,canUseNativeApp:t.user_agent_can_use_native_app,isTablet:t.is_tablet_agent,isMobile:t.is_mobile_agent,platform:t.user_agent_platform,platformVersion:t.user_agent_platform_version&&3===t.user_agent_platform_version.length?t.user_agent_platform_version:[0,0,0],raw:t.user_agent}}},fromLegacyContext:e=>({advertiser:e.advertiser?e.advertiser:null,country:e.country,deepLink:e.deep_link,experiments:e.experiments,fullPath:e.full_path,isAmp:!1,isAuthenticated:e.is_authenticated,isBot:"true"===e.is_bot,isSocialBot:!!e.social_bot,isManagedAdvertiser:e.is_managed_advertiser,isRTL:["ar"].includes(e.language),language:e.language,legacyAdvertiser:e.advertiser?e.advertiser:null,locale:e.locale,loginState:e.user&&e.user.login_state||void 0,origin:e.origin,regionFromIp:e.region_from_ip,unauthId:e.unauth_id,userAgent:{browserName:e.browser_name,browserVersion:e.browser_version,canUseNativeApp:e.user_agent_can_use_native_app,isTablet:e.is_tablet_agent,isMobile:e.is_mobile_agent,platform:e.user_agent_platform,platformVersion:e.user_agent_platform_version||[0,0,0],raw:e.user_agent}}),fromGlobalContext(){if(a)return a;const e=s.fromDesktopContextProps({context:o.a.instance,...Object(i.a)(o.a.instance)});var t;return t=o.a.instance,0!==Object.keys(t).length&&(a=e),e},__private_static_provider_fallback_value:()=>({country:"US",deepLink:"",fullPath:"",isAmp:!1,isAuthenticated:!1,isBot:!1,isSocialBot:!1,isManagedAdvertiser:!1,isRTL:!1,language:"en",locale:"en-US",unauthId:"asdasda",origin:"https://example.com",regionFromIp:"CA",userAgent:{browserName:"Chrome",browserVersion:"76.0.3809.132",platform:"OSX",platformVersion:[0,0,0],isTablet:!1,isMobile:!1,raw:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/76.0.3809.132 Safari/537.36"},experiments:new r.a,advertiser:null,legacyAdvertiser:null})}},BcvT:function(e,t,n){var i=n("q1tI"),o=n("n6mq"),r=n("nKUr");function a({anchor:e,children:t,zIndex:n}){const a=Object(i.useRef)(null),[s,c]=Object(i.useState)(0),[l,d]=Object(i.useState)(0),{height:u,width:h}=e.getBoundingClientRect();return Object(i.useEffect)(()=>{const{current:t}=a;if(e&&t){const{height:e,width:n}=t.getBoundingClientRect(),{horizontalOffset:i,verticalOffset:o}=((e,t,n,i)=>({horizontalOffset:-(i/2-t/2),verticalOffset:-(n/2-e/2)}))(u,h,e,n);c(i),d(o)}},[u,h,a.current]),Object(r.jsx)(o.f,{position:"absolute",zIndex:n?new o.t(n):void 0,dangerouslySetInlineStyle:{__style:{left:s,top:l}},ref:a,children:t})}t.a=function(e){const{anchor:t,onTouch:n,onMouseEnter:i,paused:s,size:c,zIndex:l}=e;return t?Object(r.jsx)(a,{anchor:t,zIndex:l,children:Object(r.jsx)(o.bb,{fullWidth:!1,onTap:({event:e})=>n(e),onMouseEnter:i,rounding:"circle",children:Object(r.jsx)(o.M,{paused:s,size:c})})}):null}},Bfq7:function(e,t,n){var i;Object.defineProperty(t,"__esModule",{value:!0});var o=n("QSJg"),r=n("9b+k");t.nativeTypesConfig=((i={})[o.FILE]={exposeProperties:{files:function(e){return Array.prototype.slice.call(e.files)},items:function(e){return e.items}},matchesTypes:["Files"]},i[o.URL]={exposeProperties:{urls:function(e,t){return r.getDataFromDataTransfer(e,t,"").split("\n")}},matchesTypes:["Url","text/uri-list"]},i[o.TEXT]={exposeProperties:{text:function(e,t){return r.getDataFromDataTransfer(e,t,"")}},matchesTypes:["Text","text/plain"]},i)},BkRI:function(e,t,n){var i=n("OBhP");e.exports=function(e){return i(e,5)}},"Bn+j":function(e,t,n){var i=n("q1tI"),o=n("c4Fo"),r=n("NrS9"),a=n("n6mq"),s=n("nKUr");const c=[500329,503259,500410,500688];t.a=({placementId:e})=>{const[t,n]=Object(i.useState)(!0),l=()=>{n(!1)};return Object(s.jsx)(o.a,{placementId:e,experienceIds:c,children:({complete:e,dismiss:n})=>(r.a.instance().subscribe(e,n),t?Object(s.jsx)(a.bb,{fullWidth:!1,onTap:l,children:Object(s.jsx)("div",{className:"experienceSystemPushOverlay"})}):null)})}},CMye:function(e,t,n){var i=n("GoyQ");e.exports=function(e){return e==e&&!i(e)}},CkrQ:function(e,t,n){n.r(t),n.d(t,"__DO_NOT_USE__ActionTypes",(function(){return r})),n.d(t,"applyMiddleware",(function(){return g})),n.d(t,"bindActionCreators",(function(){return u})),n.d(t,"combineReducers",(function(){return l})),n.d(t,"compose",(function(){return f})),n.d(t,"createStore",(function(){return s}));var i=n("bCCX"),o=function(){return Math.random().toString(36).substring(7).split("").join(".")},r={INIT:"@@redux/INIT"+o(),REPLACE:"@@redux/REPLACE"+o(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+o()}};function a(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function s(e,t,n){var o;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(s)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var c=e,l=t,d=[],u=d,h=!1;function b(){u===d&&(u=d.slice())}function p(){if(h)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return l}function f(e){if("function"!=typeof e)throw new Error("Expected the listener to be a function.");if(h)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var t=!0;return b(),u.push(e),function(){if(t){if(h)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");t=!1,b();var n=u.indexOf(e);u.splice(n,1),d=null}}}function g(e){if(!a(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(h)throw new Error("Reducers may not dispatch actions.");try{h=!0,l=c(l,e)}finally{h=!1}for(var t=d=u,n=0;n<t.length;n++){(0,t[n])()}return e}function m(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");c=e,g({type:r.REPLACE})}function j(){var e,t=f;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(p())}return n(),{unsubscribe:t(n)}}})[i.a]=function(){return this},e}return g({type:r.INIT}),(o={dispatch:g,subscribe:f,getState:p,replaceReducer:m})[i.a]=j,o}function c(e,t){var n=t&&t.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function l(e){for(var t=Object.keys(e),n={},i=0;i<t.length;i++){var o=t[i];0,"function"==typeof e[o]&&(n[o]=e[o])}var a,s=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:r.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:r.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+r.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(n)}catch(l){a=l}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var i=!1,o={},r=0;r<s.length;r++){var l=s[r],d=n[l],u=e[l],h=d(u,t);if(void 0===h){var b=c(l,t);throw new Error(b)}o[l]=h,i=i||h!==u}return(i=i||s.length!==Object.keys(e).length)?o:e}}function d(e,t){return function(){return t(e.apply(this,arguments))}}function u(e,t){if("function"==typeof e)return d(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var n={};for(var i in e){var o=e[i];"function"==typeof o&&(n[i]=d(o,t))}return n}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(n,!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function g(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),i=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},o={getState:n.getState,dispatch:function(){return i.apply(void 0,arguments)}},r=t.map((function(e){return e(o)}));return p({},n,{dispatch:i=f.apply(void 0,r)(n.dispatch)})}}}},DBEV:function(e,t,n){var i=n("q1tI");var o={backgroundColor:"transparent"},r={backgroundColor:"rgba(216, 216, 216, 0.37)"},a={borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},s={outline:"0"},c=n("n6mq"),l=n("nKUr");function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends i.Component{constructor(...e){super(...e),d(this,"state",{hovered:!1}),d(this,"handleMouseEnter",()=>this.setState({hovered:!0})),d(this,"handleMouseLeave",()=>this.setState({hovered:!1}))}render(){const{backgroundHaloSize:e,onClick:t}=this.props,n={height:e,width:e},i={border:0,display:"block",background:"transparent",cursor:"pointer",...s},d={...a,...o,...this.state.hovered?r:{}};return Object(l.jsx)("button",{type:"button",style:i,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onClick:e=>t&&t({event:e}),children:Object(l.jsx)("div",{style:{...n,...d},children:Object(l.jsx)(c.f,{rounding:"circle",children:Object(l.jsx)(c.w,{accessibilityLabel:"",icon:"flag",size:e/2,color:"lightGray"})})})})}}t.a=u},"Dw+G":function(e,t,n){var i=n("juv8"),o=n("mTTR");e.exports=function(e,t){return e&&i(t,o(t),e)}},E2hd:function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("n6mq"),o=n("nKUr");function r(e){const{accessibilityLabel:t,bgColor:n,icon:r,onClick:a,selected:s,size:c}=e;return Object(o.jsx)(i.x,{accessibilityLabel:t,bgColor:null!=n?n:"transparent",icon:r,iconColor:"darkGray",onClick:a,selected:s,size:null!=c?c:"lg"})}},E3gc:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t,n){return"string"==typeof t||"symbol"==typeof t||!!n&&Array.isArray(t)&&t.every((function(t){return e(t,!1)}))}},E8d4:function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("q1tI"),o=n("nKUr");function r({children:e,fallback:t,dangerouslyServerRenderForGraphQL:n=!1}){const r=t||null;return Object(o.jsx)(i.Suspense,{fallback:r,children:e})}},EC51:function(e,t,n){var i=n("q1tI"),o=n("zwad"),r=n("n6mq"),a=n("gqRH"),s=n("nKUr");const c=Object(i.forwardRef)((e,t)=>{const{accessibilityLabel:n,children:i,forceTarget:c,hoverStyle:l,href:d,id:u,inline:h,onBlur:b,onClick:p,onFocus:f,rel:g,target:m}=e,j=o.a.isOffsiteUrl(d);return Object(s.jsx)(a.a,{href:d,target:!c&&j?null:m,children:({handleClick:e})=>Object(s.jsx)(r.C,{accessibilityLabel:n,hoverStyle:l,href:d,id:u,inline:h,onBlur:b,onClick:({event:t,disableOnNavigation:n})=>{n(),null==p||p({event:t}),e({event:t})},onFocus:f,ref:t,rel:j?"nofollow":g,target:c?m:null,children:i})})});c.displayName="Link",t.a=c},EEGq:function(e,t,n){var i=n("juv8"),o=n("oCl/");e.exports=function(e,t){return i(e,o(e),t)}},ELJR:function(e,t,n){n.d(t,"a",(function(){return h}));var i=n("KPZG"),o=n("T+9/"),r=n("7zq+"),a=n("yjg8"),s=n("U4JR"),c=n("flQA"),l=n("n6mq"),d=n("nKUr");const u=a.f;function h({contextLogData:e,bubbles:t,id:n,referringSource:a,slotIndex:h,storyType:b,title:p,titleIcon:f,viewType:g,viewParameter:m}){const j=t.map(({type:e,id:t})=>e+":"+t).join("|");return Object(d.jsx)(o.a,{viewType:g,componentType:200,viewParameter:m,loggingId:n,contextLogData:{story_type:b,objectId:n,content_ids:j,...e},impressionType:"Story",slotIndex:h,children:Object(d.jsxs)(l.f,{children:[p&&Object(d.jsxs)(l.f,{display:"flex",marginBottom:1,justifyContent:"center",alignItems:"center",children:["number"==typeof f&&f!==c.a&&Object(d.jsx)(l.f,{marginEnd:2,dangerouslySetInlineStyle:{__style:{paddingTop:1}},children:Object(d.jsx)(l.w,{accessibilityLabel:"",color:"darkGray",icon:Object(c.b)(f),size:14})}),Object(d.jsx)(l.cb,{weight:"bold",children:Object(r.a)(p)})]}),t.map((e,t)=>Object(d.jsx)(l.f,{paddingY:1,flex:"none",children:Object(d.jsx)(i.a,{bubble:e,onClick:e=>{Object(s.b)(101,{objectId:e,view:g,viewParameter:m,component:200})},referringSource:a,height:103,width:u,storyId:n,viewType:g,viewParameter:m,slotIndex:t,contextLogData:{content_ids:j,story_type:b}})},"bubble-"+e.id))]})})}},ESls:function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("0rqB"),o=n("pLLR"),r=n("nKUr");function a({activate:e,children:t,isEligible:n,name:a}){return Object(r.jsx)(o.b,{children:o=>Object(r.jsx)(i.a,{activate:e,activateExperiment:e=>o.experiments.v2ActivateExperiment(e)||"",group:o.experiments.v2GetGroup(a)||"",isEligible:n,name:a,children:t})})}},EhF7:function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("yweb"),o=(n("lXCh"),n("nKUr"));function r({children:e}){return Object(o.jsx)("div",{className:"withoutBoxShadow",children:e})}var a=n("n6mq");function s({children:e,onClick:t}){const n=Object(i.c)();return Object(o.jsxs)("div",{className:"relative",children:[Object(o.jsx)(a.f,{bottom:!0,left:!0,right:!0,top:!0,position:"absolute",children:Object(o.jsx)(r,{children:Object(o.jsx)(a.bb,{accessibilityLabel:n._("Drag and drop item","BulkEditPinWrapper.tapArea.accessibilityLabel","Label for item that can be dragged and dropped."),fullHeight:!0,fullWidth:!0,onTap:({event:e})=>{e.preventDefault(),e.stopPropagation(),t()},rounding:2})})}),Object(o.jsx)(a.f,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},children:e})]})}},EwHv:function(e,t,n){n.d(t,"a",(function(){return g}));var i=n("q1tI"),o=n("+wrf"),r=n("3j7w"),a=n("yweb"),s=n("n6mq"),c=n("nKUr");function l({fetchMore:e,invites:t,isAtEnd:n,isFetching:i,onBoardLeave:o,refreshData:l,renderInvite:d,scroll:u}){const h=Object(a.c)();return Object(c.jsxs)(s.f,{children:[u&&Object(c.jsx)(r.a,{scrollBuffer:3*u.container.clientHeight,scrollHeight:u.container.scrollHeight,scrollTop:u.top,isAtEnd:n,isFetching:i,fetchMore:e}),t.map((e,t)=>e&&e.invited_user&&e.invited_user.id?Object(c.jsx)(s.f,{children:d(e,o,l)},t):null),i&&!n&&Object(c.jsx)(s.U,{accessibilityLabel:h._("loading board invites","accessibility label for board collaborator invites loading spinner","accessibility label for board collaborator invites loading spinner"),show:!0})]})}var d=n("ViqK"),u=n("mEMi"),h=n("gMUm"),b=n("w70y"),p=n("vvax");class f extends i.Component{constructor(...e){var t,n,i;super(...e),i=()=>{const{invitesPendingApproval:e,invites:t}=this.props;e.refresh(),t.refresh()},(n="handleInvitesDidUpdate")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}shouldComponentUpdate(e){const{invites:{data:t},pendingOwnershipTransfer:n}=e,{invites:{data:i},pendingOwnershipTransfer:o}=this.props;return!(i&&!(o!==n))||!!t&&i.length!==t.length}render(){var e;const{board:t,invites:n,invitesPendingApproval:r,scrollInfo:a,onBoardLeave:h,onModalOpen:b,pendingOwnershipTransfer:f,renderInvite:g}=this.props,{full_name:m,image_medium_url:j,username:v}=t.owner,O=null===(e=(n.data||[]).find(e=>e.invited_user.id===f))||void 0===e?void 0:e.invited_user.full_name,y=f&&O?Object(p.b)(this.props.i18n._("Requested {{ collaboratorName }} to change to board owner","boardInviteSheet.CollaboratorList.boardOwner.ownershipRequestSubtitle","Subtext for an owner of board who has sent an ownership transfer request"),{collaboratorName:O}).join(""):this.props.i18n._("Owner of this board","boardInviteSheet.CollaboratorList.boardOwner.subtitle","The subtext that identifies the owner of a board");return Object(c.jsx)(i.Fragment,{children:n.isLoaded||r.isLoaded?Object(c.jsx)(u.a,{fetchMore:n.fetchMore,children:({onScroll:e,setRef:t})=>Object(c.jsxs)(s.f,{width:"100%",onScroll:e,ref:t,children:[Object(c.jsx)(l,{fetchMore:r.fetchMore,invites:r.data||[],isAtEnd:r.isAtEnd,isFetching:r.isFetching,onBoardLeave:h,refreshData:this.handleInvitesDidUpdate,scroll:a,renderInvite:g}),(r.data||[]).length>0?Object(c.jsx)(s.f,{paddingY:3,children:Object(c.jsx)(s.q,{})}):null,Object(c.jsxs)(s.f,{paddingY:1,children:[Object(c.jsx)(d.a,{imageUrl:j,linkURL:`/${v}/`,name:m,subtitle:y,title:m}),(n.data||[]).map(e=>e&&e.invited_user&&e.invited_user.id?Object(c.jsx)(o.a,{invite:e,onBoardLeave:h,onModalOpen:b,onInviteDidUpdate:n.refresh},e.invited_user.id):null)]})]})}):Object(c.jsx)(s.U,{show:!0,accessibilityLabel:this.props.i18n._("Loading","Loading state for showing board collaborators","Loading state for showing board collaborators")})})}}function g(e){const t=Object(a.c)(),{pendingOwnershipTransfer:n}=Object(h.b)(),i=Object(b.a)({name:"BoardInvitesResource",options:{board_id:e.board.id,field_set_key:"boardEdit",status_filters:"new,accepted,contact_request_not_approved",sort:"viewer_first",include_inactive:!0,allow_stale:!1}}),o=Object(b.a)({name:"BoardInvitesResource",options:{board_id:e.board.id,field_set_key:"boardEdit",status_filters:"pending_approval",allow_stale:!1}});return Object(c.jsx)(f,{...e,invites:i,invitesPendingApproval:o,i18n:t,pendingOwnershipTransfer:n})}},EyTA:function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("yYqh"),o=n("J4bR"),r=n("w70y");function a({getOptions:e,checkExperiments:t,disableFetch:n,...a}){const s=Object(o.a)(),{args:c,fetchDisabled:l}=Object(i.a)({checkExperiments:t,disableFetch:n,viewer:s}),d=e?e(c):void 0;return Object(r.a)({dangerouslyDisableFetch:l,options:d,...a})}},F2ZA:function(e,t,n){n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"g",(function(){return r})),n.d(t,"e",(function(){return a})),n.d(t,"h",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return h}));n("n6mq");const i="/today/",o=3,r=(e,t,n=0)=>({num_days:t,referrer:n,...e?{}:{redux_normalize_feed:!0}});function a(e,t,n){const i=function(e){return 0===e||2===e?"trending":1===e?"best":"article"}(e),o=function(e){return e.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\’'"]/g,"").trim().replace(/\s+/g,"-")}(t);return`/today/${i}/${encodeURIComponent(o)}/${n}/`}const s={"www.pinterest.com":"US","www.pinterest.co.uk":"GB","www.pinterest.ca":"CA","www.pinterest.com.au":"AU","br.pinterest.com":"BR","www.pinterest.com.mx":"MX","ar.pinterest.com":"AR","www.pinterest.cl":"CL","co.pinterest.com":"CO","www.pinterest.de":"DE","www.pinterest.at":"AT","www.pinterest.ch":"CH","www.pinterest.fr":"FR","in.pinterest.com":"IN","id.pinterest.com":"ID","www.pinterest.jp":"JP"},c={US:"en",GB:"en",CA:"en",AU:"en",BR:"pt",MX:"es",AR:"es",CL:"es",CO:"es",PE:"es",DE:"de",AT:"de",CH:"de",FR:"fr",IN:"en",ID:"id",JP:"ja",IT:"it"},l=(e,t)=>{const n=c[e];return!(null===n||n!==t&&!t.startsWith(n))},d=e=>s[e],u=(e,t)=>e||((null==t?void 0:t.origin_pinner)||(null==t?void 0:t.pinner)||""),h=(e,t)=>e||((null==t?void 0:t.origin_pinner)||(null==t?void 0:t.pinner))},FDmi:function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("n6mq"),o=n("nKUr");const r=(e,t)=>{const n=null==e?void 0:e.includes("images/user/default");return Boolean(n&&t)};function a({accessibilityLabel:e,name:t,outline:n,size:a,src:s,verified:c}){return Object(o.jsx)(i.b,{accessibilityLabel:e,name:t,outline:n,size:a,src:r(s,t)?void 0:s,verified:c})}},FeGr:function(e,t,n){(function(t){function n(e){o.length||(i(),!0),o[o.length]=e}e.exports=n;var i,o=[],r=0;function a(){for(;r<o.length;){var e=r;if(r+=1,o[e].call(),r>1024){for(var t=0,n=o.length-r;t<n;t++)o[t]=o[t+r];o.length-=r,r=0}}o.length=0,r=0,!1}var s,c,l,d=void 0!==t?t:self,u=d.MutationObserver||d.WebKitMutationObserver;function h(e){return function(){var t=setTimeout(i,0),n=setInterval(i,50);function i(){clearTimeout(t),clearInterval(n),e()}}}"function"==typeof u?(s=1,c=new u(a),l=document.createTextNode(""),c.observe(l,{characterData:!0}),i=function(){s=-s,l.data=s}):i=h(a),n.requestFlush=i,n.makeRequestCallFromTimer=h}).call(this,n("yLpj"))},G6B4:function(e,t,n){var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n("JQRy"),r=n("+jF9"),a=n("jaOL"),s=n("pWuj"),c=n("lihF"),l=n("LTlA");t.default=function(e,t){return void 0===e&&(e={}),{dirtyHandlerIds:s.default(e.dirtyHandlerIds,{type:t.type,payload:i({},t.payload,{prevTargetIds:l.get(e,"dragOperation.targetIds",[])})}),dragOffset:o.default(e.dragOffset,t),refCount:a.default(e.refCount,t),dragOperation:r.default(e.dragOperation,t),stateId:c.default(e.stateId)}}},G6z8:function(e,t,n){var i=n("fR/l"),o=n("oCl/"),r=n("mTTR");e.exports=function(e){return i(e,r,o)}},G8fK:function(e,t,n){function i(e,t){return{type:"SET_LOCATION_TO_ERROR_MAP_ENTRY",payload:{pathname:e,renderError:t}}}function o(e){return{type:"UNSET_LOCATION_TO_ERROR_MAP_ENTRY",payload:{pathname:e}}}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}))},GBVV:function(e,t,n){n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var i=n("n6mq"),o=n("nKUr");const r={__style:{margin:"0 10px",borderRight:"3px solid transparent",borderTop:"3px solid #fff",animation:"spin .8s linear infinite"}};function a(){return Object(o.jsx)(i.f,{alignItems:"center",color:"red",display:"flex",height:"100%",justifyContent:"center",position:"absolute",width:"100%",rounding:8,children:Object(o.jsx)(i.f,{dangerouslySetInlineStyle:r,display:"inlineBlock",height:18,position:"relative",rounding:"circle",width:18})})}function s({disabled:e,name:t,onClick:n,size:r,submitting:s,text:c}){return Object(o.jsxs)(i.f,{display:"flex",position:"relative",children:[s&&Object(o.jsx)(a,{}),Object(o.jsx)(i.g,{color:"red",disabled:e||s,name:t,onClick:n,size:r,type:"submit",text:c})]})}},GDhZ:function(e,t,n){var i=n("wF/u"),o=n("mwIZ"),r=n("hgQt"),a=n("9ggG"),s=n("CMye"),c=n("IOzZ"),l=n("9Nap");e.exports=function(e,t){return a(e)&&s(t)?c(l(e),t):function(n){var a=o(n,e);return void 0===a&&a===t?r(n,e):i(t,a,3)}}},GNiM:function(e,t,n){var i=n("I01J"),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,a=i((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,(function(e,n,i,o){t.push(i?o.replace(r,"$1"):n||e)})),t}));e.exports=a},"GX0+":function(e,t,n){n.d(t,"a",(function(){return u}));var i=n("q1tI"),o=n("yweb"),r=n("S1na"),a=n("qpbZ"),s=n("pLLR"),c=n("l70D"),l=n("n6mq"),d=n("nKUr");function u({addButtonRef:e,nonDisplayedCollaboratorCount:t,displayedCollaborators:n,onClick:u,pileRef:h,showAddButton:b}){const[p,f]=Object(i.useState)(!1),g=Object(o.c)(),m=Object(r.a)(),{locale:j}=Object(s.d)(),v=g._("Invite collaborators.","DeprecatedBoardCollaboratorFacepile.accessibilityLabel.inviteCollaborators","It informs the users that they can invite other collaborators."),O=Object(a.c)(g.ngettext("Collaborators: {{ userNames }} and {{ leftCount }} more.","Collaborators: {{ userNames }} and {{ leftCount }} more.",t,"DeprecatedBoardCollaboratorFacepile.accessibilityLabel","Accessibility label that lists the names of collaborators and a final count of non-displayed avatars"),{userNames:n.map(e=>e.name).join(", "),leftCount:""+t}),y=({children:e,hovered:t})=>Object(d.jsxs)(l.f,{position:"relative",children:[Object(d.jsx)(l.f,{bottom:!0,dangerouslySetInlineStyle:{__style:t?{zIndex:1,backgroundColor:"rgba(0,0,0,0.06)"}:{}},left:!0,position:"absolute",right:!0,rounding:"pill",top:!0}),e]}),x=n.map(({name:e,src:t},n)=>Object(d.jsx)(l.f,{"aria-hidden":"true",marginStart:0!==n?-4:void 0,children:Object(d.jsx)(y,{hovered:p&&!!u,children:Object(d.jsx)(l.f,{color:"white",height:c.a,width:c.a,rounding:"circle",children:Object(d.jsx)(l.b,{name:e,outline:!0,src:t})})})},"face-"+n));return x.length>1&&t&&x.push(Object(d.jsx)(l.f,{"aria-hidden":"true",dangerouslySetInlineStyle:{__style:{zIndex:1}},children:Object(d.jsx)(l.f,{marginStart:-4,children:Object(d.jsx)(y,{hovered:p&&!!u,children:Object(d.jsx)(l.f,{dangerouslySetInlineStyle:{__style:{boxShadow:"0 0 0 1px #fff"}},rounding:"circle",children:Object(d.jsx)(l.f,{alignItems:"center",color:"lightGray",display:"flex",height:c.a,justifyContent:"center",position:"relative",rounding:"circle",width:c.a,children:Object(d.jsx)(l.cb,{size:"lg",weight:"bold",children:m(j,t,{shortform:!0})})})})})})},"additionalCount")),x.length>1&&b&&x.push(Object(d.jsx)(l.f,{"aria-hidden":"true",dangerouslySetInlineStyle:{__style:{zIndex:1}},ref:e,children:Object(d.jsx)(l.f,{marginStart:-4,children:Object(d.jsx)(y,{hovered:p,children:Object(d.jsx)(l.f,{dangerouslySetInlineStyle:{__style:{boxShadow:"0 0 0 1px #fff"}},rounding:"circle",children:Object(d.jsx)(l.f,{alignItems:"center",color:"lightGray",display:"flex",height:c.a,justifyContent:"center",rounding:"circle",width:c.a,children:Object(d.jsx)(l.w,{accessibilityLabel:"Add",icon:"add",color:"darkGray",size:20})})})})})},"addIcon")),Object(d.jsx)(l.u,{alignItems:"center",children:Object(d.jsx)(l.bb,{accessibilityLabel:b?`${O} ${v}`:""+O,ref:h,onTap:u,rounding:"pill",onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),children:Object(d.jsx)(l.u,{alignItems:"center",justifyContent:"start",children:x})})})}},Gi0A:function(e,t,n){var i=n("QqLw"),o=n("ExA7");e.exports=function(e){return o(e)&&"[object Map]"==i(e)}},Gytx:function(e,t){e.exports=function(e,t,n,i){var o=n?n.call(i,e,t):void 0;if(void 0!==o)return!!o;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),c=0;c<r.length;c++){var l=r[c];if(!s(l))return!1;var d=e[l],u=t[l];if(!1===(o=n?n.call(i,d,u,l):void 0)||void 0===o&&d!==u)return!1}return!0}},H3Jb:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("q1tI"),o=n("4vzw"),r=n("/acK"),a=n("nrB0"),s=n("nwWm"),c=n("2S0S");t.useDragSourceMonitor=function(){var e=r.useDragDropManager();return[i.useMemo((function(){return new a.default(e)}),[e]),i.useMemo((function(){return new s.default(e.getBackend())}),[e])]},t.useDragHandler=function(e,t,n){var a=r.useDragDropManager(),s=i.useMemo((function(){return{beginDrag:function(){var n=e.current,i=n.begin,o=n.item;if(i){var r=i(t);return c(null==r||"object"==typeof r,"dragSpec.begin() must either return an object, undefined, or null"),r||o||{}}return o||{}},canDrag:function(){return"boolean"==typeof e.current.canDrag?e.current.canDrag:"function"!=typeof e.current.canDrag||e.current.canDrag(t)},isDragging:function(n,i){var o=e.current.isDragging;return o?o(t):i===n.getSourceId()},endDrag:function(){var i=e.current.end;i&&i(t.getItem(),t),n.reconnect()}}}),[]);i.useEffect((function(){var i=o.default(e.current.item.type,s,a),r=i[0],c=i[1];return t.receiveHandlerId(r),n.receiveHandlerId(r),c}),[])}},HCyo:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("mc7v"),o=n("QIuh"),r=n("YuQ1"),a=n("QLaP"),s=function(){function e(e,t){this.store=e,this.registry=t}return e.prototype.subscribeToStateChange=function(e,t){var n=this;void 0===t&&(t={handlerIds:void 0});var i=t.handlerIds;a("function"==typeof e,"listener must be a function."),a(void 0===i||Array.isArray(i),"handlerIds, when specified, must be an array of strings.");var o=this.store.getState().stateId;return this.store.subscribe((function(){var t=n.store.getState(),a=t.stateId;try{a===o||a===o+1&&!r.areDirty(t.dirtyHandlerIds,i)||e()}finally{o=a}}))},e.prototype.subscribeToOffsetChange=function(e){var t=this;a("function"==typeof e,"listener must be a function.");var n=this.store.getState().dragOffset;return this.store.subscribe((function(){var i=t.store.getState().dragOffset;i!==n&&(n=i,e())}))},e.prototype.canDragSource=function(e){if(!e)return!1;var t=this.registry.getSource(e);return a(t,"Expected to find a valid source."),!this.isDragging()&&t.canDrag(this,e)},e.prototype.canDropOnTarget=function(e){if(!e)return!1;var t=this.registry.getTarget(e);if(a(t,"Expected to find a valid target."),!this.isDragging()||this.didDrop())return!1;var n=this.registry.getTargetType(e),o=this.getItemType();return i.default(n,o)&&t.canDrop(this,e)},e.prototype.isDragging=function(){return Boolean(this.getItemType())},e.prototype.isDraggingSource=function(e){if(!e)return!1;var t=this.registry.getSource(e,!0);return a(t,"Expected to find a valid source."),!(!this.isDragging()||!this.isSourcePublic())&&(this.registry.getSourceType(e)===this.getItemType()&&t.isDragging(this,e))},e.prototype.isOverTarget=function(e,t){if(void 0===t&&(t={shallow:!1}),!e)return!1;var n=t.shallow;if(!this.isDragging())return!1;var o=this.registry.getTargetType(e),r=this.getItemType();if(r&&!i.default(o,r))return!1;var a=this.getTargetIds();if(!a.length)return!1;var s=a.indexOf(e);return n?s===a.length-1:s>-1},e.prototype.getItemType=function(){return this.store.getState().dragOperation.itemType},e.prototype.getItem=function(){return this.store.getState().dragOperation.item},e.prototype.getSourceId=function(){return this.store.getState().dragOperation.sourceId},e.prototype.getTargetIds=function(){return this.store.getState().dragOperation.targetIds},e.prototype.getDropResult=function(){return this.store.getState().dragOperation.dropResult},e.prototype.didDrop=function(){return this.store.getState().dragOperation.didDrop},e.prototype.isSourcePublic=function(){return this.store.getState().dragOperation.isSourcePublic},e.prototype.getInitialClientOffset=function(){return this.store.getState().dragOffset.initialClientOffset},e.prototype.getInitialSourceClientOffset=function(){return this.store.getState().dragOffset.initialSourceClientOffset},e.prototype.getClientOffset=function(){return this.store.getState().dragOffset.clientOffset},e.prototype.getSourceClientOffset=function(){return o.getSourceClientOffset(this.store.getState().dragOffset)},e.prototype.getDifferenceFromInitialOffset=function(){return o.getDifferenceFromInitialOffset(this.store.getState().dragOffset)},e}();t.default=s},HLqC:function(e,t,n){var i=n("R5Y4"),o=n("mv/X"),r=n("ZCgT");e.exports=function(e){return function(t,n,a){return a&&"number"!=typeof a&&o(t,n,a)&&(n=a=void 0),t=r(t),void 0===n?(n=t,t=0):n=r(n),a=void 0===a?t<n?1:-1:r(a),i(t,n,a,e)}}},HNpt:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=0;t.default=function(){return i++}},HoRl:function(e,t,n){function i(e){switch(e.toUpperCase()){case"CS-CZ":return"CZ";case"DA-DK":return"DA";case"DE":return"DE";case"EL-GR":return"GR";case"EN-GB":return"ENUK";case"EN-US":return"ENUS";case"ES-ES":return"ESES";case"ES-MX":return"ESMX";case"ES-AR":return"ESAR";case"ES-419":return"ESMX";case"FI-FI":return"FI";case"FR":return"FR";case"HI-IN":return"HI";case"HU-HU":return"HU";case"ID-ID":return"ID";case"IT":return"IT";case"JA":return"JP";case"KO-KR":return"KR";case"MS-MY":return"MS";case"NL":return"NL";case"NB-NO":return"NO";case"PL-PL":return"PL";case"PT-BR":return"PTBR";case"PT-PT":return"PTPT";case"RO-RO":return"RO";case"RU-RU":return"RU";case"SK-SK":return"SK";case"SV-SE":return"SV";case"TH-TH":return"TH";case"TL-PH":return"TL";case"TR":return"TR";case"UK-UA":return"UA";case"VI-VN":return"VT";case"ZH-CN":return"ZHCN";case"ZH-TW":return"ZHTW";default:return"none"}}n.r(t),n.d(t,"default",(function(){return i}))},"Hz/G":function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("U4JR");var o=n("eOdZ");var r=n("zpPL"),a=n("t3tn");function s({boardDensity:e,component:t,surface:n,viewType:s}){!function({boardDensity:e,component:t,viewType:n}){const o=function({boardDensity:e,viewType:t}){switch(t){case 164:return"regular"===e?10618:10619;case 5:return"regular"===e?10607:10608;default:return 10607}}({boardDensity:e,viewType:n}),r=4===n?3106:3069;Object(i.b)(101,{component:t,element:o,...n?{view:n,viewParameter:r}:{}})}({boardDensity:e,component:t,viewType:s}),function({density:e,surface:t}){const n="board"===t?{profile_pin_rep_view_type:e}:{board_pin_rep_view_type:e};o.d.create("UserMetadataResource",n).callUpdate()}({density:e,surface:n}),function({density:e,surface:t}){const n="board"===t?a.a:a.d;r.a.instance.dispatch(n(e))}({density:e,surface:n})}},I01J:function(e,t,n){var i=n("44Ds");e.exports=function(e){var t=i(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},IBrh:function(e,t,n){n.d(t,"a",(function(){return c}));var i=n("q1tI"),o=n("mEMi"),r=(n("9QW3"),n("n6mq")),a=n("nKUr");function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends i.Component{constructor(e){super(e),s(this,"setSelectedItemRef",e=>{this.selectedItemRef=e}),s(this,"handleIndexUpdate",e=>{const{indexManager:t}=this.props;this.setState({selectedIndex:t.getIndex(),selectionMovedByKeyboard:!!e})}),s(this,"handleSelectItem",e=>()=>{const{disabled:t,onSelectItem:n}=this.props;t||n(e)}),s(this,"handleMouseEnter",e=>()=>{const{disabled:t,indexManager:n}=this.props;t||n.updateIndex(e)}),s(this,"handleMouseLeave",()=>{const{disabled:e,indexManager:t}=this.props;e||t.setInactive()}),s(this,"renderItems",(e,t)=>{const{renderItem:n}=this.props,{selectedIndex:i}=this.state,{row:o,section:s}=i||{},{customProps:c={},items:l,renderItem:d}=e,{isDisabled:u=(e=>!1)}=c,h=t===s,b=d||n;return b&&l.map((e,n)=>{const i=u(e),s={section:t,row:n},l=h&&n===o;return Object(a.jsx)(r.f,{"data-test-id":"board-selection",ref:!i&&l?this.setSelectedItemRef:null,children:i?b({item:e,hovered:l,sectionProps:c}):Object(a.jsx)(r.bb,{fullWidth:!1,onMouseEnter:this.handleMouseEnter(s),onMouseLeave:this.handleMouseLeave,onTap:this.handleSelectItem(e),rounding:2,children:b({item:e,hovered:l,sectionProps:c})})},n)})}),s(this,"renderSections",()=>{const{renderSectionHeader:e,sections:t}=this.props;return t.map((t,n)=>Object(a.jsxs)(r.f,{children:[e&&e(t,n),this.renderItems(t,n)]},n))});const{indexManager:t}=this.props;this.state={selectedIndex:t.getIndex(),selectionMovedByKeyboard:!1},t.setUpdateCallback(this.handleIndexUpdate)}componentDidUpdate(e){const{containerRef:t}=this;if(this.selectedItemRef&&this.state.selectionMovedByKeyboard&&t){const e=this.selectedItemRef;if(!(e instanceof HTMLElement))return;const n=e.getBoundingClientRect(),i=n.top,o=n.bottom,r=t.getBoundingClientRect(),a=r.top;o>=r.bottom?e.scrollIntoView(!1):i<=a&&e.scrollIntoView(!0)}e.indexManager!==this.props.indexManager&&this.props.indexManager.setUpdateCallback(this.handleIndexUpdate)}render(){const{grow:e=!1,maxHeight:t,fetchMore:n}=this.props;return Object(a.jsx)(o.a,{fetchMore:n,children:({setRef:n,onScroll:i})=>Object(a.jsx)(r.f,{flex:e?"grow":void 0,height:e?"100%":void 0,maxHeight:t,onScroll:i,overflow:"auto",ref:e=>{this.containerRef=e,n(e)},children:this.renderSections()})})}}},"IEa/":function(e,t,n){var i=n("FeGr"),o=[],r=[],a=i.makeRequestCallFromTimer((function(){if(r.length)throw r.shift()}));function s(e){var t;(t=o.length?o.pop():new c).task=e,i(t)}function c(){this.task=null}e.exports=s,c.prototype.call=function(){try{this.task.call()}catch(e){s.onerror?s.onerror(e):(r.push(e),a())}finally{this.task=null,o[o.length]=this}}},IOzZ:function(e,t){e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},IRZy:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("QWk2"),o=n("TT16"),r=n("Gytx"),a=function(){function e(e){var t=this;this.backend=e,this.hooks=i.default({dropTarget:function(e,n){t.dropTargetOptions=n,o.isRef(e)?t.dropTargetRef=e:t.dropTargetNode=e,t.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null}return Object.defineProperty(e.prototype,"connectTarget",{get:function(){return this.dropTarget},enumerable:!0,configurable:!0}),e.prototype.reconnect=function(){var e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();var t=this.dropTarget;this.handlerId&&(t?e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions)):this.lastConnectedDropTarget=t)},e.prototype.receiveHandlerId=function(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())},Object.defineProperty(e.prototype,"dropTargetOptions",{get:function(){return this.dropTargetOptionsInternal},set:function(e){this.dropTargetOptionsInternal=e},enumerable:!0,configurable:!0}),e.prototype.didHandlerIdChange=function(){return this.lastConnectedHandlerId!==this.handlerId},e.prototype.didDropTargetChange=function(){return this.lastConnectedDropTarget!==this.dropTarget},e.prototype.didOptionsChange=function(){return!r(this.lastConnectedDropTargetOptions,this.dropTargetOptions)},e.prototype.disconnectDropTarget=function(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)},Object.defineProperty(e.prototype,"dropTarget",{get:function(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current},enumerable:!0,configurable:!0}),e}();t.default=a},IWTy:function(e,t,n){var i=n("yue5");e.exports=function(e,t,n){for(var o=-1,r=e.criteria,a=t.criteria,s=r.length,c=n.length;++o<s;){var l=i(r[o],a[o]);if(l)return o>=c?l:l*("desc"==n[o]?-1:1)}return e.index-t.index}},IeEU:function(e,t,n){n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}));var i=n("/MKj");const o=[1000069,1000075],r={};function a(e){return o.forEach(t=>{!e[t]||void 0!==r[t]&&r[t].id===e[t].id||(r[t]=e[t])}),r}function s(e){return Object(i.connect)(e=>({lfvExperiences:a(e.experiences.eligibleExperiences)}))(e)}function c(){return a(Object(i.useSelector)(({experiences:e})=>e.eligibleExperiences))}},"J/d7":function(e,t,n){n.d(t,"a",(function(){return j}));var i=n("q1tI"),o=n("/MKj"),r=n("YGxj"),a=n("yweb"),s=n("VPyJ"),c=n("n6mq"),l=n("nKUr");function d(e){const t=Object(a.c)(),{anchor:n,experienceType:i,hideAddSectionTooltip:o}=e,{setShowBoardlessPinsModal:d}=Object(s.b)();let u;switch(i){case"addSectionTooltip":u=Object(l.jsx)(c.L,{anchor:n,color:"blue",idealDirection:"down",onDismiss:o,positionRelativeToAnchor:!1,showCaret:!0,size:"sm",children:Object(l.jsx)(c.f,{padding:4,children:Object(l.jsx)(c.cb,{color:"white",weight:"bold",children:t._("Tap + to add a section any time","boardActionsButton.addIconButton.addSectionFlyout","Flyout to point out where you can find add section")})})});break;case"planningActionsExperience":u=Object(l.jsx)(r.a,{anchor:n,experienceIds:[502096],idealDirection:"down",placementId:18,positionRelativeToAnchor:!1,showCaret:!0});break;case"createBoardTooltip":u=Object(l.jsx)(r.a,{anchor:n,experienceIds:[503447],idealDirection:"down",flyoutSize:"md",onClickComplete:()=>{d(!0)},placementId:19,positionRelativeToAnchor:!1,showCaret:!0,textAlign:"center",textWeight:"normal"});break;default:u=null}return Object(l.jsx)(c.A,{children:Object(l.jsx)(c.f,{dangerouslySetInlineStyle:{__style:{zIndex:5e3}},position:"absolute",top:!0,children:u})})}var u=n("MLoN"),h=n("LIp/"),b=n("egIj"),p=n("Ofms"),f=n("QAzJ");function g({anchor:e,idealDirection:t,onAddBoardNote:n,onAddOrEditDate:o,onAddSection:r,onClose:s,onCreateBoard:d,onCreatePin:g,onCreateStoryPin:m,surface:j}){const v=Object(a.c)(),{anyEnabled:O}=Object(f.b)("web_story_pin_creator"),{anyEnabled:y}=Object(f.b)("web_sp2s");return Object(l.jsx)(u.a,{anchor:e,idealDirection:t,onDismiss:s,children:Object(l.jsxs)(i.Fragment,{children:[Object(l.jsxs)(h.a,{label:v._("Create","BoardActionsButton.LegoFlyout.Create","Label for a list of options to create a pin or a section"),children:[Object(l.jsx)(b.a,{dataTestId:"Create Pin",onClick:()=>{g(),s()},children:v._("Pin","BoardActionsButton.LegoFlyout.Pin","Option to create a pin")}),m&&O&&Object(l.jsx)(b.a,{dataTestId:"Create Story Pin",onClick:()=>{m(),s()},children:y?v._("Idea Pin","BoardActionsButton.LegoFlyout.IdeaPin","Option to create a Idea Pin"):v._("Story Pin","BoardActionsButton.LegoFlyout.StoryPin","Option to create a Story Pin")}),"profileBoards"===j&&d&&Object(l.jsx)(b.a,{dataTestId:"Create board",onClick:()=>{d(),s()},children:v._("Board","profileHeader.actionBar.board","Option to create a board")})]}),"board"===j&&Object(l.jsxs)(h.a,{label:v._("Add","BoardActionsButton.LegoFlyout.Add","Label for a list of options to add board sections or a board date"),children:["board"===j&&n&&Object(l.jsx)(p.a,{id:"addBoardNote",children:Object(l.jsx)(b.a,{onClick:()=>{n(),s()},children:Object(l.jsxs)(c.u,{alignItems:"center",justifyContent:"start",children:[Object(l.jsx)(c.cb,{weight:"bold",children:v._("Note","BoardActionsButton.LegoFlyout.Note","Option to create a board note")}),Object(l.jsx)(c.f,{color:"blue",marginStart:2,padding:1,rounding:1,children:Object(l.jsx)(c.cb,{color:"white",size:"sm",weight:"bold",children:v._("New","BoardActionsButton.LegoFlyout.New","New option indicator")})})]})})}),"board"===j&&r&&Object(l.jsx)(p.a,{id:"addSection",children:Object(l.jsx)(b.a,{onClick:()=>{r(),s()},children:v._("Section","BoardActionsButton.LegoFlyout.Section","Option to create a board section")})}),"board"===j&&!!o&&Object(l.jsx)(b.a,{onClick:()=>{o(),s()},children:v._("Date","BoardActionsButton.LegoFlyout.Date","Option to add a date to a board")})]})]})})}var m=n("shej");function j({children:e,idealDirection:t,onAddBoardNote:n,onAddOrEditDate:r,onAddSection:s,onCreateBoard:u,onCreatePin:h,onCreateStoryPin:b,onOpen:p=(()=>{}),surface:f}){const j=Object(a.c)(),v=Object(o.useDispatch)(),O=()=>v(Object(m.a)()),y=Object(o.useSelector)(({createSectionTooltip:e})=>Boolean(null==e?void 0:e.showCreateSectionTooltip)),x=Object(i.useRef)(),[_,w]=Object(i.useState)(!1),C=()=>{p(),y&&O(),w(!0)},S={board:j._("Board Actions","button that allows user view actions on a board such as add section, create pin, create pincode, and create widget","button that allows user view actions on a board such as add section, create pin, create pincode, and create widget"),profileBoards:j._("Profile Actions","profileHeader.actionBar.createButton","Button on user's profile to open flyout with options to create a pin or a board"),profilePins:j._("Profile Actions","profileHeader.actionBar.createButton","Button on user's profile to open flyout with options to create a pin or a board"),section:j._("Create Pin","Button to begin pin creation flow","Button to begin pin creation flow")},I=e&&e({active:_,openFlyout:C})||Object(l.jsx)(c.x,{accessibilityLabel:S[f],icon:"add",onClick:"section"===f?h:C,size:"lg"});let E;return _||"board"!==f||(y?E="addSectionTooltip":r&&(E="planningActionsExperience")),_||"profileBoards"!==f||(E="createBoardTooltip"),Object(l.jsxs)(c.f,{"data-test-id":"boardActionsButton",children:[Object(l.jsx)(c.f,{ref:x,children:I}),_&&Object(l.jsx)(g,{anchor:x.current,idealDirection:t,onAddBoardNote:n,onAddOrEditDate:r,onAddSection:s,onClose:()=>w(!1),onCreateBoard:u,onCreatePin:h,onCreateStoryPin:b,surface:f}),E&&Object(l.jsx)(d,{anchor:x.current,experienceType:E,hideAddSectionTooltip:O})]})}},J4bR:function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("xkL+");function o(){const e=Object(i.b)();return{country:e.country||void 0,id:e.id||void 0,isAuth:e.isAuth,isEmployee:!!e.isEmployee||!1,isPartner:!!e.isPartner||!1,username:e.username||void 0}}},JBUN:function(e,t,n){var i={"./":["dH2W",9],"./CZ":["B5Bz",9,423],"./CZ.js":["B5Bz",9,423],"./DA":["Gi0d",9,424],"./DA.js":["Gi0d",9,424],"./DE":["gu28",9,425],"./DE.js":["gu28",9,425],"./ENUK":["XnQI",9,426],"./ENUK.js":["XnQI",9,426],"./ENUS":["AWLv",9,427],"./ENUS.js":["AWLv",9,427],"./ESAR":["REmk",9,428],"./ESAR.js":["REmk",9,428],"./ESES":["wsSg",9,429],"./ESES.js":["wsSg",9,429],"./ESMX":["1BwC",9,430],"./ESMX.js":["1BwC",9,430],"./FI":["2A7Q",9,431],"./FI.js":["2A7Q",9,431],"./FR":["cYI+",9,432],"./FR.js":["cYI+",9,432],"./GR":["GRYs",9,433],"./GR.js":["GRYs",9,433],"./HI":["VJRD",9,434],"./HI.js":["VJRD",9,434],"./HU":["ruI3",9,435],"./HU.js":["ruI3",9,435],"./ID":["qOEt",9,436],"./ID.js":["qOEt",9,436],"./IT":["Bq0h",9,437],"./IT.js":["Bq0h",9,437],"./JP":["zJe/",9,438],"./JP.js":["zJe/",9,438],"./KR":["8fMJ",9,439],"./KR.js":["8fMJ",9,439],"./MS":["BOEg",9,440],"./MS.js":["BOEg",9,440],"./NL":["0gKe",9,441],"./NL.js":["0gKe",9,441],"./NO":["PiZp",9,442],"./NO.js":["PiZp",9,442],"./PL":["+Fv7",9,443],"./PL.js":["+Fv7",9,443],"./PTBR":["Ortd",9,444],"./PTBR.js":["Ortd",9,444],"./PTPT":["Yqrn",9,445],"./PTPT.js":["Yqrn",9,445],"./RO":["6YHy",9,446],"./RO.js":["6YHy",9,446],"./RU":["Pvfl",9,447],"./RU.js":["Pvfl",9,447],"./SK":["Lc4P",9,448],"./SK.js":["Lc4P",9,448],"./SV":["JVoV",9,449],"./SV.js":["JVoV",9,449],"./TH":["7T3W",9,450],"./TH.js":["7T3W",9,450],"./TL":["2ndg",9,451],"./TL.js":["2ndg",9,451],"./TR":["3+7V",9,452],"./TR.js":["3+7V",9,452],"./UA":["0Qy6",9,453],"./UA.js":["0Qy6",9,453],"./VT":["gfny",9,454],"./VT.js":["gfny",9,454],"./ZHCN":["lT6v",9,455],"./ZHCN.js":["lT6v",9,455],"./ZHTW":["yMH2",9,456],"./ZHTW.js":["yMH2",9,456],"./index":["dH2W",9],"./index.js":["dH2W",9],"./localeToFilename":["HoRl",9],"./localeToFilename.js":["HoRl",9],"./types":["99Jd",7,457],"./types.js":["99Jd",7,457]};function o(e){if(!n.o(i,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=i[e],o=t[0];return Promise.all(t.slice(2).map(n.e)).then((function(){return n.t(o,t[1])}))}o.keys=function(){return Object.keys(i)},o.id="JBUN",e.exports=o},JC6p:function(e,t,n){var i=n("cq/+"),o=n("7GkX");e.exports=function(e,t){return e&&i(e,t,o)}},JKZO:function(e,t,n){n.d(t,"a",(function(){return c}));var i=n("2K7C"),o=n("MKeS"),r=n("nKUr"),a=n.n(r);const s=Object(o.a)({resolved:{},chunkName:()=>"EditorWithMentionsInternal",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e("EditorWithMentionsInternal").then(n.bind(null,"AO8i")),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return"AO8i"}});function c(e){return Object(r.jsx)(s,{...e,fallback:Object(r.jsx)(i.a,{})})}},JQRy:function(e,t,n){var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n("pYMm"),r=n("N4T/"),a={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};t.default=function(e,t){void 0===e&&(e=a);var n=t.payload;switch(t.type){case o.INIT_COORDS:case o.BEGIN_DRAG:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case o.HOVER:return r.areCoordsEqual(e.clientOffset,n.clientOffset)?e:i({},e,{clientOffset:n.clientOffset});case o.END_DRAG:case o.DROP:return a;default:return e}}},Jld5:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("CkrQ"),o=n("G6B4"),r=n("pYMm"),a=n("HCyo"),s=n("54t5");var c=function(){function e(e,t,n){var r=this;void 0===t&&(t={}),void 0===n&&(n=!1),this.context=t,this.isSetUp=!1,this.handleRefCountChange=function(){var e=r.store.getState().refCount>0;e&&!r.isSetUp?(r.backend.setup(),r.isSetUp=!0):!e&&r.isSetUp&&(r.backend.teardown(),r.isSetUp=!1)};var c=function(e){var t="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__;return i.createStore(o.default,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}(n);this.store=c,this.monitor=new a.default(c,new s.default(c)),this.backend=e(this),c.subscribe(this.handleRefCountChange)}return e.prototype.getContext=function(){return this.context},e.prototype.getMonitor=function(){return this.monitor},e.prototype.getBackend=function(){return this.backend},e.prototype.getRegistry=function(){return this.monitor.registry},e.prototype.getActions=function(){var e=this,t=this.store.dispatch;var n=r.default(this);return Object.keys(n).reduce((function(i,o){var r,a=n[o];return i[o]=(r=a,function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=r.apply(e,n);void 0!==o&&t(o)}),i}),{})},e.prototype.dispatch=function(e){this.store.dispatch(e)},e}();t.default=c},Joxa:function(e,t,n){n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a}));const i=[0,2,1];function o(e){const{list_blocks:t,key_value_blocks:n}=e,i=t&&t.length>0?t.map(e=>{const{heading:t,blocks:n}=e;return{heading:t,blocks:(null!=n?n:[]).map(e=>({text:e.text?e.text:"",type:9})),type:7}}):[];return{key_value_blocks:n&&n.length>0?n.map(e=>({category_type:e.category_type,type:8,value:e.value})):[],list_blocks:i}}function r(e){const{list_blocks:t,key_value_blocks:n}=e,i=t&&t.length>0?t.map(e=>{const{heading:t,blocks:n}=e;return{heading:t,items:(null!=n?n:[]).map(e=>e.text?e.text:"")}}):[];return{keyValueBlocks:n&&n.length>0?n.reduce((e,t)=>{const{category_type:n,value:i}=t;return e[null!=n?n:""]=i,e},{}):{},listBlocks:i}}function a(e){const{keyValueBlocks:t,listBlocks:n}=e;if(!t&&!n)return null;return{list_blocks:n?n.map(e=>{const{heading:t,items:n}=e;let i=[];return n&&(i=n.map(e=>({text:e,type:9}))),{blocks:i,heading:t,type:7}}):[],key_value_blocks:(t?Object.keys(t).map(e=>{const n=t[e],o=Number.parseInt(e,10),r=i.indexOf(o)>-1&&n===Number.parseInt(n,10).toString();return n&&r?{value:n,category_type:o,type:8}:null}):[]).filter(Boolean)}}},Juji:function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},KEt0:function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("n6mq"),o=n("nKUr");function r({ariaHidden:e=!1,size:t}){return Object(o.jsx)("span",{"aria-hidden":e,style:{padding:"0 4px"},children:Object(o.jsx)(i.cb,{inline:!0,size:null!=t?t:"md",children:"·"})})}},KPZG:function(e,t,n){n.d(t,"b",(function(){return C})),n.d(t,"a",(function(){return S}));var i=n("q1tI"),o=n("FDmi"),r=n("NoNI"),a=n("T+9/"),s=n("T0g9"),c=n("/MKj"),l=n("DBEV"),d=n("TgLd"),u=n("xjqW");var h=({id:e,viewParameter:t,viewType:n})=>Object(u.b)({id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:n,type:"pin"}),b=n("eOdZ"),p=n("M1Uz"),f=n("yweb"),g=n("nGHF"),m=n("n6mq"),j=n("nKUr");function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class O extends i.PureComponent{constructor(...e){var t;super(...e),t=this,v(this,"state",{showModal:!1,reportType:null}),v(this,"handleDismiss",()=>this.setState({showModal:!1})),v(this,"handleClick",()=>{const{reportType:e}=this.state;"image"===e?this.reportSuggestionImage():this.reportSuggestionText()}),v(this,"reportSuggestionImage",(async function(){const{imgSignature:e,reportImage:n}=t.props;t.setState({showModal:!1});n((await b.d.create("GetPinFromSignature",{imgSignature:e}).callGet()).resource_response.data.id)})),v(this,"reportSuggestionText",()=>{const{handleReport:e,toastManagerContext:t}=this.props;e&&(e(),t.showToast(({onHide:e})=>Object(j.jsx)(p.a,{onHide:e,text:this.props.i18n._("Thanks for your report! This will be reviewed by our Trust and Safety Team","ReportingFlag.Toast.text","Toast after reporting a search suggestion")})),this.handleDismiss())}),v(this,"showModal",({event:e})=>{e.stopPropagation(),e.preventDefault(),this.setState({showModal:!0})})}render(){const{showModal:e}=this.state;return Object(j.jsxs)(i.Fragment,{children:[this.props.isVisible&&Object(j.jsx)(l.a,{onClick:this.showModal,backgroundHaloSize:24}),e&&Object(j.jsx)(d.b,{accessibilityModalLabel:this.props.i18n._("Report search term","ReportingFlag.Modal.accessibilityModalLabel","accessible label for report suggestion modal"),heading:this.props.i18n._("Report search term","ReportingFlag.Modal.heading","Heading for report suggestion modal"),onDismiss:this.handleDismiss,size:"sm",children:Object(j.jsxs)(m.f,{children:[Object(j.jsx)(m.f,{padding:5,children:Object(j.jsx)(m.cb,{children:this.props.i18n._("When you flag this, our Trust and Safety team will review it. If it doesn't meet our Community Guidelines, it will be blocked.","ReportingFlag.Box.Text.report","What will happen when you report a suggestion")})}),Object(j.jsxs)(m.f,{role:"list",display:"flex",direction:"column",marginBottom:4,paddingX:5,children:[Object(j.jsxs)(m.f,{alignItems:"center",paddingY:1,display:"flex",direction:"row",children:[Object(j.jsx)(m.N,{checked:"text"===this.state.reportType,id:"textType",onChange:()=>this.setState({reportType:"text"}),value:"Report search text"}),Object(j.jsx)(m.f,{flex:"grow",children:Object(j.jsx)(m.z,{htmlFor:"textType",children:Object(j.jsx)(m.f,{paddingX:2,children:Object(j.jsx)(m.cb,{children:"Report search text"})})})})]}),Object(j.jsxs)(m.f,{alignItems:"center",paddingY:1,display:"flex",direction:"row",children:[Object(j.jsx)(m.N,{checked:"image"===this.state.reportType,id:"imageType",onChange:()=>this.setState({reportType:"image"}),value:"Report search image"}),Object(j.jsx)(m.f,{flex:"grow",children:Object(j.jsx)(m.z,{htmlFor:"imageType",children:Object(j.jsx)(m.f,{paddingX:2,children:Object(j.jsx)(m.cb,{children:"Report search image"})})})})]})]}),Object(j.jsx)(m.q,{}),Object(j.jsxs)(m.f,{display:"flex",justifyContent:"end",padding:2,children:[Object(j.jsx)(m.f,{margin:2,children:Object(j.jsx)(m.g,{fullWidth:!0,onClick:this.handleDismiss,text:this.props.i18n._("Cancel","ReportingFlag.Box.Button.text.cancel","Text for cancel button when reporting search suggestion")})}),Object(j.jsx)(m.f,{margin:2,children:Object(j.jsx)(m.g,{fullWidth:!0,color:"red",onClick:this.handleClick,text:this.props.i18n._("Report","ReportingFlag.Box.Button.text.report","Button label to report search suggestion"),disabled:!this.state.reportType})})]})]})})]})}}var y=Object(c.connect)(null,(e,t)=>({reportImage:n=>e(h({id:n,viewParameter:t.viewParameter,viewType:t.viewType}))}))(Object(g.c)((function(e){const t=Object(f.c)();return Object(j.jsx)(O,{...e,i18n:t})}))),x=n("eBDd"),_=n("xkL+"),w=n("flQA");const C=({storyCategory:e,query:t,referringSource:n,bubbleId:i,storyId:o})=>{const r=[0,24,21,25,26].includes(e),a=Object(s.a)({q:t,rs:n||void 0,b_id:i,source_id:o});return r?"/discover/article/"+i:"/search/pins/"+(a?"?"+a:"")};function S({bubble:e,height:t,storyId:n,width:s,onClick:c,referringSource:l,contextLogData:d,viewType:u,viewParameter:h,slotIndex:b,handleReport:p,showFlag:g,imgSignature:v,onMouseEnter:O,onMouseLeave:S,isHovered:I,disableTabIndex:E}){const T=Object(f.c)(),P=Object(_.b)(),{id:D,action:B,cover_images:M,dominant_colors:k,identifier_icon_type:R,title:A,story_category:L,curator:N}=e,U=M&&M[0]?M[0]["280x280"]||M[0]["236x"]:void 0,F=Object(x.a)(A&&A.format||"",A&&A.args||{}),H=k&&k.length?k[0]:"gray",z=(null==B?void 0:B.url)||C({storyCategory:L,query:F,referringSource:l,bubbleId:D,storyId:n});return Object(j.jsx)(a.a,{impressionAuxFields:{storyCategory:L,storyIdStr:n},impressionType:"Article",loggingId:D,viewType:u,viewParameter:h,slotIndex:b,contextLogData:{story_id:n,...d},children:Object(j.jsx)(r.a,{backgroundColor:H,coverImage:U,height:t,id:D,isHovered:I,onClick:c,onMouseEnter:O,onMouseLeave:S,url:z,width:s,disableTabIndex:E,children:({isHovered:e})=>Object(j.jsxs)(i.Fragment,{children:[N&&26!==L&&Object(j.jsx)(m.f,{position:"absolute",top:!0,left:!0,padding:2,children:Object(j.jsx)(o.a,{outline:!0,size:"xs",src:N.image_small_url,name:N.full_name})}),R&&R!==w.a&&Object(j.jsx)(m.f,{alignItems:"center",color:"white",display:"flex",height:24,justifyContent:"center",left:!0,margin:2,opacity:.8,position:"absolute",rounding:"circle",top:!0,width:24,children:Object(j.jsx)(m.w,{icon:Object(w.b)(R),accessibilityLabel:T._("Shopping icon","bubble.shoppingIcon.label","Accessibility label for bubble shopping Icon"),color:"darkGray",size:12})}),Object(j.jsx)(m.f,{display:"flex",height:t,width:s||"100%",position:"absolute",top:!0,padding:3,alignItems:26===L?"end":"center",justifyContent:"center",children:Object(j.jsxs)(m.u,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[t>200?Object(j.jsx)(m.v,{size:"md",align:"center",color:"white",children:F}):Object(j.jsx)(m.cb,{align:"center",color:"white",weight:"bold",children:F}),N&&26===L&&Object(j.jsxs)(m.f,{display:"flex",justifyContent:"center",alignItems:"center",marginTop:4,children:[Object(j.jsx)(m.f,{marginEnd:2,children:Object(j.jsx)(o.a,{outline:!0,size:"xs",src:N.image_small_url,name:N.full_name})}),Object(j.jsx)(m.cb,{size:"sm",color:"white",children:N.full_name})]})]})}),P.isAuth&&P.isEmployee&&g?Object(j.jsx)(m.f,{position:"absolute",bottom:!0,right:!0,marginBottom:1,children:Object(j.jsx)(y,{handleReport:p,viewType:u,viewParameter:h,imgSignature:v||"",isVisible:e})}):null]})})})}},L2iP:function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"f",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return c}));const i=64,o=80,r=22,a="HeaderContent",s=671,c={boxShadow:"0px 8px 8px -8px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"}},"LIp/":function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("n6mq"),o=n("nKUr");function r({children:e,label:t}){return Object(o.jsxs)(i.f,{marginTop:2,paddingY:2,role:"listitem",children:[Object(o.jsx)(i.f,{paddingX:2,children:Object(o.jsx)(i.cb,{size:"sm",children:t})}),Object(o.jsx)(i.f,{marginTop:2,role:"list",children:e})]})}},LT60:function(e,t,n){n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s}));var i=n("d2Eh"),o=n("nKUr");const r=()=>{},a=e=>{e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation()};function s({allowClickAndDrag:e,allowEsc:t,allowMediaPlay:n,allowScroll:s,children:c}){const l=e=>function(e,t){t&&e.keyCode===i.a.ESCAPE||a(e)}(e,t);return Object(o.jsx)("div",{onAbort:a,onAnimationEnd:a,onAnimationIteration:a,onAnimationStart:a,onBlur:r,onCanPlay:n?r:a,onCanPlayThrough:a,onChange:a,onClick:e?r:a,onCompositionEnd:a,onCompositionStart:a,onCompositionUpdate:a,onContextMenu:a,onCopy:a,onCut:a,onDoubleClick:a,onDurationChange:a,onEmptied:a,onEncrypted:a,onEnded:a,onError:a,onFocus:r,onInput:a,onInvalid:a,onKeyDown:l,onKeyPress:l,onKeyUp:l,onLoad:a,onLoadedData:a,onLoadedMetadata:a,onLoadStart:a,onMouseDown:a,onMouseEnter:a,onMouseLeave:a,onMouseMove:e?r:a,onMouseOut:a,onMouseOver:a,onMouseUp:e?r:a,onPaste:a,onPause:a,onPlay:a,onPlaying:a,onProgress:a,onRateChange:a,onScroll:s?r:a,onSeeked:a,onSeeking:a,onSelect:a,onStalled:a,onSubmit:a,onSuspend:a,onTimeUpdate:a,onTouchCancel:a,onTouchEnd:e?r:a,onTouchMove:e?r:a,onTouchStart:e?r:a,onTransitionEnd:a,onVolumeChange:a,onWaiting:a,onWheel:a,children:c})}},LTlA:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.get=function(e,t,n){return t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:n||null}),e)},t.without=function(e,t){return e.filter((function(e){return e!==t}))},t.isString=function(e){return"string"==typeof e},t.isObject=function(e){return"object"==typeof e},t.xor=function(e,t){var n=new Map,i=function(e){return n.set(e,n.has(e)?n.get(e)+1:1)};e.forEach(i),t.forEach(i);var o=[];return n.forEach((function(e,t){1===e&&o.push(t)})),o},t.intersection=function(e,t){return e.filter((function(e){return t.indexOf(e)>-1}))}},La7j:function(e,t,n){t.a=n("kugi").default},M1Uz:function(e,t,n){n.d(t,"a",(function(){return c}));var i=n("q1tI"),o=n("hZxF"),r=n("4jWr"),a=n("n6mq"),s=n("nKUr");function c({button:e,dataTestId:t,duration:n=2e3,href:c,iconThumbnail:l,imageUrl:d,onClick:u,onHide:h,openNewPage:b,text:p,thumbnailShape:f="square",variant:g="default"}){const[m,j]=Object(i.useState)(!1),[v,O]=Object(i.useState)(!1),y=Object(i.useRef)(),x=()=>{j(!0),y.current=setTimeout(h,r.a)},_=()=>{y.current&&clearTimeout(y.current)},w=()=>{y.current=setTimeout(x,n)};Object(o.a)(()=>(setTimeout(()=>O(!0),100),w(),_));const C="string"==typeof p?p:`${p[0]} ${p[1]}`,S=d?Object(s.jsx)(a.f,{height:48,overflow:"hidden",width:48,children:Object(s.jsx)(a.y,{alt:C,fit:"cover",naturalHeight:1,naturalWidth:1,src:d})}):void 0,I=Object(s.jsx)(a.fb,{button:e,text:p,thumbnail:null!=l?l:S,thumbnailShape:f,variant:g});return Object(s.jsx)(a.f,{dangerouslySetInlineStyle:{__style:Object(r.b)(v,m)},"data-test-id":null!=t?t:"toast",onMouseEnter:_,onMouseLeave:w,children:c?Object(s.jsx)("a",{href:c,onClick:u,target:b?"_blank":null,rel:b?"noopener noreferrer":null,children:I}):I})}},MCs0:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getDecoratedComponent=function(e){var t=e.current;return null==t?null:t.decoratedRef?t.decoratedRef.current:t}},MKeS:function(e,t,n){n.d(t,"b",(function(){return I}));var i=n("q1tI"),o=n.n(i);function r(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var c=n("TOwV"),l=n("2mql"),d=n.n(l);function u(e,t){if(!e){var n=new Error("loadable: "+t);throw n.framesToPop=1,n.name="Invariant Violation",n}}function h(e){console.warn("loadable: "+e)}var b=o.a.createContext();function p(e){return e+"__LOADABLE_REQUIRED_CHUNKS__"}var f={initialChunks:{}},g="PENDING",m="REJECTED";var j=function(e){return e};function v(e){var t=e.defaultResolveComponent,n=void 0===t?j:t,i=e.render,l=e.onLoad;function h(e,t){void 0===t&&(t={});var h=function(e){return"function"==typeof e?{requireAsync:e,resolve:function(){},chunkName:function(){}}:e}(e),p={};function j(e){return t.cacheKey?t.cacheKey(e):h.resolve?h.resolve(e):"static"}function v(e,i,o){var r=t.resolveComponent?t.resolveComponent(e,i):n(e);if(t.resolveComponent&&!Object(c.isValidElementType)(r))throw new Error("resolveComponent returned something that is not a React component!");return d()(o,r,{preload:!0}),r}var O,y=function(e){var n,o;function c(n){var i;return(i=e.call(this,n)||this).state={result:null,error:null,loading:!0,cacheKey:j(n)},u(!n.__chunkExtractor||h.requireSync,"SSR requires `@loadable/babel-plugin`, please install it"),n.__chunkExtractor?(!1===t.ssr||(h.requireAsync(n).catch((function(){return null})),i.loadSync(),n.__chunkExtractor.addChunk(h.chunkName(n))),s(i)):(!1!==t.ssr&&(h.isReady&&h.isReady(n)||h.chunkName&&f.initialChunks[h.chunkName(n)])&&i.loadSync(),i)}o=e,(n=c).prototype=Object.create(o.prototype),n.prototype.constructor=n,n.__proto__=o,c.getDerivedStateFromProps=function(e,t){var n=j(e);return a({},t,{cacheKey:n,loading:t.loading||t.cacheKey!==n})};var d=c.prototype;return d.componentDidMount=function(){this.mounted=!0;var e=this.getCache();e&&e.status===m&&this.setCache(),this.state.loading&&this.loadAsync()},d.componentDidUpdate=function(e,t){t.cacheKey!==this.state.cacheKey&&this.loadAsync()},d.componentWillUnmount=function(){this.mounted=!1},d.safeSetState=function(e,t){this.mounted&&this.setState(e,t)},d.getCacheKey=function(){return j(this.props)},d.getCache=function(){return p[this.getCacheKey()]},d.setCache=function(e){void 0===e&&(e=void 0),p[this.getCacheKey()]=e},d.triggerOnLoad=function(){var e=this;l&&setTimeout((function(){l(e.state.result,e.props)}))},d.loadSync=function(){if(this.state.loading)try{var e=v(h.requireSync(this.props),this.props,_);this.state.result=e,this.state.loading=!1}catch(t){console.error("loadable-components: failed to synchronously load component, which expected to be available",{fileName:h.resolve(this.props),chunkName:h.chunkName(this.props),error:t?t.message:t}),this.state.error=t}},d.loadAsync=function(){var e=this,t=this.resolveAsync();return t.then((function(t){var n=v(t,e.props,{Loadable:_});e.safeSetState({result:n,loading:!1},(function(){return e.triggerOnLoad()}))})).catch((function(t){return e.safeSetState({error:t,loading:!1})})),t},d.resolveAsync=function(){var e=this,t=this.props,n=(t.__chunkExtractor,t.forwardedRef,r(t,["__chunkExtractor","forwardedRef"])),i=this.getCache();return i||((i=h.requireAsync(n)).status=g,this.setCache(i),i.then((function(){i.status="RESOLVED"}),(function(t){console.error("loadable-components: failed to asynchronously load component",{fileName:h.resolve(e.props),chunkName:h.chunkName(e.props),error:t?t.message:t}),i.status=m}))),i},d.render=function(){var e=this.props,n=e.forwardedRef,o=e.fallback,s=(e.__chunkExtractor,r(e,["forwardedRef","fallback","__chunkExtractor"])),c=this.state,l=c.error,d=c.loading,u=c.result;if(t.suspense&&(this.getCache()||this.loadAsync()).status===g)throw this.loadAsync();if(l)throw l;var h=o||t.fallback||null;return d?h:i({fallback:h,result:u,options:t,props:a({},s,{ref:n})})},c}(o.a.Component),x=(O=y,function(e){return o.a.createElement(b.Consumer,null,(function(t){return o.a.createElement(O,Object.assign({__chunkExtractor:t},e))}))}),_=o.a.forwardRef((function(e,t){return o.a.createElement(x,Object.assign({forwardedRef:t},e))}));return _.preload=function(e){h.requireAsync(e)},_.load=function(e){return h.requireAsync(e)},_}return{loadable:h,lazy:function(e,t){return h(e,a({},t,{suspense:!0}))}}}var O=v({defaultResolveComponent:function(e){return e.__esModule?e.default:e.default||e},render:function(e){var t=e.result,n=e.props;return o.a.createElement(t,n)}}),y=O.loadable,x=O.lazy,_=v({onLoad:function(e,t){e&&t.forwardedRef&&("function"==typeof t.forwardedRef?t.forwardedRef(e):t.forwardedRef.current=e)},render:function(e){var t=e.result,n=e.props;return n.children?n.children(t):null}}),w=_.loadable,C=_.lazy,S="undefined"!=typeof window;function I(e,t){void 0===e&&(e=function(){});var n=(void 0===t?{}:t).namespace,i=void 0===n?"":n;if(!S)return h("`loadableReady()` must be called in browser only"),e(),Promise.resolve();var o=null;if(S){var r=p(i),a=document.getElementById(r);if(a){o=JSON.parse(a.textContent);var s=document.getElementById(r+"_ext");if(!s)throw new Error("loadable-component: @loadable/server does not match @loadable/component");JSON.parse(s.textContent).namedChunks.forEach((function(e){f.initialChunks[e]=!0}))}}if(!o)return h("`loadableReady()` requires state, please use `getScriptTags` or `getScriptElements` server-side"),e(),Promise.resolve();var c=!1;return new Promise((function(e){window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[];var t=window.__LOADABLE_LOADED_CHUNKS__,n=t.push.bind(t);function i(){o.every((function(e){return t.some((function(t){return t[0].indexOf(e)>-1}))}))&&(c||(c=!0,e()))}t.push=function(){n.apply(void 0,arguments),i()},i()})).then(e)}var E=y;E.lib=w,x.lib=C;t.a=E},MLoN:function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("bxss"),o=n("n6mq"),r=n("nKUr");function a({anchor:e,children:t,idealDirection:n,onDismiss:a,paddingX:s,paddingY:c,size:l="lg"}){return Object(r.jsx)(o.f,{dangerouslySetInlineStyle:{__style:{zIndex:1e3}},display:"flex",flex:"grow",children:Object(r.jsx)(i.a,{anchor:e,idealDirection:null!=n?n:"down",onDismiss:a,positionRelativeToAnchor:!0,size:l,children:Object(r.jsx)(o.f,{direction:"column",display:"flex",flex:"grow",paddingX:null!=s?s:2,paddingY:c,role:"list",children:t})})})}},MNxV:function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("XRfM"),o=n("pLLR"),r=n("nKUr");const a=i.c.DateFormatType;t.b=({dateFormatType:e,useUTC:t=!0,value:n})=>Object(r.jsx)(o.b,{children:o=>i.c.formatDate(o.locale,n,e,t)})},MaRn:function(e,t,n){function i(e){return{type:"FEED_ITEM_REORDERED",payload:e}}n.d(t,"a",(function(){return i}))},MhBu:function(e,t,n){function i(e){return{type:"FEED_ITEMS_REMOVED",payload:e}}n.d(t,"a",(function(){return i}))},"N/FO":function(e,t,n){const i="undefined"!=typeof window&&window.performance&&window.performance.now?()=>window.performance.now():()=>Date.now();t.a=({window:e,duration:t,run:n})=>{const o=i();let r=0,a=null;const s=()=>{const c=i()-o,l=c-r;if(t===1/0)n(0,c,l);else{const e=c/t;if(e>=1)return void n(1,c,l);n(e,c,l)}r=c,a=e.requestAnimationFrame(s)};return{start:()=>{a=e.requestAnimationFrame(s)},cancel:()=>{a&&(e.cancelAnimationFrame(a),a=null)}}}},"N4T/":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.strictEquality=function(e,t){return e===t},t.areCoordsEqual=function(e,t){return!e&&!t||!(!e||!t)&&(e.x===t.x&&e.y===t.y)},t.areArraysEqual=function(e,n,i){if(void 0===i&&(i=t.strictEquality),e.length!==n.length)return!1;for(var o=0;o<e.length;++o)if(!i(e[o],n[o]))return!1;return!0}},NBXZ:function(e,t,n){t.a=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")},NFjV:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){var t=this;this.config=e,this.item={},Object.keys(this.config.exposeProperties).forEach((function(e){Object.defineProperty(t.item,e,{configurable:!0,enumerable:!0,get:function(){return console.warn("Browser doesn't allow reading \""+e+'" until the drop event.'),null}})}))}return e.prototype.mutateItemByReadingDataTransfer=function(e){var t=this,n={};e&&Object.keys(this.config.exposeProperties).forEach((function(i){n[i]={value:t.config.exposeProperties[i](e,t.config.matchesTypes)}})),Object.defineProperties(this.item,n)},e.prototype.canDrag=function(){return!0},e.prototype.beginDrag=function(){return this.item},e.prototype.isDragging=function(e,t){return t===e.getSourceId()},e.prototype.endDrag=function(){},e}();t.NativeDragSource=i},NXrh:function(e,t,n){n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return j}));var i=n("q1tI"),o=n("/MKj"),r=n("Sihc"),a=n("rrvb"),s=n("0BOE"),c=n("jdx6"),l=n("yweb"),d=n("w70y"),u=n("n6mq"),h=n("nKUr");function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const p="NO_SECTION_VALUE";function f({section:e,hovered:t,searchQuery:n}){return Object(h.jsxs)(u.f,{children:[Object(h.jsx)(u.f,{color:t?"lightGray":"white",display:"flex",padding:2,rounding:2,children:Object(h.jsx)(u.f,{flex:"grow",children:Object(h.jsx)(u.cb,{weight:"bold",children:Object(c.b)(n,e.title)})})}),e.id===p&&Object(h.jsx)(u.q,{})]})}class g extends i.Component{constructor(...e){super(...e),b(this,"state",{searchQuery:""}),b(this,"getPickerSections",()=>{const{searchQuery:e}=this.state,{sectionsResource:t,mergingFromSectionId:n}=this.props;let i=t&&t.data||[];return i=n?i.filter(e=>e.id!==n):[{id:p,title:this.props.i18n._("No section","default dropdown option for selecting a board section on pin edit","default dropdown option for selecting a board section on pin edit")},...i],e.length>=2&&(i=Object(s.a)(i,e,"title")),[{items:i}]}),b(this,"createBtnDisabled",()=>{const{sectionsResource:e}=this.props,{searchQuery:t}=this.state;return!(!e||!e.data)&&e.data.some(e=>{var n;return(null===(n=e.title)||void 0===n?void 0:n.toLowerCase())===t.toLocaleLowerCase()})}),b(this,"handleSectionCreate",()=>{const{board:e,onSectionChange:t,sectionsResource:n,dispatch:i,onSectionCreate:o}=this.props,{searchQuery:a}=this.state;o?o(a):i&&e.id&&i(Object(r.a)({boardId:e.id,name:a},this.props.i18n)).then(e=>{n&&n.refresh(),this.setState({searchQuery:""}),t(e)})}),b(this,"handleSectionSelected",e=>{const{onSectionChange:t}=this.props;e.id===p?(t(null),this.setState({searchQuery:""})):(t(e),this.setState({searchQuery:""}))}),b(this,"handleSearchQueryUpdate",e=>{this.setState({searchQuery:e})}),b(this,"renderRow",({item:e,hovered:t})=>{const{searchQuery:n}=this.state;return Object(h.jsx)(f,{hovered:t,searchQuery:n,section:e})})}componentDidUpdate(e){const t=e.selectedSectionId,{selectedSectionId:n}=this.props;if(n!==t){const{sectionsResource:e}=this.props;e&&e.refresh()}}render(){const{isStoryPin:e,sectionsResource:t,selectedSectionId:n,mergingFromSectionId:i,selectedSectionName:o}=this.props,{searchQuery:r}=this.state;let s=i?this.props.i18n._("Pick a section","default dropdown option for selecting a board section to merge to","default dropdown option for selecting a board section to merge to"):this.props.i18n._("No section","default dropdown option for selecting a board section on pin edit","default dropdown option for selecting a board section on pin edit");if(n){let e;t&&t.data&&(e=t.data.find(e=>e.id===n)),s=e&&e.title||s}else o&&(s=o);return Object(h.jsxs)(u.f,{children:[Object(h.jsx)(u.U,{accessibilityLabel:this.props.i18n._("loading section picker","accessibility text for loading spinner","accessibility text for loading spinner"),show:!!t&&!t.isLoaded}),(!t||t&&t.isLoaded)&&Object(h.jsx)(a.a,{createBtnDisabled:this.createBtnDisabled(),dropdownValue:s,isStoryPin:e,onCreate:i?null:this.handleSectionCreate,onSearchQueryUpdate:this.handleSearchQueryUpdate,onSelect:this.handleSectionSelected,renderRow:this.renderRow,searchQuery:r,sections:this.getPickerSections()})]})}}function m(e){const t=Object(l.c)();return Object(h.jsx)(g,{...e,dispatch:Object(o.useDispatch)(),i18n:t})}function j(e){const t=Object(d.a)({name:"BoardSectionsRepinResource",options:{board_id:e.board.id},noCache:!0});return Object(h.jsx)(m,{...e,sectionsResource:t})}},NdQN:function(e,t,n){var i=n("q1tI"),o=n("JW66"),r=(n("9QW3"),n("n6mq")),a=n("yweb"),s=n("nKUr");function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l extends i.Component{constructor(...e){super(...e),c(this,"setInputRef",e=>{e&&(this._input=e)}),c(this,"handleKeyDown",e=>{const{disabled:t,indexManager:n}=this.props;if(!t)switch(e.which){case o.a.KeyCode.ENTER:case o.a.KeyCode.NUMPAD_ENTER:e.preventDefault(),n.select();break;case o.a.KeyCode.UP:e.preventDefault(),n.prev();break;case o.a.KeyCode.DOWN:e.preventDefault(),n.next()}})}componentDidMount(){this._input&&this._input.focus()}render(){const{onChange:e,value:t}=this.props;return Object(s.jsx)("div",{onKeyDown:this.handleKeyDown,role:"presentation",style:{width:"100%"},children:Object(s.jsx)(r.Q,{accessibilityLabel:"",id:"pickerSearchField",onChange:({value:t})=>e(t),placeholder:this.props.i18n._("Search","search bar placeholder text","search bar placeholder text"),ref:this.setInputRef,size:"lg",value:t})})}}t.a=function(e){const t=Object(a.c)();return Object(s.jsx)(l,{...e,i18n:t})}},NdXn:function(e,t,n){function i(e){return e.replace(/[_.-](\w|$)/g,(e,t)=>t.toUpperCase())}n.d(t,"a",(function(){return i}))},NjDU:function(e,t,n){function i(e){return{type:"UPDATE_USER_PIN_COUNT",payload:e}}function o(e){return{type:"UPDATE_USER_FOLLOWING_COUNT",payload:e}}function r(e){return{type:"UPDATE_USER_SCHEDULED_PIN_COUNT",payload:e}}function a(e,t){return{type:"UPDATE_USER_SOCIAL_NETWORK",payload:{socialNetworkName:e,connected:t}}}n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return r})),n.d(t,"e",(function(){return a})),n.d(t,"g",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"a",(function(){return l}));const s=e=>({type:"USER_DOMAIN_VERIFIED",payload:{verifiedWebsite:e}}),c=e=>({type:"USER_DOMAIN_UNVERIFIED",payload:{verifiedWebsite:e}});function l(e){return{type:"UPDATE_HAS_QUICKSAVE_BOARD",payload:{createdQuicksaveBoard:e}}}},Nle8:function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("ajUs"),o=n("zpPL");function r(e,t){const n=o.a.instance;let r;if(n){const o=n.getState();if(o.pins&&e){const n=o.pins[e],a=o.location;if(null!=t&&t.shouldTrackForPrevLocation){const e=(null==n?void 0:n.tracking_params_map)||{},t=Object.keys(e).find(e=>"PinResource"!==e);n&&(r=t?e[t]:e.PinResource)}else n&&(r=Object(i.a)(n,a))}}return r}},NoNI:function(e,t,n){n.d(t,"a",(function(){return c}));var i=n("q1tI"),o=n("TNox"),r=n("n6mq"),a=n("nKUr");const s={bubbleOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"},hoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.6)"}};function c({backgroundColor:e,children:t,coverImage:n,height:c,id:l,isHovered:d,onMouseEnter:u,onMouseLeave:h,onClick:b,url:p,width:f,disableTabIndex:g}){var m,j;const[v,O]=Object(i.useState)(!1),y=()=>{u?u():O(!0)},x=()=>{h?h():O(!1)},_=d||v;return Object(a.jsx)(o.a,{href:p,onBlur:x,onMouseLeave:x,onFocus:y,onMouseEnter:y,onTap:()=>{null==b||b(l)},rounding:4,tabIndex:g?-1:void 0,children:Object(a.jsx)(r.D,{rounding:4,width:f||"100%",height:c,children:null!=n&&n.url?Object(a.jsxs)(r.y,{alt:"",color:e,fit:"cover",naturalHeight:null!==(m=n.height)&&void 0!==m?m:1,naturalWidth:null!==(j=n.width)&&void 0!==j?j:1,role:"presentation",src:n.url,children:[Object(a.jsx)(r.f,{height:"100%",width:"100%",dangerouslySetInlineStyle:{__style:_?s.hoverOverlay:s.bubbleOverlay}}),"function"==typeof t?t({isHovered:_}):t]}):Object(a.jsx)(r.f,{height:"100%",width:"100%",dangerouslySetInlineStyle:{__style:{backgroundColor:e}}})})})}},NrS9:function(e,t,n){n.d(t,"b",(function(){return c}));var i=n("gxu6"),o=n("7w6Q"),r=n("eOdZ"),a=n("mBfy");const s=function(){};Object.assign(s.prototype,{sendSubscriptionToServer(e,t,n){i.b("cm_sub","allowed",8760,"/"),t&&t(),o.a.increment("auth.web.notifications.allowed",1,{sourceLandingPage:n});let a=e.subscriptionId;if(!a){const t=e.endpoint.split("/");a=t[t.length-1]}return r.d.create("WebPushDeviceResource",{}).callGet({showError:!1}).then(t=>{const n=t.resource_response.data;if(!(a in n)){const t={registration_id:a,subscription_endpoint:e.endpoint};return r.d.create("WebPushDeviceResource",t).callCreate()}})},subscribe(e,t,n){return o.a.increment("auth.web.notifications.viewed",1,{sourceLandingPage:n}),navigator.serviceWorker.ready.then(r=>{var a;null==r||null===(a=r.pushManager)||void 0===a||a.subscribe({userVisibleOnly:!0}).then(t=>this.sendSubscriptionToServer(t,e,n),r=>{"Notification"in window&&"denied"!==Notification.permission?(i.b("cm_sub","dismissed",8760,"/"),t&&t(),o.a.increment("auth.web.notifications.dismissed",1,{sourceLandingPage:n})):(i.b("cm_sub","denied",8760,"/"),e&&e(),o.a.increment("auth.web.notifications.denied",1,{sourceLandingPage:n}))})}).catch(()=>{})},initializeState(){if(a.default.isLimitedLogin())i.b("cm_sub","denied",8760,"/");else if(a.default.isAuthenticated())if("showNotification"in ServiceWorkerRegistration.prototype)if("Notification"in window&&"denied"!==Notification.permission){if("PushManager"in window)return navigator.serviceWorker.ready.then(e=>e.pushManager.getSubscription()).then(e=>{if(e)return this.sendSubscriptionToServer(e);throw i.b("cm_sub","none",8760,"/"),new Error}).catch(e=>{});i.b("cm_sub","denied",8760,"/")}else i.b("cm_sub","denied",8760,"/");else i.b("cm_sub","denied",8760,"/");else i.b("cm_sub","denied",8760,"/")}}),s.instance=function(){return s._instance||(s._instance=new s),s._instance},"undefined"!=typeof window&&window.addEventListener("load",()=>{"serviceWorker"in navigator&&void 0!==navigator.serviceWorker&&navigator.serviceWorker.register("/sw.js").then(()=>{s.instance().initializeState()}).catch(()=>{})});const c=()=>{if("serviceWorker"in navigator&&void 0!==navigator.serviceWorker&&"Notification"in window&&"PushManager"in window)try{return window.Notification.permission}catch(e){return}};t.a=s},"O1y+":function(e,t,n){var i=n("pOug");const o=Object(i.a)(e=>e.pin&&e.pin.id?{...e,id:e.id,aggregatedPinData:e.pin.aggregated_pin_data}:null);t.a=o},O7RO:function(e,t,n){var i=n("CMye"),o=n("7GkX");e.exports=function(e){for(var t=o(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,i(a)]}return t}},OBhP:function(e,t,n){var i=n("fmRc"),o=n("gFfm"),r=n("MrPd"),a=n("WwFo"),s=n("Dw+G"),c=n("5Tg0"),l=n("Q1l4"),d=n("VOtZ"),u=n("EEGq"),h=n("qZTm"),b=n("G6z8"),p=n("QqLw"),f=n("yHx3"),g=n("wrZu"),m=n("+iFO"),j=n("Z0cm"),v=n("DSRE"),O=n("zEVN"),y=n("GoyQ"),x=n("1+5i"),_=n("7GkX"),w=n("mTTR"),C="[object Arguments]",S="[object Function]",I="[object Object]",E={};E[C]=E["[object Array]"]=E["[object ArrayBuffer]"]=E["[object DataView]"]=E["[object Boolean]"]=E["[object Date]"]=E["[object Float32Array]"]=E["[object Float64Array]"]=E["[object Int8Array]"]=E["[object Int16Array]"]=E["[object Int32Array]"]=E["[object Map]"]=E["[object Number]"]=E[I]=E["[object RegExp]"]=E["[object Set]"]=E["[object String]"]=E["[object Symbol]"]=E["[object Uint8Array]"]=E["[object Uint8ClampedArray]"]=E["[object Uint16Array]"]=E["[object Uint32Array]"]=!0,E["[object Error]"]=E[S]=E["[object WeakMap]"]=!1,e.exports=function e(t,n,T,P,D,B){var M,k=1&n,R=2&n,A=4&n;if(T&&(M=D?T(t,P,D,B):T(t)),void 0!==M)return M;if(!y(t))return t;var L=j(t);if(L){if(M=f(t),!k)return l(t,M)}else{var N=p(t),U=N==S||"[object GeneratorFunction]"==N;if(v(t))return c(t,k);if(N==I||N==C||U&&!D){if(M=R||U?{}:m(t),!k)return R?u(t,s(M,t)):d(t,a(M,t))}else{if(!E[N])return D?t:{};M=g(t,N,k)}}B||(B=new i);var F=B.get(t);if(F)return F;B.set(t,M),x(t)?t.forEach((function(i){M.add(e(i,n,T,i,t,B))})):O(t)&&t.forEach((function(i,o){M.set(o,e(i,n,T,o,t,B))}));var H=L?void 0:(A?R?b:h:R?w:_)(t);return o(H||t,(function(i,o){H&&(i=t[o=i]),r(M,o,e(i,n,T,o,t,B))})),M}},OQKm:function(e,t,n){n.d(t,"a",(function(){return te}));var i=n("q1tI"),o=n("clxp"),r=n("rYoy"),a=n("M1Uz"),s=n("yweb"),c=n("nGHF"),l=n("n6mq"),d=n("nKUr");const u=Object(i.lazy)(()=>n.e("ReactCopyToClipboardLibrary").then(n.t.bind(null,"P5Jw",7)));function h({linkURL:e,onDidFocus:t,onDidClickCopyButton:n}){const i=Object(s.c)(),{showOneToast:h}=Object(c.b)(),b=i._("Copy link","[button] copy a URL link shown, to paste in another place","[button] copy a URL link shown, to paste in another place");return Object(d.jsxs)(l.f,{display:"flex",alignItems:"center",paddingX:4,children:[Object(d.jsx)(l.f,{flex:"grow",marginEnd:2,children:Object(d.jsx)(l.eb,{id:"copylinkurl",onChange:()=>{},onFocus:t,size:"lg",type:"url",value:e})}),Object(d.jsx)(o.a,{name:"SafeSuspense_CopyableLink_CopyToClipboard",children:Object(d.jsx)(r.a,{fallback:Object(d.jsx)(l.g,{text:b,disabled:!0}),children:Object(d.jsx)(u,{text:e,onCopy:(e,t)=>{t&&h(({onHide:e})=>Object(d.jsx)(a.a,{onHide:e,text:i._("Link copied to clipboard!","toast message to confirm if users copied the url successfully","toast message to confirm if users copied the url successfully")})),n()},children:Object(d.jsx)(l.g,{text:b,size:"lg"})})})})]})}var b=n("mvLR"),p=n("oVol"),f=n("U4JR"),g=n("udob");const m=e=>({invite_category:4,invite_channel:12,object_type:p.a.BOARD,object_id:e});function j({boardId:e}){const[t,n]=Object(i.useState)(!1),[o,r]=Object(i.useState)(null);Object(i.useEffect)(()=>{if(!o){const t=m(e),{cancel:n,promise:i}=Object(b.a)(g.a.createShareInviteData(t));return i.then(e=>r(e)),()=>{n()}}},[]);const a=o?o.invite_url:"...",s=()=>{null===o||t||(n(!0),g.a.logShareInvite(m(e),o))};return Object(d.jsx)(h,{linkURL:a,onDidClickCopyButton:()=>{Object(f.b)(101,(e=>({component:13305,element:10921,objectId:e,view:5,viewParameter:3059}))(e)),s()},onDidFocus:s})}var v=n("+wrf"),O=n("FDmi"),y=n("w70y");function x({boardId:e,invitedUserId:t,isInvited:n,onClick:o,buttonSize:r="sm"}){const a=Object(s.c)(),c=Object(y.a)({name:"BoardInviteResource",options:{board_id:e,invited_user_id:t}});Object(i.useEffect)(()=>{c.refresh()},[]);const u={text:a._("Invite","[button] invite someone to collaborate on a board","it appears in the list expanded when click invite button at the top of board page"),color:"red",disabled:!1};return c.isFetching&&(u.text=a._("Loading","[button] disabled button status text when checking if the user has been invited","it appears in the list expanded when click invite button at the top of board page"),u.color="gray",u.disabled=!0),(n||c.isLoaded&&c.data)&&(u.text=a._("Invited","[button] disabled button status text when a user has been invited to a board","it appears in the list expanded when click invite button at the top of board page"),u.color="gray",u.disabled=!0),Object(d.jsx)(l.g,{fullWidth:!0,color:u.color,size:r,disabled:u.disabled,onClick:o,text:u.text})}var _=n("ViqK"),w=n("xZ6X"),C=n("fZbY"),S=n("7w6Q"),I=n("TSYQ"),E=n.n(I),T=n("G35+"),P=n("+zF7");const{FACEBOOK:D,GPLUS:B,YAHOO:M}=T.a,k="40px";function R(e){const t=Object(s.c)(),n={[D]:t._("Find friends from Facebook"),[B]:t._("Find friends from Google+"),[M]:t._("Find friends from Yahoo")},{network:i}=e;return Object(d.jsx)(l.bb,{onTap:()=>function(e){P.a.instance().handleConnect(e,!0,{})}(i),children:Object(d.jsxs)(l.f,{display:"flex",alignItems:"center",paddingX:3,paddingY:2,children:[Object(d.jsx)(l.f,{width:k,height:k,marginEnd:4,children:Object(d.jsx)("div",{className:"SocialConnectCell",children:Object(d.jsx)("div",{className:E()("icon","socialConnect-"+i),children:Object(d.jsx)("em",{})})})}),Object(d.jsx)(l.u,{alignItems:"start",direction:"column",flex:"grow",justifyContent:"start",children:Object(d.jsx)(l.cb,{color:"darkGray",size:"md",weight:"bold",children:n[i]})})]})})}var A=n("oRM1"),L=n("xkL+");var N=n("ZE2w");const U=[];function F({boardId:e,onInvitesDidUpdate:t,onInviteDidComplete:n,shareSuggestions:o}){const r=Object(s.c)(),a=Object(L.b)();let c=null;const u=Object(y.a)({name:"UserResource",options:{user_id:a.isAuth?a.id:"",username:a.isAuth?a.username:"",field_set_key:"social_connect"},dangerouslyDisableFetch:!a.isAuth});var h;u.data&&(h=u.data,c={facebook:{connected:h.connected_to_facebook||!1},google:{connected:h.connected_to_google||!1},youtube:{connected:h.connected_to_youtube||!1},gplus:{connected:!!h.gplus_url,url:h.gplus_url},microsoft:{connected:h.connected_to_microsoft||!1},twitter:{connected:!!h.twitter_url,url:h.twitter_url},etsy:{connected:h.connected_to_etsy||!1},instagram:{connected:h.connected_to_instagram||!1},dropbox:{connected:h.connected_to_dropbox||!1}});const[b,p]=Object(i.useState)(""),[g,m]=Object(i.useState)([]),[j,v]=Object(i.useState)({}),[I,E]=Object(i.useState)({}),T=e=>{switch(e.type){case"user":case"user_share_suggestion":return e.username||r._("On Pinterest","is a user of Pinterest","is a user of Pinterest");case"emailcontact":case"email_share_suggestion":return e.email||r._("Email Contact","invited user has an email","invited user has an email")}return""},P=(i,o)=>{const{id:r,full_name:a,debug_reason:s}=i;let c="";s&&(c=s.reason),((t,n)=>{const i=b?1044:1039;Object(f.b)(101,{component:13029,element:i,entered_query:b,result_index:t+1,rs:n,objectId:e,view:5,viewParameter:3059})})(o,c);const l={...j};l[r]=!0,v(l),Object(N.e)(e,[r]).then(()=>{n(a,!0)}).catch(e=>{n(a,!1,e);const t={...j};t[r]=!1,v(t)}).finally(t)},D=[...(e=>{if(!e)return[];return Object.keys(e).filter(e=>U.includes(e)).filter(t=>!1===e[t].connected).map(e=>Object(d.jsx)(R,{network:e},"socialConnect-"+e))})(c)];let B=o;return b&&(B=g),Object(d.jsxs)(l.u,{alignItems:"stretch",justifyContent:"start",direction:"column",minHeight:0,children:[Object(d.jsx)(l.f,{paddingY:4,flex:"none",display:"flex",alignItems:"center",children:Object(d.jsx)(l.f,{flex:"grow",children:Object(d.jsx)(A.a,{onTypeaheadSuggestionsChange:e=>{S.a.increment("web_contacts_search",1,{source:"board_invite"}),m(e)},resourceName:"ShareSuggestionsTypeaheadResource",resourceOptions:{suggestion_type:"group_board",count:25},value:b,children:Object(d.jsx)(l.f,{paddingX:4,children:Object(d.jsx)(l.Q,{accessibilityLabel:r._("Search for a name or email","accessible label for contact search input field","accessible label for contact search input field"),id:"search",onChange:({value:e})=>{p(e),Object(f.b)(4113,{component:13029,element:1043,entered_query:e,viewParameter:3059})},placeholder:r._("Search by name or email","search input field prompt for finding contacts","search input field prompt for finding contacts"),size:"lg",value:b})})})})}),Object(d.jsxs)(l.f,{overflow:"scrollY",maxHeight:414,children:[B.map((t,n)=>{const i=t.username?`/${t.username}/`:null;return Object(d.jsx)(l.f,{children:Object(d.jsx)(_.a,{imageUrl:t.image_medium_url||"",name:t.full_name||t.email,title:t.full_name||t.email,subtitle:T(t),accessory:Object(d.jsx)(x,{boardId:e,invitedUserId:t.id,isInvited:(o=t.id,!!j[o]),onClick:()=>P(t,n),buttonSize:"lg"}),linkURL:i})},n);var o}),b&&(Object(C.a)(b)?Object(d.jsx)(_.a,{name:b,title:b,accessory:(M=!!I[b],k=()=>{const i=b;if(!Object(C.a)(i))return;const o={...I};o[i]=!0,E(o),Object(N.d)(e,[i]).then(()=>{n(i,!0),p("")}).catch(e=>{n(i,!1,e);const t={...I};t[i]=!1,E(t)}).finally(t)},F="lg",Object(d.jsx)(l.g,{fullWidth:!0,color:M?"gray":"red",disabled:!!M,size:F,onClick:k,text:M?r._("Invited","[button] disabled button status text when a user has been invited to a board","[button] disabled button status text when a user has been invited to a board"):r._("Invite","[button] invite someone to collaborate on a board","[button] invite someone to collaborate on a board")}))}):Object(d.jsx)(w.a,{iconNode:Object(d.jsx)(O.a,{name:b,size:"md"}),title:b,subtitle:r._("Keep typing!","boardCollabInviterForm.label","Message for user to keep typing")})),D]})]});var M,k,F}var H=n("vvax");function z({boardId:e}){const t=Object(s.c)(),n=Object(c.b)(),{refresh:o}=Object(y.a)({name:"BoardInvitesResource",options:{board_id:e,field_set_key:"boardEdit",status_filters:"new,accepted,contact_request_not_approved",sort:"viewer_first",include_inactive:!0},noCache:!0}),{refresh:r}=Object(y.a)({name:"BoardInvitesResource",options:{board_id:e,field_set_key:"boardEdit",status_filters:"pending_approval"},noCache:!0}),{data:u,isLoaded:h}=Object(y.a)({name:"ShareSuggestionsResource",options:{page_size:5,field_set_key:"default",suggestion_type:"group_board"},noCache:!0});Object(i.useEffect)(()=>{Object(f.b)(7120,{objectId:e,view:5,viewParameter:3059})},[]),Object(i.useEffect)(()=>{if(h){const e=u&&u.length>0?7511:7512;Object(f.b)(e,{component:13305,element:10592,view:5,viewParameter:3059})}},[h]);const b=(e,t=!1)=>{n.showOneToast(({onHide:n})=>Object(d.jsx)(a.a,{duration:3e3,onHide:n,text:e,variant:t?"error":void 0}))};return h?Object(d.jsx)(F,{boardId:e,onInvitesDidUpdate:()=>{o(),r()},onInviteDidComplete:(e,n,i)=>{n?b(t._("1 invite sent!","BoardCollabInviteFormContainer.showInviteSuccessToast.text","Toast for successfully sending invitation of collaborating a board")):((e,n)=>{const i=t._("Failed to invite {{userIdentifier}} to collaborate","Toast for failing to send invitation of collaborating a board","Toast for failing to send invitation of collaborating a board");b(n&&n.message?n.message:Object(H.b)(i,{userIdentifier:e}).join(""),!0)})(e,i)},shareSuggestions:u||[]}):Object(d.jsx)(l.f,{display:"flex",justifyContent:"center",paddingY:12,width:"100%",children:Object(d.jsx)(l.U,{accessibilityLabel:t._("Loading contacts","BoardCollab.BoardCollabInviteFormContainer","Accessibility label on loading spinner"),show:!0})})}const q="INVITE_SETTING",G="REQUEST_TO_JOIN_SETTING";function W({boldHeading:e,setting:t,viewerIsOwner:n}){const o=Object(s.c)(),r={0:{name:o._("Do (almost) everything","save.board.BoardPage.ModalContents.BoardCollabSettings","Heading explaining collaborator permission setting"),description:o._("Add, move or delete Pins and sections, comment and react","save.board.BoardPage.ModalContents.BoardCollabSettings","Text explaining collaborator permission setting")},1:{name:o._("Save and comment","save.board.BoardPage.ModalContents.BoardCollabSettings","Heading explaining collaborator permission setting"),description:n?o._("Save Pins, organize them, comment and react","save.board.BoardPage.ModalContents.BoardCollabSettings","Text explaining collaborator permission setting"):o._("Save Pins, organize them, comment, and react. For more permissions, reach out to the board owner!","save.board.BoardPage.ModalContents.BoardCollabSettings.SaveOnly.Collab","Text explaining collaborator permission setting")},[q]:{name:o._("Invite other people","save.board.BoardPage.ModalContents.BoardCollabSettings","Heading explaining collaborator permission setting"),description:o._("Collaborators can invite others to this board","save.board.BoardPage.ModalContents.BoardCollabSettings","Text explaining collaborator permission setting")},[G]:{name:o._("Board requests","save.board.BoardPage.ModalContents.BoardCollabSettings","Heading explaining collaborator permission setting"),description:o._("People can request to join this board","save.board.BoardPage.ModalContents.BoardCollabSettings","Text explaining collaborator permission setting")}},a=e?l.v:l.cb;return Object(d.jsxs)(i.Fragment,{children:[Object(d.jsx)(a,{color:"darkGray",size:e?"sm":"lg",children:r[t].name}),Object(d.jsx)(l.f,{paddingY:1,children:Object(d.jsx)(l.cb,{color:"gray",size:"lg",children:r[t].description})})]})}var V=n("EwHv"),K=n("TgLd"),Y=n("gMUm"),X=n("EC67");function Q({board:e,currentPermissionLevel:t,navigateToPermissions:n,onDismiss:o}){var r;const a=Object(s.c)(),c="number"==typeof e.collaborator_count&&e.collaborator_count>0,[u,h]=Object(i.useState)(!c),b=Object(L.b)(),p=Object(X.h)(),f=b.isAuth&&(null===(r=e.owner)||void 0===r?void 0:r.id)===b.id,g=f||e.collaborator_invites_enabled,m=u&&!c||!u;return Object(d.jsx)(Y.a,{boardName:e.name,pendingOwnershipTransfer:e.pending_ownership_transfer,viewerIsOwner:f,children:Object(d.jsx)(K.b,{_dangerouslyDisableScrollBoundaryContainer:!0,accessibilityModalLabel:u?a._("Invite collaborators","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Accessibility label on a modal"):a._("Collaborators","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Accessibility label on a modal"),footer:g&&!u?Object(d.jsx)(l.bb,{onTap:()=>h(!0),rounding:8,children:Object(d.jsxs)(l.u,{alignItems:"center",justifyContent:"start",children:[Object(d.jsx)(l.x,{accessibilityLabel:a._("Invite collaborators","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","accessibility label on icon button"),icon:"add",bgColor:"red",iconColor:"white"}),Object(d.jsx)(l.f,{paddingX:3,children:Object(d.jsx)(l.cb,{size:"lg",weight:"bold",children:a._("Invite collaborators","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Clickable text to show invite form")})})]})}):null,heading:Object(d.jsx)(l.f,{padding:8,children:Object(d.jsx)(l.v,{align:"center",size:"md",children:u?a._("Invite collaborators","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Heading for a modal"):a._("Collaborators","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Heading for a modal")})}),onDismiss:o,children:Object(d.jsxs)(l.f,{marginBottom:5,children:[m&&Object(d.jsxs)(l.f,{paddingX:6,children:[Object(d.jsx)(l.f,{paddingY:3,children:Object(d.jsx)(l.cb,{size:"sm",children:f?a._("Collaborators can...","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Text before explaining current collaborator permission setting"):a._("You can...","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Text before explaining current collaborator permission setting")})}),Object(d.jsxs)(l.f,{alignItems:"start",display:"flex",justifyContent:"between",marginBottom:4,children:[Object(d.jsx)(l.f,{width:"60%",children:Object(d.jsx)(W,{boldHeading:!0,viewerIsOwner:f,setting:t})}),f&&Object(d.jsx)(l.x,{accessibilityLabel:a._("Edit board permissions","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Accessibility label on icon button"),icon:"arrow-forward",onClick:n})]})]}),u?Object(d.jsxs)(l.f,{paddingX:2,children:[Object(d.jsx)(j,{boardId:e.id}),Object(d.jsx)(z,{boardId:e.id})]}):Object(d.jsxs)(i.Fragment,{children:[Object(d.jsx)(l.f,{paddingX:6,paddingY:5,children:Object(d.jsx)(l.cb,{size:"sm",children:a._("Collaborators","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Header before listing collaborators on a group board")})}),Object(d.jsx)(V.a,{board:e,scrollInfo:null,onBoardLeave:()=>{const e=b.isAuth?"/"+b.username:"/";p.replace(e)},renderInvite:(e,t,n)=>{const i={invite:e,onBoardLeave:t,onInviteDidUpdate:n,useGestaltModal:!0,isDim:!1};return Object(d.jsx)(v.a,{...i})}})]})]})})})}var Z=n("/MKj"),$=n("pLLR"),J=n("oN2T");function ee({board:{collaborator_invites_enabled:e,collaborator_requests_enabled:t,id:n},currentPermissionLevel:o,navigateToCollaborators:r,onDismiss:a}){const c=Object(s.c)(),[u,h]=Object(i.useState)(o),[b,p]=Object(i.useState)(e),[g,m]=Object(i.useState)(t),[j,v]=Object(i.useState)(!1),O=Object($.d)(),y=Object(Z.useDispatch)();return Object(d.jsx)(K.b,{accessibilityModalLabel:c._("Board permissions","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Accessibility label on a modal"),heading:Object(d.jsxs)(l.f,{paddingY:8,position:"relative",children:[Object(d.jsx)(l.f,{position:"absolute",top:!0,left:!O.isRTL,right:O.isRTL,paddingY:8,paddingX:6,children:Object(d.jsx)(l.x,{accessibilityLabel:c._("Back","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Accessibility label on a button"),icon:"arrow-back",iconColor:"darkGray",onClick:r})}),Object(d.jsx)(l.v,{align:"center",size:"md",children:c._("Collaborators can...","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Heading for a modal")}),Object(d.jsx)(l.f,{position:"absolute",top:!0,left:O.isRTL,right:!O.isRTL,paddingY:8,paddingX:6,children:Object(d.jsx)(l.x,{accessibilityLabel:c._("Close","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Accessibility label on a button"),icon:"cancel",iconColor:"darkGray",onClick:a})})]}),footer:Object(d.jsx)(l.u,{alignItems:"stretch",justifyContent:"end",children:Object(d.jsx)(l.g,{color:"red",disabled:j||u===o&&b===e&&g===t,onClick:()=>{v(!0);const i={id:n},r={view:5,viewParameter:3472};b!==e&&(i.collaborator_invites_enabled=b,Object(f.b)(b?106:107,{element:11896,...r})),u!==o&&(i.collaborator_permissions_setting=u,Object(f.b)(8841,{...r})),g!==t&&(i.collaborator_requests_enabled=g),y(Object(J.l)(i)).then(()=>a())},size:"lg",text:c._("Done","save.board.BoardPage.ModalContents.PermissionsModal","Submit button on a form")})}),onDismiss:a,children:Object(d.jsxs)(l.f,{paddingX:12,children:[Object(d.jsx)(l.f,{paddingY:3,children:Object(d.jsx)(l.cb,{size:"sm",children:c._("Permissions","save.board.BoardPage.ModalContents.PermissionsModal","Heading before listing possible board permissions")})}),Object(d.jsxs)(l.u,{alignItems:"center",children:[Object(d.jsx)(l.N,{checked:0===u,id:"ALL",onChange:()=>h(0),value:0}),Object(d.jsx)(l.f,{marginEnd:12,paddingX:2,children:Object(d.jsx)(W,{setting:0})})]}),Object(d.jsxs)(l.f,{display:"flex",paddingY:6,"data-test-id":"invite-radio-container",children:[Object(d.jsx)(l.N,{checked:1===u,id:"SAVE_ONLY",onChange:()=>h(1),value:1}),Object(d.jsx)(l.f,{marginEnd:12,paddingX:2,children:Object(d.jsx)(W,{setting:1})})]}),Object(d.jsx)(l.f,{paddingY:3,children:Object(d.jsx)(l.cb,{size:"sm",children:c._("Invitations","save.board.BoardPage.ModalContents.PermissionsModal","Heading before group board invitation permission form setting")})}),Object(d.jsxs)(l.f,{display:"flex",marginBottom:6,"data-test-id":"invite-checkbox-container",children:[Object(d.jsx)(l.k,{checked:b,id:"inviteSetting",onChange:({checked:e})=>p(e)}),Object(d.jsx)(l.f,{marginEnd:12,paddingX:2,children:Object(d.jsx)(W,{setting:q})})]}),Object(d.jsxs)(l.u,{alignItems:"center",justifyContent:"start",children:[Object(d.jsx)(l.k,{checked:g,id:"inviteSetting",onChange:({checked:e})=>m(e)}),Object(d.jsx)(l.f,{marginEnd:12,paddingX:2,children:Object(d.jsx)(W,{setting:G})})]})]})})}function te({board:e,onDismiss:t}){const[n,o]=Object(i.useState)("collaboratorsView"),{collaborator_permissions_setting:r}=e;return"collaboratorsView"===n?Object(d.jsx)(Q,{board:e,currentPermissionLevel:r,navigateToPermissions:()=>o("permissionsView"),onDismiss:t}):Object(d.jsx)(ee,{board:e,currentPermissionLevel:r,navigateToCollaborators:()=>o("collaboratorsView"),onDismiss:t})}},OWXb:function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("eOdZ");function o(e){return t=>function(e){return i.d.create("BoardActionStatusResource",{board_id:e}).callGet({showError:!1}).then(e=>new Promise((t,n)=>{const i=e&&e.resource_response&&e.resource_response.data&&e.resource_response.data.blocking_actions;i?t(i):n(new Error("No blocking actions found in the response"))}))}(e).then(n=>(t({type:"BLOCKING_ACTIONS_UPDATED",payload:{boardId:e,blockingActions:n}}),n))}},Ofms:function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("n6mq"),o=n("nKUr");function r(e){const{children:t,display:n,id:r}=e;return Object(o.jsx)(i.f,{"data-test-id":r,display:n,children:t})}},Oz7m:function(e,t,n){n.d(t,"a",(function(){return c}));var i=n("q1tI"),o=n("KEt0"),r=n("n6mq"),a=n("nKUr");function s(e){return null!=e}function c({additionalPadding:e,inline:t,items:n}){const c=e?Object(a.jsx)("span",{style:{padding:`0 ${4*e}px`},children:Object(a.jsx)(o.a,{})}):Object(a.jsx)(o.a,{}),l=n.filter(s).reduce((e,t,n)=>[...e,0!==n?c:null,t],[]).filter(s).map((e,t)=>Object(a.jsx)(i.Fragment,{children:e},t));return 0===l.length?null:t?Object(a.jsx)(r.f,{children:l}):Object(a.jsx)(r.u,{alignItems:"center",justifyContent:"start",children:l})}},P2Et:function(e,t,n){n.d(t,"b",(function(){return H}));var i=n("q1tI"),o=n("ks/r"),r=n("d7JY"),a=n("yweb"),s=n("n6mq"),c=n("nKUr");function l({isSection:e}){const t=Object(a.c)(),n=e?t._("There aren’t any Pins in this section yet","EmptyBoard.EmptyText.section","Statement that there are no pins in the section"):t._("There aren’t any Pins on this board yet","EmptyBoard.EmptyText.board","Statement that there are no pins on the board");return Object(c.jsx)(r.a,{children:Object(c.jsx)(s.f,{paddingY:8,children:Object(c.jsx)(s.cb,{color:"darkGray",size:"lg",children:n})})})}function d({hasSections:e,isSection:t}){return Object(c.jsx)(s.u,{alignItems:"stretch",justifyContent:"center",width:"100%",children:!t&&e?null:Object(c.jsx)(l,{isSection:t})})}var u=n("3z7j"),h=n("mmKv"),b=n("dKiF");const p=e=>null===e,f=e=>e?164:5,g=e=>"story"===e.type&&["recommended_searches","search_related_queries","BUBBLE_ONE_COL"].includes(e.story_type),m=(e,t)=>e+(e>=t?1:0),j=Object(b.b)(0,b.a)(e=>e);function v(e){const{boardSectionId:t,gridItem:n,index:i,paddingBottom:o,renderPinItem:r,viewParameter:a}=e,{itemKey:l}=n;let d=null;switch(l.type){case"story":d=Object(c.jsx)(h.a,{slot:i,storyId:l.id,viewType:f(t),viewParameter:a});break;case"pin":d=Object(c.jsx)(s.f,{dangerouslySetInlineStyle:{__style:{paddingBottom:o}},children:r(n,i)});break;default:d=null}return Object(c.jsx)(s.f,{children:d},`${l.type}:${l.id}`)}var O=n("MaRn"),y=n("R0ru"),x=n("9X5u"),_=n("rg+c");const w=-1;var C=Object(x.a)(_.a.Pin)((function(e){const{allowReordering:t,children:n,connectDropTarget:i,index:o,isDragWithinBounds:r}=e;return t&&i?i(Object(c.jsx)("div",{style:{opacity:o===w||r?1:.5},children:n})):n})),S=n("EhF7"),I=n("82UD"),E=n("0S8y");function T(e){const{allowReordering:t,boardSectionId:n,gridItem:i,handlePinDragBegin:o,handlePinDragEnd:r,handlePinDragHover:a,index:s,lfvExperiences:l,onBulkEditPinClick:d,source:u,target:h,viewParameter:b}=e,{inBulkEditMode:p,isCollaborator:g,isGroupBoard:m,isOwnBoard:j,isSelected:v,itemKey:{id:O}}=i,y=u!==w,x=h===s,C={pinId:O,imageOnlyOption:!j&&Object(E.b)(l)?"image-only":"default",attributionOption:m?"show":"hide",pinImageCrop:"none",surface:p?"BulkEditMode":"BaseBoardPinGrid",trackingParameters:{slotIndex:s,viewParameter:b,viewType:f(n)}};if(!j&&!g)return Object(c.jsx)(I.default,{...C});let T="no-selection";p&&(T=v?"selected":"deselected");let P=Object(c.jsx)(I.default,{...C,disableHover:y||p,selectionState:T});return p&&(P=Object(c.jsx)(S.a,{onClick:()=>d(O),children:P})),t&&(P=Object(c.jsx)(_.b,{index:s,isDragging:x,onDragBegin:o,onDragHover:a,onDragEnd:r,type:_.a.Pin,children:P})),P}var P=n("eOdZ"),D=n("IeEU"),B=n("2qKt"),M=n("ANjH"),k=n("x12c"),R=n("U4JR"),A=n("Wrea"),L=n("yjg8"),N=n("KFEb");function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class F extends i.Component{constructor(...e){super(...e),U(this,"state",{reorderSource:w,reorderTarget:w}),U(this,"handlePinAdded",(e,t,n)=>{const{board:i,boardSectionId:o,dispatch:r}=this.props;r(Object(A.f)(i.id)),o&&r(Object(u.a)(o)),this.props.resource.refresh()}),U(this,"handlePinDragBegin",e=>this.setState({reorderSource:e})),U(this,"handlePinDragHover",e=>{const{reorderTarget:t}=this.state;e!==t&&this.setState({reorderTarget:e})}),U(this,"handlePinDragEnd",e=>{const{board:t,boardSectionId:n,dispatch:i,feed:o,viewParameter:r}=this.props,{reorderSource:a,reorderTarget:s}=this.state;if(o&&e&&s!==w&&a!==w&&s!==a){const e=this.hiddenItemIndex,[c,l]=-1===e?[a,s]:[m(a,e),m(s,e)],d=Object(N.c)(o,c,l),u=o[c].id;i(Object(O.a)({feedType:n?N.a.SECTION_PINS:N.a.BOARD_PINS,feedId:n||t.id,itemType:"pin",targetItemId:o[l].id,sourceItemId:o[c].id}));const h={board_id:t.id,pin_id:u},b=d.filter(e=>"pin"===e.type).map(e=>e.id),p=b.indexOf(u),g=p-1;g>=0&&g<b.length&&(h.pin_id_before=b[g]);const j=p+1;j>=0&&j<b.length&&(h.pin_id_after=b[j]);const v={objectId:u,view:f(n),viewParameter:r};P.d.create("BoardPinsReorderResource",h).callUpdate({showError:!1}).then(()=>Object(R.b)(7122,v))}this.setState({reorderSource:w,reorderTarget:w})}),U(this,"handleFetchMore",()=>{const{resource:{fetchMore:e,isAtEnd:t,isFetching:n}}=this.props;t||n||e()}),U(this,"renderPinItem",(e,t)=>{const{lfvExperiences:n,onBulkEditPinClick:i,viewer:o,viewParameter:r,boardSectionId:a}=this.props,{reorderSource:s,reorderTarget:l}=this.state;return Object(c.jsx)(T,{allowReordering:this.allowReordering,boardSectionId:a,gridItem:e,handlePinDragBegin:this.handlePinDragBegin,handlePinDragEnd:this.handlePinDragEnd,handlePinDragHover:this.handlePinDragHover,index:t,lfvExperiences:n,onBulkEditPinClick:i,source:s,target:l,viewer:o,viewParameter:r})}),U(this,"renderGridItem",({data:e,itemIdx:t})=>{const{boardSectionId:n,viewParameter:i}=this.props;return Object(c.jsx)(v,{boardSectionId:n,gridItem:e,index:t,paddingBottom:this.props.denseViewSelected?6:0,renderPinItem:this.renderPinItem,viewParameter:i})})}componentDidMount(){const{board:{id:e},feed:t,resource:{isFetching:n,refresh:i}}=this.props;this.subscribers=[k.b.subscribe(e,"pinCreated",this.handlePinAdded)],p(t)&&!n&&i()}componentDidUpdate(e){const{feed:t,resource:{isFetching:n,refresh:i}}=this.props;p(t)&&!p(e.feed)&&!n&&i()}componentWillUnmount(){this.subscribers.forEach(e=>e.unsubscribe()),delete this.subscribers}get allowReordering(){const{board:{collaborated_by_me:e=!1},isOwnBoard:t,isPinGridSorted:n}=this.props;return!n&&(t||e)}get hiddenItemIndex(){const{denseViewSelected:e,feed:t}=this.props;return e?(t||[]).findIndex(g):-1}render(){const{bulkEditSelectedPins:e,board:t,boardSectionId:n,feed:r,footerStoryId:a,denseViewSelected:l,inBoardOrganizationMode:u,inSectionOrganizationMode:h,isDragWithinBounds:b,inSelectAll:p,renderFooterStory:f,resource:{isAtEnd:g,isFetching:m,isLoaded:v},isOwnBoard:O,refreshFilteredFeed:x,scrollContainer:_}=this.props,{access:S,collaborated_by_me:I=!1,collaborator_count:E=0,section_count:T}=t,{reorderSource:P,reorderTarget:D}=this.state;if(!r||!r.find(e=>"pin"===e.type))return m?Object(c.jsx)(s.U,{accessibilityLabel:this.props.i18n._("Board Pins grid"),show:!0}):(v&&r&&0===r.length&&x&&x(),Object(c.jsxs)(i.Fragment,{children:[v&&r&&0===r.length&&Object(c.jsx)(d,{hasSections:!!T,isSection:!!n}),f&&a&&f(a)]}));const B=this.allowReordering,M=B&&P!==D&&P!==w&&D!==w;let k=r||[];const R=this.hiddenItemIndex;if(-1!==R&&(k=[...k.slice(0,R),...k.slice(R+1)]),M&&(k=Object(N.c)(k,P,D)),!k.length)return Object(c.jsx)(s.U,{accessibilityLabel:this.props.i18n._("Board Pins grid"),show:!0});const A={inBulkEditMode:u||h,inDenseView:l||!1,isGroupBoard:E>0,userCanEdit:(S||[]).includes("write"),isOwnBoard:O,isCollaborator:I},U=k.map((t,n)=>{const{inBulkEditMode:i}=A,o="pin"===t.type&&!(null==e||!e.includes(t.id));return j({...A,isSelected:i&&(p?!o:o),itemKey:t})});return Object(c.jsxs)(s.f,{"data-test-id":"base-board-pin-grid",minHeight:l?800:"",children:[Object(c.jsx)(C,{allowReordering:B,index:D,isDragWithinBounds:b,children:Object(c.jsx)(y.default,{columnWidth:l?L.g:L.f,comp:this.renderGridItem,gutterWidth:l?2*L.b/3:L.b,isAtEnd:g,isFetching:m,isLoaded:v,items:U,layout:"basicCentered",loadItems:this.handleFetchMore,paddingStyle:l?"dense":"simplified",scrollContainer:_,virtualize:!0},`${String(l)}-${String(u)}-${String(h)}`)}),B&&P!==w&&Object(c.jsx)(o.a,{}),m&&Object(c.jsx)(s.f,{position:"relative",paddingY:3,children:Object(c.jsx)(s.U,{accessibilityLabel:this.props.i18n._("Loading Board Feed"),show:!0})}),g&&a&&f&&f(a)]})}}const H=e=>e?e.reduce(({feed:e,footerStoryId:t},n)=>{const i="story"===n.type&&"board_ideas_preview_detailed"===n.story_type;return{feed:e.concat(i?[]:[n]),footerStoryId:i?n.id:t}},{feed:[],footerStoryId:void 0}):{feed:e,footerStoryId:void 0},z=Object(M.compose)(Object(B.a)(1000182),D.a)((function(e){const t=Object(a.c)();return Object(c.jsx)(F,{...e,i18n:t})}));z.displayName="BaseBoardPinGrid";t.a=z},P6AF:function(e,t,n){var i=n("/MKj"),o=n("w70y"),r=n("KFEb");var a=n("5FNA"),s=n("P2Et"),c=n("nKUr");const l=Object(i.connect)((e,t)=>Object(s.b)(e.feeds[r.a.SECTION_PINS][t.boardSectionId]))((function(e){const t=Object(o.a)({name:"BoardSectionPinsResource",options:(n=e.boardSectionId,i=e.isOwnBoard,r=e.board.should_show_board_activity,l=e.currentFilter,{currentFilter:l,field_set_key:r?"react_grid_pin_with_board_activity":"react_grid_pin",is_own_profile_pins:i,page_size:25,redux_normalize_feed:!0,section_id:n})});var n,i,r,l;const d=Object(o.a)({name:"BoardsResource",options:Object(a.a)(e.viewer.username,!0)});return Object(c.jsx)(s.a,{...e,boardsResource:d,resource:t})}));l.displayName="BoardSectionPinGrid";t.a=l},P6kd:function(e,t,n){n.d(t,"a",(function(){return b}));var i=n("q1tI"),o=n("oRao"),r=n("eOdZ"),a=n("Sbkd"),s=n("vvax"),c=n("yweb"),l=n("n6mq"),d=n("nKUr");function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends i.Component{constructor(...e){super(...e),u(this,"state",{recommendations:[],selectedIndex:0,resourceLoaded:!1}),u(this,"onDismiss",()=>{}),u(this,"mounted",!1),u(this,"addHashtag",e=>{this.props.addHashtag(e),this.setState({recommendations:[]})}),u(this,"handleKeyDown",e=>{38===e.keyCode?this.handlePrevHashtag(e):40===e.keyCode?this.handleNextHashtag(e):27===e.keyCode?this.handleClose(e):13===e.keyCode&&this.handleSubmit(e)}),u(this,"handlePrevHashtag",e=>{e.preventDefault(),this.state.selectedIndex>0&&this.setState(e=>({selectedIndex:e.selectedIndex-1}))}),u(this,"handleNextHashtag",e=>{e.preventDefault(),this.state.selectedIndex<this.state.recommendations.length-1&&this.setState(e=>({selectedIndex:e.selectedIndex+1}))}),u(this,"handleClose",e=>{e.preventDefault(),this.setState({recommendations:[]})}),u(this,"handleSubmit",e=>{e.preventDefault(),this.addHashtag(this.state.recommendations[this.state.selectedIndex].query)}),u(this,"callResource",e=>{const{makeCancelablePromise:t}=this.props;t(r.d.create("HashtagTypeaheadResource",{query:e,showPinCount:!0}).callGet(),"typeahead").then(e=>{if(!this.mounted)return;const t=e.resource_response.data;this.setState({recommendations:t.slice(0,5),resourceLoaded:!0})}).catch(({isCanceled:e})=>{e||this.setState({resourceLoaded:!1})})})}componentDidMount(){this.mounted=!0,this.callResource(this.props.query),window.addEventListener("keydown",this.handleKeyDown)}componentDidUpdate(e){this.props.query!==e.query&&""!==this.props.query&&this.callResource(this.props.query)}componentWillUnmount(){window.removeEventListener("keydown",this.handleKeyDown),this.mounted=!1}render(){const{recommendations:e,resourceLoaded:t,selectedIndex:n}=this.state,{anchor:i,idealDirection:r}=this.props,a=e.filter(e=>e.query),c=r||"down",u="flyout_"+a.length;return t&&a.length>0?Object(d.jsx)("div",{className:"HashtagFlyout",children:Object(d.jsx)(l.L,{anchor:i,idealDirection:c,onDismiss:this.onDismiss,size:"sm",children:Object(d.jsx)("div",{className:"HashtagRecommendations",children:a.length>0?a.map((e,t)=>Object(d.jsx)("div",{className:"HashtagItem",children:Object(d.jsx)(l.bb,{fullWidth:!1,onTap:()=>this.addHashtag(e.query),children:Object(d.jsxs)(l.f,{display:"flex",justifyContent:"between",alignItems:"center",color:t===n?"lightGray":"transparent",padding:1,children:[Object(d.jsx)(l.f,{flex:"grow",children:Object(d.jsx)(l.cb,{inline:!0,size:"md",weight:"bold",children:e.query})}),Object(d.jsx)(l.f,{flex:"none",children:Object(d.jsx)(l.cb,{inline:!0,size:"sm",children:Object(s.b)(this.props.i18n.ngettext("{{ count }} pin","{{ count }} pins",Number(e.pin_count),"label for n pins in hashtag flyout","label for n pins in hashtag flyout"),{count:Object(d.jsx)(o.a,{value:Number(e.pin_count)},"pinCount")})})})]})})},e.query)):null})},u)}):null}}function b(e){const t=Object(c.c)(),n=Object(a.a)();return Object(d.jsx)(h,{...e,makeCancelablePromise:n,i18n:t})}},P9b8:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("SFi7");t.DragDropContext=i.DragDropContext,t.DragDropContextProvider=i.DragDropContextProvider,t.DragDropContextConsumer=i.Consumer;var o=n("QNmZ");t.DragLayer=o.default;var r=n("9EBm");t.DragSource=r.default;var a=n("tvWU");t.DropTarget=a.default;var s=n("fpRd");t.DragPreviewImage=s.default;var c=n("sGxw");t.useDrag=c.useDrag,t.useDragLayer=c.useDragLayer,t.useDrop=c.useDrop},PNKV:function(e,t,n){},PRGv:function(e,t,n){var i;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return i||((i=new Image).src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),i}},PnD8:function(e,t,n){e.exports=n("6uti")},Pqnw:function(e,t,n){function i(e,t){return{type:"FEED_INVALIDATE",payload:{feedType:e,feedId:t}}}n.d(t,"a",(function(){return i}))},PsyL:function(e,t,n){t.a=function({hours:e,minutes:t}){return`PT${e}H${t}`}},"Pv/+":function(e,t,n){n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}));var i=n("MhBu"),o=n("eOdZ"),r=n("oN2T"),a=n("KFEb"),s=n("Wer7");function c(e,t){return{type:"SECTION_DELETED",payload:{boardId:e,sectionId:t}}}function l(e,t,n){return l=>o.d.create("BoardSectionEditResource",{section_id:t,...n?{orbac_subject_id:n}:Object.freeze({})}).callDelete({showError:!1}).then(()=>Promise.all([l(c(e,t)),l(Object(i.a)({feedId:e,feedType:a.a.BOARD_SECTIONS,itemIds:[t],itemType:"board_section"})),l(Object(r.c)(e,"pin_count")),l(Object(s.f)("BoardSectionsRepinResource",{board_id:e}))]))}},"Q2/A":function(e,t,n){t.a=(e,t,n)=>t?t.replace(e,(e,t)=>n&&Object.prototype.hasOwnProperty.call(n,t)?n[t]:""):""},Q59z:function(e,t,n){var i=n("q1tI"),o=n("/MKj"),r=(n("3qQZ"),n("WjpJ")),a=n.n(r),s=n("n6mq"),c=n("nKUr");const l=80,d=1.2;function u({layoutType:e,thumbnails:t}){switch(e){case 4:const e=t&&t[0]&&t[0]["236x"];return Object(c.jsx)(s.D,{rounding:4,width:l,height:80,children:e?Object(c.jsx)(s.y,{alt:"",color:"gray",fit:"cover",naturalHeight:e.height,naturalWidth:e.width,src:e.url||""}):Object(c.jsxs)(s.u,{alignItems:"stretch",justifyContent:"start",children:[Object(c.jsx)(s.f,{color:"lightGray",height:l,width:39.4}),Object(c.jsxs)(s.f,{dangerouslySetInlineStyle:{__style:{paddingLeft:d}},children:[Object(c.jsx)(s.f,{color:"lightGray",height:39.4,width:39.4}),Object(c.jsx)(s.f,{color:"lightGray",dangerouslySetInlineStyle:{__style:{marginTop:"1.2px"}},height:40.6,width:39.4})]})]})});case 2:return Object(c.jsx)(s.D,{rounding:4,width:l,height:80,children:Object(c.jsx)(s.u,{alignItems:"stretch",justifyContent:"start",children:a()(0,2).map(e=>{const n=!!t&&t.length>0&&t[e];return Object(c.jsx)(s.f,{dangerouslySetInlineStyle:{__style:{paddingRight:d}},children:Object(c.jsx)(s.f,{height:l,width:39.4,children:n&&Object(c.jsx)(s.y,{alt:"",color:"gray",fit:"cover",naturalHeight:l,naturalWidth:39.4,src:n["236x"].url||""})})},e)})})});default:return null}}var h=n("c4Fo"),b=n("U4JR");const p=[502043,502085,502419];function f({boardId:e,handleShowArchiveConfirmation:t,handleShowGroupPinsModal:n}){return Object(c.jsx)(h.a,{placementId:18,experienceIds:p,children:({display_data:i,complete:o,dismiss:r})=>Object(c.jsx)(g,{boardId:e,displayData:i,complete:o,dismiss:r,handleShowArchiveConfirmation:t,handleShowGroupPinsModal:n})})}function g({boardId:e,displayData:t,complete:n,dismiss:o,handleShowArchiveConfirmation:r,handleShowGroupPinsModal:a}){const l=t.custom_properties,[d,h]=Object(i.useState)(null);Object(i.useEffect)(()=>()=>clearTimeout(d),[d]);const p={2:r,3:()=>{l&&a(l.cluster_id,l.section_name)}};return Object(i.useEffect)(()=>{(e=>{if(!d){const t=setTimeout(()=>{e()},2e4);h(t)}})(o),Object(b.b)(13,{view:5,viewParameter:3069,element:11758,objectId:JSON.stringify(t.experience.experience_id),board_id:e})},[]),Object(c.jsx)(s.A,{children:Object(c.jsxs)("div",{className:"BoardActionUpsellCard",children:[Object(c.jsx)(s.f,{flex:"none",children:Object(c.jsx)(u,{layoutType:t.layout_type,thumbnails:t.thumbnail_image_urls})}),Object(c.jsxs)(s.f,{marginStart:4,children:[Object(c.jsx)(s.cb,{inline:!0,children:Object(c.jsx)(s.v,{size:"sm",children:t.text})}),Object(c.jsxs)(s.f,{display:"flex",justifyContent:"start",marginTop:4,width:"100%",children:[Object(c.jsx)(s.g,{color:"gray",onClick:()=>{Object(b.b)(123,{view:5,viewParameter:3069,element:11758,objectId:JSON.stringify(t.experience.experience_id),board_id:e}),o()},text:t.dismiss_button.text}),Object(c.jsx)(s.f,{paddingX:2,children:Object(c.jsx)(s.g,{color:"red",onClick:()=>{p[t.complete_button.action_type](),Object(b.b)(101,{view:5,viewParameter:3069,element:11758,objectId:JSON.stringify(t.experience.experience_id),board_id:e}),n()},text:t.complete_button.text})})]})]})]})})}var m=n("Hz/G");function j({density:e,surface:t}){Object(m.a)({boardDensity:e,component:"board"===t?13183:13187,surface:"board",viewType:"board"===t?5:164})}var v=n("MLoN"),O=n("LIp/"),y=n("egIj"),x=n("yweb"),_=n("HJ6M");function w({board:e,currentFilter:t,eligibleFilters:n,isOwnBoard:r,surface:a,setCurrentFilter:l,setTitle:d}){const u=Object(x.c)(),h=Object(i.useRef)(null),p=Object(o.useSelector)(({ui:e})=>{var t;return null==e||null===(t=e.views)||void 0===t?void 0:t.boardPinView}),[f,g]=Object(i.useState)(!1),m=()=>{g(!1)},w=[],C={[_.a]:12111,[_.c]:12110,[_.b]:12227};if(n){const i={items:n.map(n=>{var i;return{isSelected:n.pin_type===t,onClick:()=>{var t,i;Object(b.b)(101,{component:13475,element:C[null!==(t=n.pin_type)&&void 0!==t?t:-1],objectId:e.id,view:5,viewParameter:r?3069:3070}),l(null!==(i=n.pin_type)&&void 0!==i?i:-1),d(n.pin_type===_.a?null:n.text),m()},text:null!==(i=n.text)&&void 0!==i?i:""}}),label:u._("Filter by type","board.experimentalBoardActionBar.filterOptions","List of board filter options")};w.push(i)}return w.push(function({handleClose:e,selectedDensity:t,surface:n},i){return{items:[{isSelected:"regular"===t,onClick:()=>{e(),j({density:"regular",surface:n})},text:i._("Default","BoardHeader.ActionBar.DensityOption-Default","Clickable text to set board view density to default mode")},{isSelected:"dense"===t,onClick:()=>{e(),j({density:"dense",surface:n})},text:i._("Compact","BoardHeader.ActionBar.DensityOption-Compact","Clickable text to set board view density to compact mode")}],label:i._("View options","BoardHeader.ActionBar.ViewOptions","List of board view options")}}({handleClose:m,selectedDensity:p,surface:a},u)),Object(c.jsxs)(i.Fragment,{children:[Object(c.jsx)(s.f,{ref:h,children:Object(c.jsx)(s.x,{accessibilityLabel:u._("Board Filter","board.experimentalBoardActionBar.boardFilter","Filter to select specific Pins on board"),icon:"filter",iconColor:"darkGray",onClick:()=>{Object(b.b)(101,{element:12020,objectId:e.id,view:5,viewParameter:r?3069:3070}),g(!f)},selected:f,size:"lg"})}),f&&Object(c.jsx)(v.a,{anchor:h.current,onDismiss:m,size:"lg",children:w.map(({items:e,label:t})=>Object(c.jsx)(O.a,{label:t,children:e.map(({isSelected:e,onClick:t,text:n})=>Object(c.jsx)(y.a,{icon:e?"selected":null,onClick:t,children:n},n))},t))})]})}var C=n("2qKt"),S=n("vvax");var I=Object(C.a)(1000332)((function({board:e,currentFilter:t,isOwnBoard:n,section:o,setCurrentFilter:r,showExperienceTooltip:a}){const l=Object(x.c)(),{eligible_pin_type_filters:d}=null!=o?o:e,[u,b]=Object(i.useState)(null),p=Object(i.useRef)(null),f=o?o.pin_count:e.pin_count;return Object(c.jsxs)(i.Fragment,{children:[Object(c.jsxs)(s.f,{alignItems:"center",direction:"row",display:"flex",paddingX:8,children:[Object(c.jsx)(s.f,{flex:"grow",children:Object(c.jsx)(s.v,{accessibilityLevel:2,size:"sm",children:t>0&&u?u:Object(S.b)(l.ngettext("{{ pinCount }} Pin","{{ pinCount }} Pins",null!=f?f:0,"board.experimentalBoardActionBar.pinCount","Number of Pins on board or section"),{pinCount:f})})}),Object(c.jsx)(s.f,{ref:p,children:Object(c.jsx)(w,{board:e,isOwnBoard:n,currentFilter:t,eligibleFilters:d,setCurrentFilter:r,setTitle:b,surface:o?"section":"board"})})]}),a&&p&&Object(c.jsx)(s.A,{children:Object(c.jsx)(h.a,{experienceIds:[502974],placementId:1000332,children:({dismiss:e,display_data:t})=>((e,t)=>{var n;return p&&(null===(n=p.current)||void 0===n||n.scrollIntoView(!1)),Object(c.jsx)(s.L,{showCaret:!0,anchor:p.current,color:"blue",idealDirection:"down",onDismiss:e,shouldFocus:!1,size:312,children:Object(c.jsx)(s.f,{padding:3,children:Object(c.jsx)(s.cb,{align:"center",color:"white",overflow:"normal",weight:"bold",children:t.text})})})})(e,t)})})]})})),E=n("lnQP"),T=n("zUcL"),P=n("P6AF"),D=n("VVkO"),B=n("6j0b"),M=n("TgLd"),k=n("fOIk");function R(){const e=Object(x.c)(),t=Object(c.jsx)(s.f,{display:"flex",justifyContent:"center",paddingX:8,children:Object(c.jsx)(s.cb,{children:Object(S.b)(e._("Add a {{ star }} to show collaborators your favorite Pins","groupBoardFavoriteEducationModal.text","Text for modal informing users of changes from group board reactions to board favorites"),{star:Object(c.jsx)(s.f,{display:"inlineBlock",children:Object(c.jsx)(s.w,{accessibilityLabel:e._("Favorite icon","groupBoardFavoriteEducationModal.bodyFavoriteIcon","Accessibility label for favorite icon"),color:"darkGray",dangerouslySetSvgPath:k.a,size:12})})})})}),n=t=>Object(c.jsx)(s.u,{justifyContent:"end",children:Object(c.jsx)(s.g,{onClick:t,text:e._("Got it","groupBoardFavoriteEducationModal.doneButton","Done button for modal")})}),i=t=>Object(c.jsxs)(s.f,{alignItems:"center",display:"flex",justifyContent:"center",paddingX:4,paddingY:6,position:"relative",children:[Object(c.jsx)(s.f,{maxWidth:400,children:Object(c.jsx)(s.v,{align:"center",size:"md",children:Object(S.b)(e._("{{ heart }}  is now  {{ star }}","groupBoardFavoriteEducationModal.heading","Heading for modal informing users of changes from group board reactions to board favorites"),{heart:Object(c.jsx)(s.f,{display:"inlineBlock",paddingX:1,children:Object(c.jsx)(s.w,{accessibilityLabel:e._("Heart icon","groupBoardFavoriteEducationModal.headingHeartIcon","Accessibility label for heart icon"),color:"darkGray",icon:"heart",size:16})}),star:Object(c.jsx)(s.f,{display:"inlineBlock",paddingX:1,children:Object(c.jsx)(s.w,{accessibilityLabel:e._("Favorite icon","groupBoardFavoriteEducationModal.headingFavoriteIcon","Accessibility label for favorite icon"),color:"darkGray",dangerouslySetSvgPath:k.a,size:16})})})})}),Object(c.jsx)(s.f,{position:"absolute",top:!0,right:!0,padding:6,children:Object(c.jsx)(s.x,{accessibilityLabel:e._("Close","groupBoardFavoriteEducationModal.closeModalButton","Accessibility label for close modal button"),icon:"cancel",iconColor:"darkGray",onClick:t})})]});return Object(c.jsx)(h.a,{experienceIds:[503077],placementId:18,children:({complete:o,dismiss:r})=>Object(c.jsx)(M.b,{accessibilityModalLabel:e._("Group board reaction","groupBoardFavoriteEducationModal.modalAccessibilityLabel","Accessiblility label for modal used to educate group board collaborators about favorite button"),footer:n(o),heading:i(r),onDismiss:r,size:"sm",children:t})})}var A=n("Pqnw"),L=n("i/p3"),N=n("79tv"),U=n("xkL+"),F=n("zq6P"),H=n("KFEb"),z=n("juW8");const q=()=>{};function G({board:e,currentView:t,handleContentViewChange:n,handleSetCurrentModal:r,handleShowEditSectionModal:a,handleShowMergeSectionsConfirmationModal:l,isOwnerOrCollaborator:d,isOwnBoard:u,isPinGridSorted:h,refreshBoardData:b=q,refreshSectionData:p=q,section:f}){const g=Object(U.b)(),m=Object(B.a)({board:e,viewer:g}),j=(e.access||[]).includes("write"),v=Object(o.useSelector)(e=>e.ui.views.boardPinView),O=Object(N.a)(f?Object(D.a)(e,f):""),[y,x]=Object(i.useState)(_.a),[w,C]=Object(i.useState)(!1),S=Object(o.useDispatch)();Object(i.useEffect)(()=>()=>{y!==_.a&&S(f?Object(A.a)(H.a.SECTION_PINS,f.id):Object(A.a)(H.a.BOARD_PINS,e.id))},[e,y,S,f]);const M=()=>{y>0&&(x(_.a),f?p():b())};return f?Object(c.jsx)(F.a,{value:{currentFilter:y,eligibleFilters:f.eligible_pin_type_filters,refreshData:p,sectionId:f.id},children:Object(c.jsxs)(i.Fragment,{children:[d&&Object(c.jsx)(I,{board:e,currentFilter:y,isOwnBoard:u,section:f,setCurrentFilter:x,showExperienceTooltip:!1}),Object(c.jsx)(P.a,{board:e,boardSectionId:f.id,currentFilter:y,denseViewSelected:j&&"dense"===v,inSectionOrganizationMode:!1,inSelectAll:!1,isOwnBoard:u,refreshFilteredFeed:M,renderFooterStory:t=>!e.archived_by_me_at&&d&&Object(c.jsx)(s.f,{marginBottom:12,children:Object(c.jsx)(T.a,{children:Object(c.jsx)(L.a,{collection:f,storyId:t,url:O})})}),viewer:g,viewParameter:m})]})}):Object(c.jsx)(F.a,{value:{currentFilter:y,eligibleFilters:e.eligible_pin_type_filters,refreshData:b,setShowExperienceTooltip:C},children:Object(c.jsxs)(i.Fragment,{children:[d&&Object(c.jsx)(I,{board:e,currentFilter:y,isOwnBoard:u,setCurrentFilter:x,showExperienceTooltip:w}),Object(c.jsx)(E.a,{actions:{onBoardOrganizeClick:q},board:e,currentFilter:y,currentView:t,enableReordering:d,isOwnBoard:u,isPinGridSorted:h,onContentViewChange:n,onShowEditSectionModal:a,onShowMergeSectionsConfirmationModal:(e,t)=>{r(z.a.sectionMergeConfirm),l(e,t)},refreshFilteredFeed:M,viewParameter:m}),d&&Object(c.jsx)(R,{})]})})}function W(){Object(b.b)(101,{element:10778,component:13216,view:5,viewParameter:3069})}function V({handleClose:e,isArchived:t,onArchiveClick:n,onCreatePincode:i,onEditClick:o,onMergeClick:r,onUnarchiveClick:a,setFlyoutType:s,showCreatePinCodeOption:c},l){const d=[{dataTestId:"editBoardButton",text:l._("Edit board","BoardHeader.BoardOptionsFlyout.EditOption","Clickable text to enter board editing mode"),onClick:()=>{o(),e()}},{text:l._("Share","BoardHeader.BoardOptionsFlyout.ShareOption","Clickable text to show share options"),onClick:()=>{W(),s("boardShare")}},{text:l._("Merge","BoardHeader.BoardOptionsFlyout.MergeOption","Clickable text to open merge board modal"),onClick:()=>{r(),e()}}];t?d.push({text:l._("Unarchive","BoardHeader.BoardOptionsFlyout.UnarchiveOption","Clickable text to open unarchive modal"),onClick:()=>{a(),e()}}):d.push({text:l._("Archive","BoardHeader.BoardOptionsFlyout.ArchiveOption","Clickable text to open archive modal"),onClick:()=>{n(),e()}}),c&&d.push({text:l._("Create Pincode","BoardHeader.BoardOptionsFlyout.PincodeOption","Clickable text to trigger Pincode modal"),onClick:()=>{i(),e()}});return{items:d,label:l._("Board options","BoardHeader.BoardOptionsFlyout.OptionsCategory","Category of board options in board flyout")}}function K({handleClose:e,onEditClick:t,setFlyoutType:n},i){return{items:[{dataTestId:"edit-section-button",text:i._("Edit Section","BoardHeader.getSectionOptionsCategory.EditOption","Clickable text to enter board editing mode"),onClick:()=>{t(),e()}},{text:i._("Share","BoardHeader.getSectionOptionsCategory.ShareOption","Clickable text to show share options"),onClick:()=>{W(),n("boardShare")}}],label:i._("Section options","BoardHeader.getSectionOptionsCategory.OptionsCategory","Category of section options in section flyout")}}function Y({handleClose:e,isArchived:t,onArchiveClick:n,onCreatePincode:i,onEditBoardClick:o,onEditSectionClick:r,onMergeClick:a,onUnarchiveClick:l,setFlyoutType:d,showCreatePinCodeOption:u,surface:h}){const b=Object(x.c)(),p=[].concat(["section"===h?K({handleClose:e,onEditClick:r,setFlyoutType:d},b):V({handleClose:e,isArchived:t,onArchiveClick:n,onCreatePincode:i,onEditClick:o,onMergeClick:a,onUnarchiveClick:l,setFlyoutType:d,showCreatePinCodeOption:u},b)]);return Object(c.jsx)(s.f,{width:206,children:p.map(({items:e,label:t})=>Object(c.jsx)(O.a,{label:t,children:e.map(({dataTestId:e,isSelected:t,onClick:n,text:i})=>Object(c.jsx)(y.a,{dataTestId:e,icon:t?"selected":null,onClick:n,children:i},i))},t))})}var X=n("0ZL5"),Q=n("fevN"),Z=n("oVol");function $({board:e,onArchiveClick:t,onCreatePincode:n,onEditBoardClick:o,onEditSectionClick:r,onMergeClick:a,onUnarchiveClick:l,showCreatePinCodeOption:d,surface:u}){const h=Object(x.c)(),b=Object(i.useRef)(null),[p,f]=Object(i.useState)(!1),[g,m]=Object(i.useState)("boardOptions"),j=()=>{f(!1),m("boardOptions")},O={description:e.description,id:e.id,imageUrl:e.image_cover_url,name:e.name,type:Z.a.BOARD,url:e.url},y=()=>{f(e=>!e),m("boardOptions")},_=!!e.archived_by_me_at;return Object(c.jsxs)(s.f,{position:"relative",children:[Object(c.jsx)(s.f,{"data-test-id":"more-board-options",ref:b,children:Object(c.jsx)(s.x,{accessibilityLabel:h._("More Board options","BoardHeaderOVerflowFlyoutButton.IconButton.AccessibilityLabel","Accessibility label on icon button"),bgColor:"lightGray",icon:"ellipsis",iconColor:"darkGray",onClick:y,selected:p,size:"sm"})}),Object(c.jsx)(X.a,{anchors:{3001:b.current},onCompleteByAnchor:{3001:y},placementId:18}),p&&Object(c.jsx)(v.a,{anchor:b.current,onDismiss:j,size:"boardOptions"===g?"lg":"xl",children:"boardOptions"===g?Object(c.jsx)(Y,{handleClose:j,isArchived:_,onArchiveClick:t,onCreatePincode:n,onEditBoardClick:o,onEditSectionClick:r,onMergeClick:a,onUnarchiveClick:l,setFlyoutType:m,showCreatePinCodeOption:d,surface:u}):Object(c.jsx)(Q.a,{classNames:"SendBoard",isFlyout:!0,onCreatePincodeClick:n,onHide:j,sendType:Z.a.BOARD,sharedObject:O})})]})}var J=n("FDmi"),ee=n("yaUg");function te(e){const{faces:t,maxFaces:n,numFaces:i,onOverflowClick:o,shouldNavigate:r=!0}=e,a=[...t].reverse(),l=t.length>n?a.slice(0,n+1):a,d=i-n;return Object(c.jsx)(s.f,{position:"relative",display:"flex",dangerouslySetInlineStyle:{__style:{flexDirection:"row-reverse"}},alignItems:"center",children:l.map((e,t)=>{const{name:n,src:i,href:a,isDim:l}=e;if(0===t&&d>0)return Object(c.jsx)(s.f,{dangerouslySetInlineStyle:{__style:{border:"2px solid white"}},width:44,height:44,marginStart:-2,rounding:"circle",overflow:"hidden",children:Object(c.jsx)(s.y,{src:i||"",alt:n,naturalWidth:44,naturalHeight:44,fit:"contain",children:Object(c.jsx)(s.bb,{fullHeight:!0,fullWidth:!0,onTap:o,rounding:"circle",children:Object(c.jsx)(s.f,{display:"flex",justifyContent:"center",alignItems:"center",rounding:"circle",width:"100%",height:"100%",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, 0.4)"}},children:Object(c.jsx)(s.cb,{color:"white",size:"md",weight:"bold",children:(u=d,u>99?"99+":u)})})})})},t);{const e={__style:{opacity:l?.5:1}},o=Object(c.jsx)(s.f,{marginStart:-2,dangerouslySetInlineStyle:e,children:Object(c.jsx)(J.a,{name:n,size:"sm",src:i,outline:!0})},t);return r?Object(c.jsx)(s.bb,{role:"link",href:a,rounding:"circle",children:o},t):o}var u})})}var ne=n("EC51");function ie({invitedByUser:e,isAccepted:t,onDecline:n,onAccept:i,createdAt:o}){const r=Object(x.c)(),a=Object(U.b)(),l=e||{},{first_name:d,full_name:u,username:h,image_medium_url:b}=l,p=d||u||r._("others","Default text when board colalborator name is not known.","Default text when board colalborator name is not known.");return Object(c.jsx)(s.p,{children:t?Object(c.jsxs)(s.f,{width:"100%",paddingX:5,paddingY:3,rounding:2,marginStart:-1,marginEnd:-1,display:"flex",direction:"row",alignItems:"center",borderStyle:"sm",children:[Object(c.jsx)(te,{maxFaces:2,numFaces:2,faces:[{href:a.isAuth?"/"+a.username:"",name:a.isAuth?a.fullName:"",src:a.isAuth?a.imageMediumUrl:""},{href:"/"+h,name:u,src:b}]}),Object(c.jsxs)(s.f,{marginStart:2,children:[Object(c.jsx)(s.cb,{weight:"bold",children:r._("You're in!","Text showing that a user has accepted the board invite and is now a part of the board","Text showing that a user has accepted the board invite and is now a part of the board")}),Object(c.jsx)(s.cb,{children:Object(ee.a)(r._("Start collaborating with {{ invitedByUserName }} on this board"),{invitedByUserName:p})})]})]}):Object(c.jsx)(s.f,{width:540,color:"white",paddingX:6,paddingY:6,rounding:6,marginStart:-1,marginEnd:-1,borderStyle:"shadow",children:Object(c.jsxs)(s.u,{alignItems:"center",direction:"row",justifyContent:"start",children:[Object(c.jsx)(s.f,{marginEnd:2,children:Object(c.jsx)(J.a,{name:u,src:b,size:"md"})}),Object(c.jsx)(s.f,{flex:"grow",children:Object(c.jsx)(s.cb,{inline:!0,color:"darkGray",children:Object(S.b)(r._("{{ user }} invited you to collaborate on this board {{ createdAt }}","web.boardView.inviteCard.text","Label used to indicate a Pinner has invited you to join a board"),{user:Object(c.jsx)(s.cb,{color:"darkGray",inline:!0,weight:"bold",children:Object(c.jsx)(ne.a,{inline:!0,href:"/"+h,children:u})},h),createdAt:Object(c.jsx)(s.cb,{color:"gray",inline:!0,children:o})})})}),Object(c.jsxs)(s.f,{display:"flex",alignItems:"center",paddingX:1,dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},children:[Object(c.jsx)(s.f,{marginEnd:2,display:"inlineBlock",children:Object(c.jsx)(s.g,{onClick:n,text:r._("Decline","decline board collaborator invite or request","decline board collaborator invite or request"),color:"gray",size:"lg"})}),Object(c.jsx)(s.g,{onClick:i,text:r._("Accept","Text to accept a board collaboration invite","Text to accept a board collaboration invite"),size:"lg",color:"red"})]})]})})})}var oe=n("4dcN"),re=n("eOdZ"),ae=n("M1Uz"),se=n("y6OW"),ce=n("w70y"),le=n("Wrea"),de=n("Wer7"),ue=n("nGHF");var he=Object(ue.c)(({boardId:e,inviteCode:t,shouldAutoAcceptBoardInvite:n,toastManagerContext:r,userInviterId:a})=>{const l=Object(x.c)(),d=Object(se.a)(),[u,h]=Object(i.useState)(!1),[b,p]=Object(i.useState)(null),f=Object(U.b)(),g=Object(o.useDispatch)(),m={board_id:e,field_set_key:"boardBanner",invite_code:t,invited_user_id:f.isAuth&&f.id};Object(i.useEffect)(()=>{a&&n&&(re.d.create("BoardInviteResource",m).callUpdate().then(()=>{g(Object(le.c)(e)),g(Object(de.f)("BoardInviteResource",m))}),re.d.create("UserResource",{field_set_key:"grid_item",user_id:a}).callGet().then(({resource_response:e})=>{const t=e&&e.data;t&&p(t)}))},[n,a]);const{data:j}=Object(ce.a)({name:"BoardInvitesResource",options:{current_user:!0,field_set_key:"news"}}),{data:v}=Object(ce.a)({name:"BoardInviteResource",options:m}),O=!(!a||!n)||u,y=!["new","contact_request_not_approved"].includes(null==v?void 0:v.status),_=[...j||[]].pop(),w=t=>{const n=t?"collaborator_invite_accept":"collaborator_decline_invite";oe.a.trackEvent(n,"click");const i=re.d.create("BoardInviteResource",m);(t?i.callUpdate():i.callDelete()).then(()=>{t&&(g(Object(le.c)(e)),h(!0),r.showToast(({onHide:e})=>Object(c.jsx)(ae.a,{duration:5e3,onHide:e,text:l._("You're in! Save Pins, plan with collaborators, and more!","BoardCollabInviteBannerContainer.useEffect.acceptedInviteToast","Text in toast after accepting a board collaborator invite.")}))),g(Object(de.f)("BoardInviteResource",m))})},C=(null==v?void 0:v.invited_by_user)||b;return!C||y&&!O?null:Object(c.jsx)(s.f,{marginTop:3,paddingY:0,children:Object(c.jsx)(ie,{invitedByUser:C,isAccepted:O,onAccept:()=>w(!0),onDecline:()=>w(!1),createdAt:d(_&&_.created_at,!0)})})}),be=n("Yo6N"),pe=n("RNo4"),fe=n("EC67"),ge=n("ZdPf");function me({boardId:e}){const t=Object(fe.i)(),n=t&&t.search?Object(pe.l)(t.search):{},i=n.invite_code,o=n.accept_invite,r=n.inviter_user_id;return Object(c.jsx)(he,{boardId:e,inviteCode:i,shouldAutoAcceptBoardInvite:o,userInviterId:r})}var je=function(e){const{board:t}=e,{id:n,sensitivity:o}=t,r=Object(ge.d)(o);return Object(c.jsxs)(i.Fragment,{children:[!r&&Object(c.jsx)(me,{boardId:n}),r&&Object(ge.c)(o)&&o&&Object(c.jsx)(s.f,{paddingY:10,children:Object(c.jsx)(be.a,{notices:o.notices,viewType:5,sensitivity:o})})]})};function ve(e){const t=Object(x.c)(),{color:n,size:i}=e;return Object(c.jsx)(s.w,{accessibilityLabel:t._("secret board","accessible label for secret board icon","accessible label for secret board icon"),color:n,icon:"lock",size:i})}function Oe({color:e,paddingX:t}){return Object(c.jsx)(s.f,{display:"inlineBlock",paddingX:t,children:Object(c.jsx)(s.cb,{color:e,size:"md",weight:"bold",inline:!0,children:"·"})})}function ye({archived:e,secret:t}){const n=Object(x.c)();return Object(c.jsxs)(s.u,{alignItems:"center",justifyContent:"start",children:[t&&Object(c.jsx)(ve,{color:"gray",size:16}),t&&Object(c.jsx)(s.f,{"data-test-id":"secret-board",paddingX:1,children:Object(c.jsx)(s.cb,{color:"gray",inline:!0,size:"lg",children:n._("Secret board","LegoBoardPageHeader.BoardStatus.secret","Label for a secret board")})}),t&&e&&Object(c.jsx)(Oe,{color:"gray",paddingX:1}),e&&Object(c.jsx)(s.f,{paddingX:1,children:Object(c.jsx)(s.cb,{color:"gray",inline:!0,size:"lg",children:n._("Archived board","LegoBoardPageHeader.BoardStatus.archived","Label for a secret board")})})]})}var xe=n("d7JY"),_e=n("88U9"),we=n("0C0f"),Ce=n("qyXF");function Se({board:e,collaborators:t,overflowNumber:n}){const o=Object(x.c)(),r=Object(i.useRef)(),[a,l]=Object(i.useState)(!1),d=t.map(e=>e.isDim?null:Object(c.jsx)(s.cb,{inline:!0,weight:"bold",children:Object(c.jsx)(s.C,{href:e.href||"",hoverStyle:"none",inline:!0,children:e.name})},e.name)).filter(Boolean);return n&&d.push(Object(c.jsx)(s.f,{display:"inlineBlock",ref:r,children:Object(c.jsx)(s.bb,{onTap:()=>l(!0),children:Object(c.jsx)(s.cb,{inline:!0,weight:"bold",children:Object(S.b)(o.ngettext("{{ overflowNumber }} other","{{ overflowNumber }} others",n,"LegoBoardPageHeader.CollaboratorNames.others","number of additional collaborators not listed"),{overflowNumber:n})})})},"overflowText")),Object(c.jsxs)(i.Fragment,{children:[Object(c.jsx)(s.cb,{inline:!0,children:Object(Ce.a)(d,o)}),a&&Object(c.jsx)(we.default,{anchor:r.current,board:e,onDismiss:()=>l(!1)})]})}var Ie=n("JW66"),Ee=n("Oz7m"),Te=n("qUzp");function Pe(e,t){return t?e._("Join","BoardPage.BoardJoinButton.join","[Button] Request to join a group board as a collaborator"):e._("Request to join","[Button] Request to join a group board as a collaborator","[Button] Request to join a group board as a collaborator")}function De(e,t){return t?e._("Cancel","BoardPage.BoardJoinButton.cancel","[Button] Cancel request to join a group board as a collaborator"):e._("Cancel request","[Button] Cancel request to join a group board as a collaborator","[Button] Cancel request to join a group board as a collaborator")}function Be(e){const t=Object(x.c)(),{onClick:n,requested:i,size:o,useAlternateText:r}=e;return Object(c.jsx)(s.g,{fullWidth:!0,onClick:n,size:o||"md",text:(i?De:Pe)(t,r)})}function Me(e){const t=Object(x.c)(),{boardImage:n,boardName:i,boardUrl:o,onHide:r}=e,a=Object(c.jsx)(s.cb,{children:Object(S.b)(t._("You've cancelled the request to collaborate on {{ boardName }}","Board.JoinButton.CancelToast","Toast text stating that a user has cancelled a request to join a board"),{boardName:Object(c.jsx)(s.cb,{inline:!0,weight:"bold",children:i})})});return Object(c.jsx)(ae.a,{duration:3e3,href:o,imageUrl:n,onHide:r,text:a})}function ke(e){const t=Object(x.c)(),{boardImage:n,boardName:i,boardUrl:o,onHide:r}=e,a=Object(c.jsx)(s.cb,{children:Object(S.b)(t._("You've requested to join {{ boardName }}","Board.JoinButton.RequestToast","Toast text stating that a user has requested to join a board"),{boardName:Object(c.jsx)(s.cb,{inline:!0,weight:"bold",children:i})})});return Object(c.jsx)(ae.a,{href:o,imageUrl:n,onHide:r,text:a})}var Re=n("Sp3T");function Ae(e,t){return re.d.create("BoardCollaboratorRequestResource",{board_id:e,requesting_user_id:t})}function Le(e,t){return{type:"BOARD_REQUEST_TO_JOIN",payload:{boardId:e,value:t}}}function Ne(e){const{boardId:t,boardImage:n,boardName:i,boardUrl:r,isBoardLandingPage:a,isRequestedByMe:l,showPulsar:d,size:u,variant:h}=e,p=Object(o.useDispatch)(),f=Object(U.b)(),g=Object(ue.b)(),m=f.isAuth&&f.id||"",j=Object(Re.a)();function v(){p(function(e,t){const n="cancel-group-board-request-to-join";return i=>{Ae(e,t).callDelete({showError:!1}).then(()=>{oe.a.trackEvent(n,"success")}).catch(()=>{oe.a.trackEvent(n,"error"),i(Le(e,!0))}),i(Le(e,!1))}}(t,m)),g.showOneToast(({onHide:e})=>Object(c.jsx)(Me,{boardImage:n,boardName:i,boardUrl:r,onHide:e}))}function O(){p(function(e,t){const n="group-board-request-to-join";return i=>{Ae(e,t).callCreate().then(()=>{oe.a.trackEvent(n,"success")}).catch(()=>{oe.a.trackEvent(n,"error"),i(Le(e,!1))}),i(Le(e,!0))}}(t,m)),g.showOneToast(({onHide:e})=>Object(c.jsx)(ke,{boardImage:n,boardName:i,boardUrl:r,onHide:e}))}const y=({event:e})=>{e.preventDefault(),e.stopPropagation();const n=l?"cancel_group_board_request_to_join":"group_board_request_to_join";j(l?v:O)(),function(e){const{action:t,id:n,isBoardLandingPage:i,url:o}=e,r="request"===t?7499:7547,a=i?5:4;Object(b.b)(101,{component:1,element:r,objectId:n,view:a,current_page_url:o})}({action:l?"request":"cancel",id:t,isBoardLandingPage:!!a,url:r}),oe.a.trackEvent(n,"click")};return m?Object(c.jsxs)(s.f,{position:"relative",display:"flex",children:[Object(c.jsx)(Be,{onClick:y,requested:l,useAlternateText:"lego"===h,size:u}),d&&Object(c.jsx)(s.bb,{onTap:e=>{y(e)},children:Object(c.jsx)(s.f,{position:"absolute",display:"inlineBlock",dangerouslySetInlineStyle:{__style:{marginLeft:-86,marginTop:-28}},children:Object(c.jsx)(s.M,{paused:l})})})]}):null}function Ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Fe extends i.Component{constructor(...e){super(...e),Ue(this,"state",{flyoutOpen:!1}),Ue(this,"toggleFlyout",()=>{this.state.flyoutOpen||this.props.onOpen(),this.setState(e=>({flyoutOpen:!e.flyoutOpen}))})}render(){const{board:e,bgColor:t="white",children:n,iconColor:o="gray",onCreatePincode:r}=this.props,{flyoutOpen:a}=this.state,l={description:e.description,id:e.id,imageUrl:e.image_cover_url,name:e.name,type:Z.a.BOARD,url:e.url},d=n&&n({active:a,onClick:this.toggleFlyout})||Object(c.jsx)(s.x,{accessibilityLabel:this.props.i18n._("Send Board","Accessible label for button to send board","Accessible label for button to send board"),onClick:this.toggleFlyout,icon:"share",size:"lg",bgColor:t,iconColor:o});return Object(c.jsxs)(i.Fragment,{children:[Object(c.jsx)(s.f,{ref:e=>{this.anchor=e},children:d}),this.state.flyoutOpen&&Object(c.jsx)(s.A,{children:Object(c.jsx)(s.L,{anchor:this.anchor,idealDirection:"down",onDismiss:this.toggleFlyout,size:"xl",positionRelativeToAnchor:!1,children:Object(c.jsx)(Q.a,{classNames:"SendBoard",isFlyout:!0,onCreatePincodeClick:r?()=>{this.toggleFlyout(),r()}:void 0,onHide:this.toggleFlyout,sendType:Z.a.BOARD,sharedObject:l})})})]})}}function He(e){const t=Object(x.c)();return Object(c.jsx)(Fe,{...e,i18n:t})}function ze({board:e,handleCreatePincode:t}){const n=Object(x.c)(),i=Object(Re.a)({shouldStopEventPropagation:!1})(()=>W());return Object(c.jsx)(He,{board:e,onCreatePincode:t,onOpen:i,children:({onClick:e})=>Object(c.jsx)(s.g,{fullWidth:!0,color:"gray",onClick:e,size:"lg",text:n._("Share","BoardHeader.SendBoardButton","Text on button to share board")})})}var qe=n("QO9Q"),Ge=n("0NP8");var We=n("0Xtd"),Ve=n("l70D"),Ke=n("GX0+"),Ye=n("8A+h"),Xe=n("clxp"),Qe=n("YGxj"),Ze=n("rYoy");const $e=Object(i.lazy)(()=>Promise.resolve().then(n.bind(null,"0C0f")));function Je({board:e,displayedCollaborators:t,nonDisplayedCollaboratorCount:n,handleShowCollabAndPermissionsModal:o}){const[r,a]=Object(i.useState)(!1),l=Object(U.b)(),d=Object(i.useRef)(),u=Object(i.useRef)(),h=Object(fe.h)(),b=Object(Ye.a)(l,e),p=b||e.collaborator_invites_enabled&&e.collaborated_by_me,f=(()=>{let n=()=>{var e;return h.push(null!==(e=t[0].href)&&void 0!==e?e:"/")};return t.length>1&&(n=()=>a(!r)),(b||e.collaborated_by_me)&&(n=o),n})(),g=[501003];b&&e.is_collaborative&&g.push(502335);const m=t.map(({name:e,src:t})=>e&&t?{name:e,src:t.endsWith("/default_75.png")?"":t}:{name:e,src:t});return Object(c.jsxs)(i.Fragment,{children:[Object(c.jsxs)(s.u,{alignItems:"center",justifyContent:"start",children:[!e.collaborator_count||e.collaborator_count<=101?Object(c.jsx)(Ve.b,{addButtonRef:u,collaboratorCount:e.collaborator_count||0,nonDisplayedCollaboratorCount:n,displayedCollaborators:m,onClick:f,ref:d,showAddButton:null!=p&&p}):Object(c.jsx)(Ke.a,{addButtonRef:u,nonDisplayedCollaboratorCount:n,displayedCollaborators:m,onClick:f,pileRef:d,showAddButton:null!=p&&p}),Object(c.jsx)(X.a,{anchors:{3002:u.current},placementId:18,positionRelativeToAnchor:!1}),Object(c.jsx)(Qe.a,{anchor:u.current,experienceIds:g,idealDirection:"down",placementId:18,positionRelativeToAnchor:!1,showCaret:!0,customWrapper:({children:e})=>Object(c.jsx)(s.f,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,dangerouslySetInlineStyle:{__style:{zIndex:2}},children:e})})]}),r&&Object(c.jsx)(Xe.a,{name:"SafeSuspense_CollaboratorAvatarGroup_BoardCollabFlyout",children:Object(c.jsx)(Ze.a,{children:Object(c.jsx)($e,{anchor:d.current,board:e,onDismiss:()=>{a(!1),d.current&&d.current.focus()}})})})]})}function et(e){var t;const{board:n,collaborators:i,handleCreatePincode:o,handleShowCollabAndPermissionsModal:r,hideFollowers:a,isToolsBoard:l,onFollowersClick:d,overFlowActionsButton:u,showPulsar:h,userBlocked:b}=e,{access:p,archived_by_me_at:f,collaborator_requests_enabled:g,description:m,follower_count:j,id:v,image_cover_url:O,name:y,privacy:x,url:_,viewer_collaborator_join_requested:w}=n,{displayedCollaborators:C,nonDisplayedCollaboratorCount:S}=Object(_e.a)({boardCollaboratorCount:n.collaborator_count,collaborators:i}),I=Object(U.b)(),E=Object(qe.a)(),T=Object(We.d)(I,(null===(t=n.owner)||void 0===t?void 0:t.id)||"",E),P=p&&p.includes("write")||T,D=Object(Te.a)({viewer:I,board:n})||T,B=!!f,M=x===Ie.a.BoardPrivacy.PROTECTED,k=x===Ie.a.BoardPrivacy.SECRET,R=!P&&!b,A=R&&g,L=R&&!!o,N=!(!j||a||B||k||M),F=!D||m;return Object(c.jsx)(s.f,{direction:"column",display:"flex",justifyContent:"center",marginBottom:l?4:7,paddingX:8,width:"100%",children:Object(c.jsx)(s.u,{alignItems:"stretch",justifyContent:"center",children:Object(c.jsxs)(s.f,{"data-test-id":"LegoBoardHeader__main",direction:"column",display:"flex",maxWidth:488,children:[Object(c.jsx)(s.u,{alignItems:"stretch",justifyContent:"center",children:Object(c.jsx)(s.f,{maxWidth:800,children:Object(c.jsx)(je,{board:n})})}),Object(c.jsx)(s.f,{display:"flex",alignItems:"center",justifyContent:"center",marginStart:10,marginTop:4,children:Object(c.jsxs)(s.v,{align:"center",children:[y,Object(c.jsx)(s.f,{dangerouslySetInlineStyle:{__style:{display:"inline-flex"}},paddingX:2,children:u})]})}),Object(c.jsx)(xe.a,{children:Object(c.jsx)(s.f,{marginTop:2,children:Object(c.jsx)(Je,{board:n,displayedCollaborators:C,nonDisplayedCollaboratorCount:S,handleShowCollabAndPermissionsModal:r})})}),F&&Object(c.jsx)(xe.a,{children:Object(c.jsx)(s.f,{marginTop:2,dangerouslySetInlineStyle:{__style:{textAlign:"center"}},children:Object(c.jsx)(Ee.a,{inline:!0,items:[D?null:Object(c.jsx)(Se,{board:n,collaborators:C,overflowNumber:S},"collaborators"),m?Object(c.jsx)(s.cb,{inline:!0,children:m}):null]})})}),Object(c.jsx)(xe.a,{children:Object(c.jsx)(s.f,{marginTop:2,children:(B||k)&&Object(c.jsx)(ye,{archived:B,secret:k})})}),Object(c.jsx)(xe.a,{children:N&&Object(c.jsx)(Ge.a,{bold:!0,count:null!=j?j:0,onClick:d,shortform:!0,size:"lg"})}),Object(c.jsx)(xe.a,{children:(A||L)&&Object(c.jsxs)(s.f,{direction:"row",display:"flex",justifyContent:"center",marginTop:5,width:"100%",children:[A&&Object(c.jsx)(s.f,{paddingX:1,children:Object(c.jsx)(Ne,{boardId:v,boardImage:null!=O?O:"",boardName:y,boardUrl:_,isRequestedByMe:Boolean(w),showPulsar:h,size:"lg",variant:"lego"})}),L&&!!o&&Object(c.jsx)(s.f,{paddingX:1,children:Object(c.jsx)(ze,{board:n,handleCreatePincode:o})})]})})]})})})}function tt({boardId:e,ownerUsername:t,ownerName:n,ownerImgSrc:i,children:o}){const{data:r,isLoaded:a}=Object(ce.a)({name:"BoardCollaboratorsResource",options:{board_id:e},noCache:!0}),s=[{name:n,src:i,href:`/${t}/`}];return a&&r&&r.length>0&&r.forEach(e=>{const t=e.image_key||e.image_medium_url||e.image_small_url;s.push({name:e.full_name,src:t,href:`/${e.username}/`})}),o(s)}var nt=n("0yL5"),it=n("QIf8"),ot=n("+qOO");function rt(e){const t=Object(x.c)(),{bgColor:n,board:r,canCreatePincode:a,canEdit:s,handleCreatePincode:l,handleOpenSendBoardFlyout:d,onEditClick:u,showFollow:h,showShare:b,size:p}=e,{id:f,name:g,url:m,image_cover_url:j}=r,[v,_]=Object(i.useState)(r.followed_by_me),{showOneToast:w}=Object(ue.b)(),C=Object(o.useDispatch)(),S=()=>{v?(C(Object(ot.b)(f)),_(!1)):(C(Object(ot.a)(f)),_(!0),w(({onHide:e})=>Object(c.jsx)(it.a,{boardImage:null!=j?j:"",boardName:g,boardUrl:m,onHide:e})))};return Object(c.jsx)(nt.a,{bgColor:n,icon:"ellipsis",label:t._("Other actions","profileHeader.actionBar.overflow","Accessibility label for button to open other options flyout"),size:p,children:()=>Object(c.jsxs)(O.a,{label:t._("Board options","profileHeader.actionBar.overflow.header","Accessibility label header for board options flyout"),children:[s&&u&&Object(c.jsx)(y.a,{onClick:()=>{u()},children:t._("Edit","BoardPage.ActionBar.PartnerEdit","Clickable text to enter board editing mode")}),s&&a&&l&&Object(c.jsx)(y.a,{onClick:()=>{l()},children:t._("Create Pincode","BoardPage.ActionBar.PartnerPincode","Clickable text to trigger Pincode modal")}),b&&d&&Object(c.jsx)(He,{board:r,onCreatePincode:l,onOpen:d,children:({onClick:e})=>Object(c.jsx)(y.a,{onClick:e,children:t._("Share","BoardPage.ActionBar.EllipsisButton","Button caption to share board")})}),h&&Object(c.jsx)(i.Fragment,{children:v?Object(c.jsx)(y.a,{onClick:S,children:t._("Unfollow","BoardPage.ActionBar.EllipsisButton","Button caption to unfollow board")}):Object(c.jsx)(y.a,{onClick:S,children:t._("Follow","BoardPage.ActionBar.EllipsisButton","Button caption to follow board")})})]})})}var at=n("7pfs");const st=Object(i.forwardRef)((e,t)=>{const{boardName:n,boardUrl:i,children:o,overFlowActionsButton:r,sectionName:a}=e;return Object(c.jsxs)(s.f,{display:"flex",justifyContent:"center",marginBottom:8,paddingX:8,ref:t,width:"100%",children:[Object(c.jsxs)(s.u,{alignItems:"stretch",justifyContent:"start",direction:"column",maxWidth:488,children:[Object(c.jsx)(xe.a,{children:Object(c.jsx)(s.f,{marginTop:4,children:Object(c.jsx)(at.a,{children:({active:e,focused:t,hovered:o,onBlur:r,onFocus:a,onMouseEnter:l,onMouseLeave:d})=>Object(c.jsx)(s.bb,{role:"link",href:null!=i?i:"",onFocus:a,onBlur:r,onMouseEnter:l,onMouseLeave:d,children:Object(c.jsx)(s.v,{align:"center",color:e||t||o?"darkGray":"gray",children:n})})})})}),Object(c.jsx)(xe.a,{children:Object(c.jsxs)(s.f,{alignItems:"center",display:"flex",justifyContent:"center",marginTop:-2,children:[Object(c.jsx)(s.v,{align:"center",children:a}),!!r&&Object(c.jsx)(s.f,{paddingX:1,children:r})]})})]}),o&&Object(c.jsx)(s.f,{marginTop:8,children:o})]})});st.displayName="SectionHeader";var ct=st,lt=n("xUWj");function dt({board:e,handleBoardEditClick:t,handleFollowersClick:n,handleSectionEditClick:i,handleShowBoardArchiveConfirmation:o,handleShowBoardUnarchiveConfirmation:r,handleShowCollabAndPermissionsModal:a,handleShowCreatePincodeModal:l,handleShowMergeModal:d,section:u,showPulsar:h}){var b,p,f,g,m,j;const{name:v,sensitivity:O,url:y}=e,{access:x}=e,_=Object(U.b)(),w=Object(qe.a)(),C=x&&x.includes("write")?lt.a:tt,S=Object(ge.d)(O),I=Object(We.d)(_,(null===(b=e.owner)||void 0===b?void 0:b.id)||"",w),E=Object(Te.a)({viewer:_,board:e})||I;let T=null;T=E?Object(c.jsx)($,{board:e,onArchiveClick:o,onCreatePincode:l,onEditBoardClick:t,onEditSectionClick:i,onMergeClick:d,onUnarchiveClick:r,showCreatePinCodeOption:_.isAuth&&_.isPartner,surface:u?"section":"board"}):Object(c.jsx)(rt,{bgColor:"lightGray",board:e,showFollow:!0,size:"sm"});const P=S&&Object(ge.c)(O);return u?Object(c.jsx)(ct,{boardName:v,boardUrl:y,overFlowActionsButton:T,sectionName:u.title,children:P&&Object(c.jsx)(xe.a,{children:Object(c.jsx)(s.f,{maxWidth:800,paddingY:10,children:O&&Object(c.jsx)(be.a,{notices:O.notices,viewType:5,sensitivity:O})})})}):Object(c.jsx)(s.f,{"data-test-id":"board-header",children:Object(c.jsx)(C,{boardId:e.id,ownerName:(null===(p=e.owner)||void 0===p?void 0:p.full_name)||"",ownerUsername:(null===(f=e.owner)||void 0===f?void 0:f.username)||"",ownerImgSrc:(null===(g=e.owner)||void 0===g?void 0:g.image_key)||(null===(m=e.owner)||void 0===m?void 0:m.image_medium_url)||(null===(j=e.owner)||void 0===j?void 0:j.image_small_url)||"",children:t=>{var i;return Object(c.jsx)(et,{board:e,collaborators:t,handleCreatePincode:l,handleShowCollabAndPermissionsModal:a,hideFollowers:I,isToolsBoard:!0,onFollowersClick:n,overFlowActionsButton:T,showPulsar:h,userBlocked:!(null===(i=e.owner)||void 0===i||!i.blocked_by_me)})}})})}var ut=n("fNcP"),ht=n("ZE2w"),bt=n("oN2T");function pt({boardId:e,collaboratorId:t,collaboratorUsername:n}){const i=Object(o.useDispatch)(),r=Object(fe.h)(),a=Object(x.c)();return Object(c.jsx)(s.u,{justifyContent:"center",width:"100%",children:Object(c.jsx)(s.f,{marginTop:8,maxWidth:960,paddingX:8,children:Object(c.jsx)(s.ib,{message:a._("You’ve been requested to take over ownership of this board","boardOwnershipTransferUpsell.message","Message informing user they have received an ownership transfer request"),primaryAction:{accessibilityLabel:a._("Accept","boardOwnershipTransferUpsell.acceptAccessibilityLabel","Accessibility label for accept button on upsell"),label:a._("Accept","boardOwnershipTransferUpsell.acceptLabel","Label for accept button on upsell"),onClick:()=>{re.d.create("ApiResource",{url:`/v3/boards/${e}/collaborators/requests/ownership/`,data:{collaborator:t}}).callUpdate(),i(Object(bt.i)(n)),r.push(`/${n}/`)}},secondaryAction:{accessibilityLabel:a._("Decline","boardOwnershipTransferUpsell.declineAccessibilityLabel","Accessibility label for decline button on upsell"),label:a._("Decline","boardOwnershipTransferUpsell.declineLabel","Label for decline button on upsell"),onClick:()=>{i(Object(ht.b)(e,t))}},title:a._("Board ownership request pending","boardOwnershipTransferUpsell.title","Title for board ownership transfer upsell")})})})}var ft=n("TNox"),gt=n("pLLR");const mt=Object(i.forwardRef)(({boardTool:{icon:e,link:t,text:n}},o)=>{const[r,a]=Object(i.useState)(!1),{isRTL:l}=Object(gt.d)();return Object(c.jsx)(ft.a,{accessibilityLabel:n,href:t,onFocus:()=>a(!0),onBlur:()=>a(!1),onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),ref:o,rounding:6,children:Object(c.jsxs)(s.f,{display:"flex",direction:"column",justifyContent:"center",dangerouslySetInlineStyle:{__style:{paddingBottom:"1px"}},children:[Object(c.jsx)(s.f,{alignItems:"center",color:r?"lightWash":"lightGray",display:"flex",height:72,justifyContent:"center",rounding:6,width:72,children:Object(c.jsx)(s.w,{accessibilityLabel:n,color:"darkGray",icon:"text-align-left"===e&&l?"text-align-right":e,size:24})}),Object(c.jsx)(s.f,{paddingY:1,width:72,children:Object(c.jsx)(s.cb,{align:"center",size:"sm",weight:"bold",children:n})})]})})});mt.displayName="BoardTool";var jt=mt;function vt({boardId:e,sectionId:t}){const n=Object(i.useRef)(),o=Object(i.useRef)(),r=Object(i.useRef)(),a=Object(i.useRef)(),l=!!t,d=l?{sectionId:t}:{boardId:e},{data:u,isLoaded:h}=Object(ce.a)({name:l?"SectionToolsFeedResource":"BoardToolsFeedResource",options:d});if(h&&(!u||!u.length))return null;const b=[n,o,r,a],p=null==u?void 0:u.map(({id:e})=>{const t=e.split("-");return t&&t.length>1?Number(t[1]):-1});return h&&null!=u&&u.length?Object(c.jsx)(s.u,{alignItems:"center",justifyContent:"center",width:"100%",children:Object(c.jsxs)(s.u,{alignItems:"stretch",justifyContent:"start",children:[u.map((e,t)=>{const n=p?p[t]:-1;return Object(c.jsx)(s.f,{padding:1,children:Object(c.jsx)(jt,{boardTool:e,ref:b[n]})},e.id)}),Object(c.jsx)(X.a,{anchors:{3003:n.current,3004:o.current,3005:r.current,3007:a.current},placementId:18,positionRelativeToAnchor:!1})]})}):null}var Ot=n("Bn+j"),yt=n("1YNZ"),xt=n("J/d7");function _t(){Object(b.b)(101,{element:10776,component:13216,view:5,viewParameter:3069})}function wt({handleAddBoardNote:e,handleAddSection:t,handleCreatePin:n,handleCreateStoryPin:o,surface:r}){const a=Object(x.c)(),l=Object(i.useRef)();return Object(c.jsx)(s.f,{bottom:!0,marginBottom:4,position:"fixed",rounding:"circle",width:56,dangerouslySetInlineStyle:{__style:{boxShadow:"0px 0px 20px rgba(0, 0, 0, 0.1)",left:"50%",right:"50%",transform:"translate(-50%)"}},children:Object(c.jsx)(xt.a,{idealDirection:"up",onAddBoardNote:e,onAddSection:t,onCreatePin:n,onCreateStoryPin:o,onOpen:_t,surface:r,children:({active:e,openFlyout:t})=>Object(c.jsxs)(s.f,{color:"white",display:"inlineBlock",rounding:"circle",children:[Object(c.jsx)(s.x,{accessibilityLabel:a._("Create a Pin or add a Section","BoardPage.ActionBar.AddPinOrSection","button triggering a flyout to create a pin or add a section"),bgColor:"white",icon:"add",iconColor:"darkGray",onClick:t,ref:l,selected:e,size:"xl"}),Object(c.jsx)(X.a,{anchors:{3006:l.current},idealDirection:"up",placementId:18})]})})})}function Ct(e){const t=Object(x.c)(),{boardUrl:n="",onHide:i,slug:o}=e;return Object(c.jsx)(ae.a,{duration:2e3,href:`${n}${o}`,onHide:i,text:t._("Section added!","Toast for successfully creating a new board section","Toast for successfully creating a new board section")})}var St=n("5MXd"),It=n("75Er");const Et=St.a+1;function Tt({handleGoBack:e,hideSensitivityScreen:t,sensitivityScreenAuxData:n}){const i=Object(x.c)();return Object(It.b)({component:13860,view_type:5,aux_data:n}),Object(c.jsx)(s.f,{dangerouslySetInlineStyle:{__style:{backdropFilter:"blur(30px)",background:"rgba(0,0,0,0.8)"}},display:"flex",height:"100%",justifyContent:"center",position:"fixed",top:!0,width:"100%",zIndex:new s.t(Et),children:Object(c.jsx)(s.f,{dangerouslySetInlineStyle:{__style:{paddingTop:260}},children:Object(c.jsxs)(s.u,{alignItems:"center",direction:"column",gap:8,maxWidth:500,children:[Object(c.jsx)(s.v,{align:"center",color:"white",children:i._("This board may contain sensitive content","boardPageContainer.sensitivityScreen.heading","Warning text on board that may have sensitive content")}),Object(c.jsxs)(s.u,{gap:6,children:[Object(c.jsx)(s.g,{color:"red",onClick:e,size:"lg",text:i._("Go back","boardPageContainer.sensitivityScreen.backButton","Text on button that lets user go back to previous page")}),Object(c.jsx)(s.g,{color:"white",onClick:t,size:"lg",text:i._("View anyway","boardPageContainer.sensitivityScreen.viewButton","Text on button that lets user past sensitivity screen")})]}),Object(c.jsx)(s.f,{paddingY:4,children:Object(c.jsx)(s.cb,{align:"center",color:"white",overflow:"normal",size:"md",children:Object(S.b)(i._('If you see anything that violates our {{communityGuidelines}}, please report it to us by clicking the "..." button at the bottom of any Pin',"boardPageContainer.sensitivityScreen.text","Text telling user how to report a Pin"),{communityGuidelines:Object(c.jsx)("a",{href:"https://policy.pinterest.com/en/community-guidelines",target:"_blank",rel:"noreferrer",children:Object(c.jsx)(s.cb,{color:"white",inline:!0,size:"md",underline:!0,children:i._("Community Guidelines","boardPageContainer.sensitivityScreen.communityGuidelines","Text that links to the community guidelines page")})})})})})]})})})}var Pt=n("q8wg");var Dt=n("1inl"),Bt=n("i6L0");var Mt=n("DzJC"),kt=n.n(Mt);var Rt=function(e=1400){const[t,n]=Object(i.useState)(!1),[o,r]=Object(i.useState)(!1),a=kt()(()=>{if(window&&window.scrollY){const i=window.scrollY>=e;if(i&&!t?n(!0):!i&&t&&n(!1),document&&document.body){window.innerHeight+window.scrollY+1>=document.body.offsetHeight&&r(!0)}}},50);return Object(i.useEffect)(()=>(window.addEventListener("scroll",a),()=>{window.removeEventListener("scroll",a)}),[a]),{hasScrolledToBottom:o,isScrolledToThreshold:t}},At=n("i97C"),Lt=n("zpPL"),Nt=n("t3tn");function Ut(){const e=Object(U.b)(),t=Object(ce.a)({name:"UserMetadataResource",options:{user:e}});Object(i.useEffect)(()=>function(e){const t=Lt.a.instance;if(t&&""===t.getState().ui.views.boardPinView&&e&&e.data){const{profile_pin_rep_view_type:n}=e.data;n?t.dispatch(Object(Nt.a)(n)):t.dispatch(Object(Nt.a)("regular"))}}(t))}var Ft=n("6b3J"),Ht=n("ANjH"),zt=n("NrS9"),qt=n("vZlu"),Gt=n("QAzJ"),Wt=n("sxkF"),Vt=n("mHb8");const Kt=()=>{};t.a=Object(Ht.compose)(fe.l,Object(C.a)(18,e=>{var t;return{board_id:e.board.id,pin_count:null!==(t=e.board.sectionless_pin_count)&&void 0!==t?t:0,chrome_push_subscription:Object(zt.b)()}}))((function({board:e,experience:t,initialModalType:n,match:{params:{slug:r}},refreshBoardData:a=Kt,refreshSectionData:l=Kt,setPlacementExtraContext:d,section:u,showPulsar:h}){var p,g,m;const j=Object(o.useDispatch)(),v=Object(Re.a)({shouldStopEventPropagation:!1}),{hasScrolledToBottom:O,isScrolledToThreshold:y}=Rt(),_=Object(U.b)(),w=Object(qe.a)(),{anyEnabled:C}=Object(Gt.a)("web_board_notes")({dangerouslySkipActivation:!0}),S=Object(Vt.c)(_,e),I=(null===(p=e.owner)||void 0===p?void 0:p.id)||"",E=Object(We.e)(_,I,w),T=Object(Te.a)({board:e,viewer:_})||E,P=_.isAuth&&_.id===e.pending_ownership_transfer,D=Object(Gt.a)("web_board_sensitivity_screen"),M=!T&&D().anyEnabled;Object(i.useEffect)(()=>{let t="other";S?t="own":Object(Vt.b)(_,e)&&(t="collaborator"),d({board_ownership:t})},[t]),Object(i.useEffect)(()=>(T&&j(Object(qt.d)(!1)),()=>{j(Object(qt.d)(!0))}),[j,T]);const{showOneToast:k}=Object(ue.b)(),R=Object(fe.h)(),A=Object(o.useSelector)(({history:e})=>0===e.previous.length);Ut();const{handleShowMergeSectionsConfirmationModal:L,mergeConfirmationModalProps:N,onConfirm:F}=Object(At.a)({board:e}),H=function(){const e=Object(x.c)(),t=Object(o.useDispatch)(),{showBlockingActionToast:n}=Object(Bt.a)();return({board:i,targetBoard:o})=>{Object(b.b)(7172,{objectId:i.id,merge_flow:"menu"}),t(Object(bt.j)(i.id,o.id)).then(()=>{n({actionType:"merge",board:o})}).catch(t=>{Dt.a.showError(t.message||e._("Failed to merge boards","Error message when failed to merge boards","Error message when failed to merge boards"))})}}(),q={board_id:e.id,reason:(null===(g=e.sensitivity_screen)||void 0===g?void 0:g.reason)||""},[W,V]=Object(i.useState)(!(null===(m=e.sensitivity_screen)||void 0===m||!m.show_warning)&&M),[K,Y]=Object(i.useState)(null),[X,Q]=Object(i.useState)(n||null),[Z,$]=Object(i.useState)(null),[J,ee]=Object(i.useState)(e&&Object(Wt.b)(_,e)||"custom"),[te,ne]=Object(i.useState)(!1),ie=()=>Q(z.a.boardArchiveConfirmation),oe=()=>{const e=_.isAuth?"/"+Object(We.b)(_,w):"/";R.replace(e)},ae=v(e=>{Q(z.a.editSection),Y(e)}),se=v(t=>{Q(null),(t=>{k(({onHide:n})=>Object(c.jsx)(Ct,{boardUrl:e.url,onHide:n,slug:t.slug}))})(t)}),ce=()=>Q(z.a.collaboratorsAndPermissions),le=v(()=>{Object(b.b)(101,{element:10780,component:13217,view:5,viewParameter:3069}),R.push({pathname:"/pin-builder/",state:{board:e,boardSection:u}})}),de=v(()=>{R.push({pathname:"/story-pin-builder/"})}),he=v(()=>{Object(b.b)(101,{element:10781,component:13217,view:5,viewParameter:3069}),Q(z.a.pincode)}),be=v(()=>{Object(b.b)(101,{element:10779,component:13217,view:5,viewParameter:3069}),Q(z.a.simpleCreateSection)}),pe=v(()=>{Q(z.a.mergeBoard)}),ge="custom"!==J;return Object(c.jsx)(Pt.a,{view:5,viewParameter:Object(B.a)({board:e,viewer:_}),objectId:e.id,children:Object(c.jsxs)(i.Fragment,{children:[Object(c.jsx)(dt,{board:e,handleBoardEditClick:()=>{Object(b.b)(101,{element:10845,component:13216,view:5,viewParameter:3069}),Q(z.a.boardEdit)},handleFollowersClick:()=>{Q(z.a.followers)},handleSectionEditClick:()=>ae(),handleShowBoardArchiveConfirmation:ie,handleShowBoardUnarchiveConfirmation:()=>Q(z.a.boardUnarchiveConfirmation),handleShowCollabAndPermissionsModal:ce,handleShowCreatePincodeModal:he,handleShowMergeModal:pe,section:u,showPulsar:h}),T&&Object(c.jsx)(s.f,{marginBottom:6,children:Object(c.jsx)(vt,{boardId:e.id,sectionId:null==u?void 0:u.id})}),P&&Object(c.jsx)(pt,{boardId:e.id,collaboratorId:_.isAuth?_.id:"",collaboratorUsername:_.isAuth?_.username:""}),X!==z.a.jumpstartBoard&&Object(c.jsx)(G,{board:e,currentView:J,handleContentViewChange:e=>ee(e),handleSetCurrentModal:Q,handleShowEditSectionModal:ae,handleShowMergeSectionsConfirmationModal:L,isOwnBoard:S,isOwnerOrCollaborator:T,isPinGridSorted:ge,refreshBoardData:a,refreshSectionData:l,section:u}),Object(c.jsx)(f,{boardId:e.id,handleShowArchiveConfirmation:ie,handleShowGroupPinsModal:(e,t)=>{Q(z.a.groupPins),$({clusterId:e,suggestedSectionName:t})}}),T&&Object(c.jsx)(wt,{handleAddBoardNote:E||!C||u?null:()=>{(async()=>{var t;const n=null===(t=e.owner)||void 0===t?void 0:t.username;if(n){const t=(await re.d.create("BoardNoteResource",{slug:r,username:n}).callCreate()).resource_response.data;R.push(e.url?`${e.url}_tools/notes/${t.id}`:"")}})()},handleAddSection:be,handleCreatePin:le,handleCreateStoryPin:E?null:de,surface:u?"section":"board"}),X&&Object(c.jsx)(ut.a,{actions:{completeCreateSectionAction:se,onBoardArchiveChange:()=>{a(),j(Object(bt.i)(_.isAuth?_.username:""))},onBoardDelete:oe,onBoardLeave:e=>{j(Object(bt.i)(_.isAuth?_.username:"")),oe()},onBoardMerge:t=>{H({board:e,targetBoard:t}),oe()},onBoardSectionDelete:()=>{var t;(Y(null),Q(null),u)&&R.replace(null!==(t=e.url)&&void 0!==t?t:"")},onBoardSectionSave:({title:t,slug:n})=>{if(Y(null),Q(null),u){var i;const t=`${null!==(i=e.url)&&void 0!==i?i:""}${n}/`;R.replace(t)}},onCollaboratorInviteClick:ce,onConfirmMergeSection:F},board:e,boardSection:u||K,currentModal:X,groupPinsData:Z,mergeConfirmationModalProps:N,onClearModal:()=>Q(null)}),A&&!Object(Vt.c)(_,e)&&!u&&(y||O)&&!te&&Object(c.jsx)(Ft.a,{onDismiss:()=>{ne(!0)},boardId:e.id}),Object(c.jsx)(Ot.a,{placementId:18}),Object(c.jsx)(yt.a,{placementId:18}),W&&Object(c.jsx)(Tt,{handleGoBack:()=>{Object(b.b)(101,{component:13860,element:73,view:5,...q}),A&&R.replace("/"),R.goBack()},hideSensitivityScreen:()=>{j(Object(bt.h)(e.id)),Object(b.b)(101,{component:13860,element:12448,view:5,...q}),V(!1)},sensitivityScreenAuxData:q})]})})}))},Q7uW:function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("n6mq"),o=n("nKUr");function r(e){const{htmlFor:t,errorMessage:n}=e;return Object(o.jsx)(i.z,{htmlFor:t,children:Object(o.jsx)(i.f,{marginTop:1,children:Object(o.jsx)(i.cb,{color:"red",size:"md",children:n})})})}},QAzJ:function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var i=n("q1tI"),o=n("hlDC");function r(e){const t=Object(o.b)(),n=t.v2GetGroup(e)||"",r=function(e){return e.startsWith("enabled")||e.startsWith("employee")}(n),a=(e=>{const t=Object(i.useRef)(!1),n=Object(i.useRef)(!1);return Object(i.useEffect)(()=>{t.current=!0,n.current&&e()},[]),()=>{t.current?e():n.current=!0}})(()=>{t.v2ActivateExperiment(e)});return e=>(null!=e&&e.dangerouslySkipActivation||a(),{group:n,anyEnabled:r})}function a(e,t=!0){const n=r(e);return t?n():{group:"",anyEnabled:!1}}},QCnb:function(e,t,n){e.exports=n("+wdc")},QIf8:function(e,t,n){n.d(t,"a",(function(){return c}));var i=n("M1Uz"),o=n("yweb"),r=n("vvax"),a=n("n6mq"),s=n("nKUr");function c(e){const{boardImage:t,boardName:n,boardUrl:c,onHide:l}=e,d=Object(o.c)(),u=Object(s.jsx)(a.cb,{children:Object(r.b)(d._("Now following {{ boardName }}","BoardFollowButton.FollowingToast.nowFollowing","Toast text displayed when a user follows a board"),{boardName:Object(s.jsx)(a.cb,{weight:"bold",children:n},"boardName")})});return Object(s.jsx)(i.a,{onHide:l,text:u,href:c,imageUrl:t})}},QIuh:function(e,t,n){function i(e,t){return{x:e.x+t.x,y:e.y+t.y}}function o(e,t){return{x:e.x-t.x,y:e.y-t.y}}Object.defineProperty(t,"__esModule",{value:!0}),t.add=i,t.subtract=o,t.getSourceClientOffset=function(e){var t=e.clientOffset,n=e.initialClientOffset,r=e.initialSourceClientOffset;return t&&n&&r?o(i(t,r),n):null},t.getDifferenceFromInitialOffset=function(e){var t=e.clientOffset,n=e.initialClientOffset;return t&&n?o(t,n):null}},QIyF:function(e,t,n){var i=n("Kz5y");e.exports=function(){return i.Date.now()}},QNmZ:function(e,t,n){var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n("q1tI"),s=n("+k3R"),c=n("SFi7"),l=n("dJ9d"),d=n("QWfI"),u=n("qFZT"),h=n("2S0S"),b=n("Gytx");t.default=function(e,t){return void 0===t&&(t={}),s.default("DragLayer","collect[, options]",e,t),h("function"==typeof e,'Expected "collect" provided as the first argument to DragLayer to be a function that collects props to inject into the component. ',"Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer",e),h(d.isPlainObject(t),'Expected "options" provided as the second argument to DragLayer to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer',t),function(n){var i=n,s=t.arePropsEqual,d=void 0===s?b:s,p=i.displayName||i.name||"Component",f=function(t){function s(){var e=null!==t&&t.apply(this,arguments)||this;return e.isCurrentlyMounted=!1,e.ref=a.createRef(),e.handleChange=function(){if(e.isCurrentlyMounted){var t=e.getCurrentState();b(t,e.state)||e.setState(t)}},e}return o(s,t),s.prototype.getDecoratedComponentInstance=function(){return h(this.ref.current,"In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()"),this.ref.current},s.prototype.shouldComponentUpdate=function(e,t){return!d(e,this.props)||!b(t,this.state)},s.prototype.componentDidMount=function(){this.isCurrentlyMounted=!0,this.handleChange()},s.prototype.componentWillUnmount=function(){this.isCurrentlyMounted=!1,this.unsubscribeFromOffsetChange&&(this.unsubscribeFromOffsetChange(),this.unsubscribeFromOffsetChange=void 0),this.unsubscribeFromStateChange&&(this.unsubscribeFromStateChange(),this.unsubscribeFromStateChange=void 0)},s.prototype.render=function(){var e=this;return a.createElement(c.Consumer,null,(function(t){var n=t.dragDropManager;return void 0===n?null:(e.receiveDragDropManager(n),e.isCurrentlyMounted?a.createElement(i,r({},e.props,e.state,{ref:l.isRefable(i)?e.ref:null})):null)}))},s.prototype.receiveDragDropManager=function(e){if(void 0===this.manager){this.manager=e,h("object"==typeof e,"Could not find the drag and drop manager in the context of %s. Make sure to wrap the top-level component of your app with DragDropContext. Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context",p,p);var t=this.manager.getMonitor();this.unsubscribeFromOffsetChange=t.subscribeToOffsetChange(this.handleChange),this.unsubscribeFromStateChange=t.subscribeToStateChange(this.handleChange)}},s.prototype.getCurrentState=function(){if(!this.manager)return{};var t=this.manager.getMonitor();return e(t,this.props)},s.displayName="DragLayer("+p+")",s.DecoratedComponent=n,s}(a.Component);return u(f,n)}}},QSJg:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.FILE="__NATIVE_FILE__",t.URL="__NATIVE_URL__",t.TEXT="__NATIVE_TEXT__"},QWfI:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.isFunction=function(e){return"function"==typeof e},t.noop=function(){},t.isPlainObject=function(e){if(!function(e){return"object"==typeof e&&null!==e}(e))return!1;if(null===Object.getPrototypeOf(e))return!0;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}},QWk2:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("q1tI"),o=n("B/xd");function r(e){return function(t,n){if(void 0===t&&(t=null),void 0===n&&(n=null),!i.isValidElement(t)){var r=t;return e(r,n),r}var a=t;!function(e){if("string"!=typeof e.type){var t=e.type.displayName||e.type.name||"the component";throw new Error("Only native element nodes can now be passed to React DnD connectors.You can either wrap "+t+" into a <div>, or turn it into a drag source or a drop target itself.")}}(a);var s=n?function(t){return e(t,n)}:e;return o.default(a,s)}}n("1IOU"),t.default=function(e){var t={};return Object.keys(e).forEach((function(n){var i=e[n];if(n.endsWith("Ref"))t[n]=e[n];else{var o=r(i);t[n]=function(){return o}}})),t}},R5Y4:function(e,t){var n=Math.ceil,i=Math.max;e.exports=function(e,t,o,r){for(var a=-1,s=i(n((t-e)/(o||1)),0),c=Array(s);s--;)c[r?s:++a]=e,e+=o;return c}},Rfw2:function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return d}));var i=n("T0g9");const o=["and","that","but","or","as","if","when","than","because","while","where","after","so","though","since","until","whether","before","although","nor","like","once","unless","now","except","the","a","an","san","for","in","with"],r={AUTO_COMPLETE_DEFAULT:"query",AUTO_COMPLETE_HASHTAG:"hashtag",AUTO_COMPLETE_RECENT_SEARCH:"recent_query",AUTO_COMPLETE_RECOMMENDED_SEARCH:"recommended_query",AUTO_COMPLETE_TRENDING:"trending",TYPO_AUTO_CORRECT_ORIGINAL:"typo_auto_original",USER_INPUT:"typed",SEARCH_GUIDE:"add_refine"};function a(e){return(e||"").trim().replace(/\s+/g," ")}function s({type:e,term:t="",index:n}){switch(e){case r.USER_INPUT:case r.AUTO_COMPLETE_HASHTAG:case r.TYPO_AUTO_CORRECT_ORIGINAL:return`${t}|${e}`;case r.AUTO_COMPLETE_DEFAULT:return`${t}|autocomplete|${n}`;case r.AUTO_COMPLETE_RECENT_SEARCH:return`${t}|recentsearch|${n}`;case r.AUTO_COMPLETE_TRENDING:return`${t}|trending|${n}`;case r.AUTO_COMPLETE_RECOMMENDED_SEARCH:return`${t}|recommended|${n}`;case r.SEARCH_GUIDE:return`${t}|guide|word|${n}`;default:return""}}function c({queryStates:e}){return 0===e.length?"":"&"+Object(i.a)({term_meta:e.map(e=>s(e))})}function l(e){if(e){const t=e.trim().split(/\s+/);return t.find(e=>o.includes(e.toLowerCase()))?[e]:t}return[]}function d({type:e,query:t="",index:n}){switch(e){case r.USER_INPUT:case r.AUTO_COMPLETE_HASHTAG:case r.TYPO_AUTO_CORRECT_ORIGINAL:return l(t).map(t=>({index:n,term:t,type:e}));case r.AUTO_COMPLETE_RECENT_SEARCH:case r.AUTO_COMPLETE_RECOMMENDED_SEARCH:case r.AUTO_COMPLETE_TRENDING:case r.AUTO_COMPLETE_DEFAULT:return l(t).map(t=>({term:t,type:e,index:n}));default:return[]}}},S1na:function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("yweb");const o=(e,t)=>{const n=t||0,i=10**n,o=+(n?e*i:e).toFixed(8),r=Math.floor(o),a=o-r,s=a>.5-1e-8&&a<.5+1e-8?r%2==0?r:r+1:Math.round(o);return n?s/i:s},r=e=>{try{(0).toLocaleString([e])}catch(t){return!1}return!0};function a(){const e=Object(i.c)();return(t,n,i)=>{let a=0,s=0;const c=i&&i.style||void 0,l=i&&i.shortform||!1,d=i&&i.uplimit||void 0,u=i&&i.currency||void 0,h=!!d&&n>=d,b=d&&h?d:n;if("currency"===c?(a=void 0===i||void 0===i.maximum_fraction_digits?2:i.maximum_fraction_digits,s=void 0===i||void 0===i.minimum_fraction_digits?2:i.minimum_fraction_digits):(a=void 0===i||void 0===i.maximum_fraction_digits?0:i.maximum_fraction_digits,s=void 0===i||void 0===i.minimum_fraction_digits?0:i.minimum_fraction_digits),l&&b>999&&(a=void 0===i||void 0===i.shortform_maximum_fraction_digits?2:i.shortform_maximum_fraction_digits,s=0),a<s)return String(b);let p=b,f="";const g=[{"100M":{value:1e8,localeKey:e._("億","Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.","Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.")}},{"10k":{value:1e4,localeKey:e._("万","Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.","Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.")}}],m=[{b:{value:1e9,localeKey:e._("B","Abbreviation for one billion.","Abbreviation for one billion.")}},{m:{value:1e6,localeKey:e._("M","Abbreviation for one million.","Abbreviation for one million.")}},{k:{value:1e3,localeKey:e._("k","Abbreviation for one thousand.","Abbreviation for one thousand.")}}],j=/^zh|ja|ko/.test(t);if(l&&b>999){const e=j?g:m;for(let t=0;t<e.length;t+=1){const n=Object.keys(e[t])[0],i=e[t][n].value;if(b>=i){p=o(b/i*Math.pow(10,a))/Math.pow(10,a),f=e[t][n].localeKey;break}}}return p.toLocaleString([r(t)&&"ar-SA"!==t?t:"en-US"],(({maximumFractionDigits:e,minimumFractionDigits:t,style:n,currency:i})=>{const o={maximumFractionDigits:e,minimumFractionDigits:t};return n?{...o,style:n,..."currency"===n?{currency:i,currencyDisplay:"symbol"}:{}}:o})({maximumFractionDigits:a,minimumFractionDigits:s,currency:u,style:c}))+f+(h?"+":"")}}},"S8b/":function(e,t,n){var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n("hUD8"),r=n("/Ecc"),a=n("yBr6"),s=n("lh2y"),c=n("QSJg"),l=function(){function e(e){var t=this;this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.getSourceClientOffset=function(e){return a.getNodeClientOffset(t.sourceNodes.get(e))},this.endDragNativeItem=function(){t.isDraggingNativeItem()&&(t.actions.endDrag(),t.registry.removeSource(t.currentNativeHandle),t.currentNativeHandle=null,t.currentNativeSource=null)},this.isNodeInDocument=function(e){return!!document&&document.body.contains(e)||!!t.window&&t.window.document.body.contains(e)},this.endDragIfSourceWasRemovedFromDOM=function(){var e=t.currentDragSourceNode;t.isNodeInDocument(e)||t.clearCurrentDragSourceNode()&&t.actions.endDrag()},this.handleTopDragStartCapture=function(){t.clearCurrentDragSourceNode(),t.dragStartSourceIds=[]},this.handleTopDragStart=function(e){var n=t.dragStartSourceIds;t.dragStartSourceIds=null;var i=a.getEventClientOffset(e);t.monitor.isDragging()&&t.actions.endDrag(),t.actions.beginDrag(n||[],{publishSource:!1,getSourceClientOffset:t.getSourceClientOffset,clientOffset:i});var o=e.dataTransfer,r=s.matchNativeItemType(o);if(t.monitor.isDragging()){if(o&&"function"==typeof o.setDragImage){var c=t.monitor.getSourceId(),l=t.sourceNodes.get(c),d=t.sourcePreviewNodes.get(c)||l;if(d){var u=t.getCurrentSourcePreviewNodeOptions(),h={anchorX:u.anchorX,anchorY:u.anchorY},b={offsetX:u.offsetX,offsetY:u.offsetY},p=a.getDragPreviewOffset(l,d,i,h,b);o.setDragImage(d,p.x,p.y)}}try{o.setData("application/json",{})}catch(f){}t.setCurrentDragSourceNode(e.target),t.getCurrentSourcePreviewNodeOptions().captureDraggingState?t.actions.publishDragSource():setTimeout((function(){return t.actions.publishDragSource()}),0)}else if(r)t.beginDragNativeItem(r);else{if(o&&!o.types&&(e.target&&!e.target.hasAttribute||!e.target.hasAttribute("draggable")))return;e.preventDefault()}},this.handleTopDragEndCapture=function(){t.clearCurrentDragSourceNode()&&t.actions.endDrag()},this.handleTopDragEnterCapture=function(e){if(t.dragEnterTargetIds=[],t.enterLeaveCounter.enter(e.target)&&!t.monitor.isDragging()){var n=e.dataTransfer,i=s.matchNativeItemType(n);i&&t.beginDragNativeItem(i)}},this.handleTopDragEnter=function(e){var n=t.dragEnterTargetIds;(t.dragEnterTargetIds=[],t.monitor.isDragging())&&(t.altKeyPressed=e.altKey,r.isFirefox()||t.actions.hover(n,{clientOffset:a.getEventClientOffset(e)}),n.some((function(e){return t.monitor.canDropOnTarget(e)}))&&(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=t.getCurrentDropEffect())))},this.handleTopDragOverCapture=function(){t.dragOverTargetIds=[]},this.handleTopDragOver=function(e){var n=t.dragOverTargetIds;if(t.dragOverTargetIds=[],!t.monitor.isDragging())return e.preventDefault(),void(e.dataTransfer&&(e.dataTransfer.dropEffect="none"));t.altKeyPressed=e.altKey,t.actions.hover(n||[],{clientOffset:a.getEventClientOffset(e)}),(n||[]).some((function(e){return t.monitor.canDropOnTarget(e)}))?(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=t.getCurrentDropEffect())):t.isDraggingNativeItem()?e.preventDefault():(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=function(e){t.isDraggingNativeItem()&&e.preventDefault(),t.enterLeaveCounter.leave(e.target)&&t.isDraggingNativeItem()&&t.endDragNativeItem()},this.handleTopDropCapture=function(e){t.dropTargetIds=[],e.preventDefault(),t.isDraggingNativeItem()&&t.currentNativeSource.mutateItemByReadingDataTransfer(e.dataTransfer),t.enterLeaveCounter.reset()},this.handleTopDrop=function(e){var n=t.dropTargetIds;t.dropTargetIds=[],t.actions.hover(n,{clientOffset:a.getEventClientOffset(e)}),t.actions.drop({dropEffect:t.getCurrentDropEffect()}),t.isDraggingNativeItem()?t.endDragNativeItem():t.endDragIfSourceWasRemovedFromDOM()},this.handleSelectStart=function(e){var t=e.target;"function"==typeof t.dragDrop&&("INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable||(e.preventDefault(),t.dragDrop()))},this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.context=e.getContext(),this.enterLeaveCounter=new o.default(this.isNodeInDocument)}return Object.defineProperty(e.prototype,"window",{get:function(){return this.context&&this.context.window?this.context.window:"undefined"!=typeof window?window:void 0},enumerable:!0,configurable:!0}),e.prototype.setup=function(){if(void 0!==this.window){if(this.window.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");this.window.__isReactDndBackendSetUp=!0,this.addEventListeners(this.window)}},e.prototype.teardown=function(){void 0!==this.window&&(this.window.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.window),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&this.window.cancelAnimationFrame(this.asyncEndDragFrameId))},e.prototype.connectDragPreview=function(e,t,n){var i=this;return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,t),function(){i.sourcePreviewNodes.delete(e),i.sourcePreviewNodeOptions.delete(e)}},e.prototype.connectDragSource=function(e,t,n){var i=this;this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,n);var o=function(t){return i.handleDragStart(t,e)},r=function(e){return i.handleSelectStart(e)};return t.setAttribute("draggable","true"),t.addEventListener("dragstart",o),t.addEventListener("selectstart",r),function(){i.sourceNodes.delete(e),i.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",o),t.removeEventListener("selectstart",r),t.setAttribute("draggable","false")}},e.prototype.connectDropTarget=function(e,t){var n=this,i=function(t){return n.handleDragEnter(t,e)},o=function(t){return n.handleDragOver(t,e)},r=function(t){return n.handleDrop(t,e)};return t.addEventListener("dragenter",i),t.addEventListener("dragover",o),t.addEventListener("drop",r),function(){t.removeEventListener("dragenter",i),t.removeEventListener("dragover",o),t.removeEventListener("drop",r)}},e.prototype.addEventListeners=function(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))},e.prototype.removeEventListeners=function(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))},e.prototype.getCurrentSourceNodeOptions=function(){var e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return i({dropEffect:this.altKeyPressed?"copy":"move"},t||{})},e.prototype.getCurrentDropEffect=function(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect},e.prototype.getCurrentSourcePreviewNodeOptions=function(){var e=this.monitor.getSourceId(),t=this.sourcePreviewNodeOptions.get(e);return i({anchorX:.5,anchorY:.5,captureDraggingState:!1},t||{})},e.prototype.isDraggingNativeItem=function(){var e=this.monitor.getItemType();return Object.keys(c).some((function(t){return c[t]===e}))},e.prototype.beginDragNativeItem=function(e){this.clearCurrentDragSourceNode(),this.currentNativeSource=s.createNativeDragSource(e),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])},e.prototype.setCurrentDragSourceNode=function(e){var t=this;this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;this.mouseMoveTimeoutTimer=setTimeout((function(){return t.window&&t.window.addEventListener("mousemove",t.endDragIfSourceWasRemovedFromDOM,!0)}),1e3)},e.prototype.clearCurrentDragSourceNode=function(){return!!this.currentDragSourceNode&&(this.currentDragSourceNode=null,this.window&&(this.window.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.window.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)),this.mouseMoveTimeoutTimer=null,!0)},e.prototype.handleDragStart=function(e,t){this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t)},e.prototype.handleDragEnter=function(e,t){this.dragEnterTargetIds.unshift(t)},e.prototype.handleDragOver=function(e,t){null===this.dragOverTargetIds&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)},e.prototype.handleDrop=function(e,t){this.dropTargetIds.unshift(t)},e}();t.default=l},SFi7:function(e,t,n){var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var s=n("q1tI"),c=n("yCO0"),l=n("+k3R"),d=n("dJ9d"),u=n("2S0S"),h=n("qFZT");function b(e,t,n){return{dragDropManager:c.createDragDropManager(e,t,n)}}t.context=s.createContext({dragDropManager:void 0}),t.Consumer=t.context.Consumer,t.Provider=t.context.Provider,t.createChildContext=b,t.DragDropContextProvider=function(e){var n=e.children,i=a(e,["children"]),o="manager"in i?{dragDropManager:i.manager}:b(i.backend,i.context,i.debugMode);return s.createElement(t.Provider,{value:o},n)},t.DragDropContext=function(e,n,i){l.default("DragDropContext","backend",e);var a=b(e,n,i);return function(e){var n=e,i=n.displayName||n.name||"Component",c=function(c){function l(){var e=null!==c&&c.apply(this,arguments)||this;return e.ref=s.createRef(),e.getManager=function(){return a.dragDropManager},e}return o(l,c),l.prototype.getDecoratedComponentInstance=function(){return u(this.ref.current,"In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()"),this.ref.current},l.prototype.render=function(){return s.createElement(t.Provider,{value:a},s.createElement(n,r({},this.props,{ref:d.isRefable(n)?this.ref:null})))},l.DecoratedComponent=e,l.displayName="DragDropContext("+i+")",l}(s.Component);return h(c,e)}}},SKAX:function(e,t,n){var i=n("JC6p"),o=n("lQqw")(i);e.exports=o},SLVX:function(e,t,n){function i(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",(function(){return i}))},Sbkd:function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("q1tI"),o=n("mvLR");function r(){const e=Object(i.useRef)([]),t=Object(i.useRef)({});return Object(i.useEffect)(()=>()=>{[...Object.keys(t.current).map(e=>t.current[e]),...e.current].forEach(e=>e())},[]),function(n,i){if(i){const e=t.current[i];e&&(e(),delete t.current[i])}const{cancel:r,promise:a}=Object(o.a)(n);return i?t.current[i]=r:e.current.push(r),a}}},Sihc:function(e,t,n){n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return u}));var i=n("Pqnw"),o=n("uVIr"),r=n("VqlB"),a=n("eOdZ"),s=n("oN2T"),c=n("KFEb"),l=n("Wer7");function d(e,t){return{type:"SECTION_ADDED",payload:{boardId:e,section:t}}}function u({boardId:e,name:t,nameSource:n,pinImport:u,initialPinIds:h=[]},b,p){let f=0;"RECOMMENDATION"===n?f=1:"EDITED_RECOMMENDATION"===n&&(f=2);const g={board_id:e,initial_pins:u&&!u.all?u.pinIds:h,name:t,name_source:f,...p?{orbac_subject_id:p}:Object.freeze({})};return t=>a.d.create("BoardSectionResource",g).callCreate({showError:!1}).then(({resource_response:{data:n}})=>{t(d(e,n)),t(Object(o.a)({feedId:e,feedType:c.a.BOARD_SECTIONS,itemIds:[n.id],itemType:"board_section"})),t(Object(s.c)(e,"pin_count")),t(Object(l.f)("BoardSectionsRepinResource",{board_id:e}));const{all:a,pinIds:h}=u||{all:!1,pinIds:[]};return a?new Promise((i,o)=>t(Object(r.a)({inverseSelection:!0,selectedPinIds:h,source:{boardId:e,sectionId:null},target:{boardId:e,sectionId:n.id}},b)).then(()=>i(n)).catch(o)):(h.length>0&&t(Object(i.a)(c.a.BOARD_PINS,e)),n)})}},Sp3T:function(e,t,n){var i=n("aOj9");t.a=(e={shouldStopEventPropagation:!0})=>{const{loginForMore:t,viewer:n}=Object(i.d)(),{shouldStopEventPropagation:o}=e;return"AUTH"===n.type?e=>e:()=>e=>{let n=null;e&&(e.nativeEvent&&e.nativeEvent instanceof Event?n=e:e.event&&(n=e.event)),o&&n&&n.stopPropagation&&n.stopPropagation(),t&&t.setVisible(!0)}}},Sxd8:function(e,t,n){var i=n("ZCgT");e.exports=function(e){var t=i(e),n=t%1;return t==t?n?t-n:t:0}},"T+9/":function(e,t,n){var i=n("q1tI"),o=n("i8i4"),r=n("/MKj"),a=n("6/Sz"),s=n("D2p8"),c=n("U4JR");function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const d={Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpressions",idType:"storyIdStr",eventType:170},ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127}};class u extends i.Component{constructor(e){super(e),l(this,"trackImpression",()=>{try{this.node=Object(o.findDOMNode)(this),this.node instanceof HTMLElement&&this.impressionsFramework.start(this.node).onExitViewport(this.logImpression).setDebugId(this.props.loggingId||"unknown")}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}}),l(this,"logImpression",e=>{const{carousel_data:t,closeupImpressionType:n,closeupNavigationType:i,componentType:o,contextLogData:r,elementType:a,impressionAuxFields:s,impressionType:l,loggingId:u,objectIdStr:h,slotIndex:b,trackCarousel:p,viewData:f,viewParameter:g,viewType:m}=this.props,j=d[l],v=j.idType,O=e.forcedExit&&"removed"===e.forcedExit?0:void 0,y={endTime:e.endTime,[v]:u,slotIndex:b,time:e.startTime,renderDuration:e.endTime-e.startTime,type:n,...s,forcedExit:O};if(p||Object(c.b)(j.eventType,{closeup_navigation_type:i,component:o,element:a,eventData:{[j.impressionType]:[y]},objectIdStr:h,view:m,viewData:f||{},viewParameter:g,...r}),t&&p){const{carousel_slots:e,index:n=0,id:i}=t;Object(c.b)(7352,{component:o,eventData:{pinCarouselSlotImpressions:[{...y,carouselDataId:Number(i),carouselSlotId:(null==e?void 0:e[n])&&Number(e[n].id),slotIndex:n}]},objectIdStr:h,view:m,viewData:f||{},viewParameter:g,...r})}}),this.impressionsFramework=e.impressionsFramework||s.c}componentDidMount(){this.props.inImpressionExp&&!this.impressionsFramework.inExperiment&&this.impressionsFramework.setExperimentStatus(!0),this.props.isPaused||this.trackImpression()}componentDidUpdate(e){e.isPaused&&!this.props.isPaused&&this.trackImpression()}componentWillUnmount(){this.node instanceof HTMLElement&&this.impressionsFramework.stop(this.node)}render(){return i.Children.only(this.props.children)}}t.a=Object(r.connect)((function({pins:e},{loggingId:t}){const n=e[t||""]||{};return{carousel_data:Object(a.a)(n)}}),()=>({}))(u)},TKJ6:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("7nh8");t.setClientOffset=function(e,t){return{type:i.INIT_COORDS,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}},TNox:function(e,t,n){var i=n("q1tI"),o=n("zwad"),r=n("gqRH"),a=n("n6mq"),s=n("nKUr");const c=Object(i.forwardRef)((e,t)=>{const{accessibilityLabel:n,children:i,disabled:c,fullHeight:l,fullWidth:d,href:u,onTap:h,onBlur:b,onFocus:p,onMouseEnter:f,onMouseLeave:g,mouseCursor:m,rounding:j,tabIndex:v,tapStyle:O,target:y}=e,x=o.a.isOffsiteUrl(u);return Object(s.jsx)(r.a,{href:u,target:x?null:y,children:({handleClick:e})=>Object(s.jsx)(a.bb,{accessibilityLabel:n,disabled:c,href:u,fullHeight:l,fullWidth:d,mouseCursor:m,onTap:({event:t,disableOnNavigation:n})=>{n(),null==h||h({event:t}),e({event:t})},onBlur:b,onFocus:p,onMouseEnter:f,onMouseLeave:g,ref:t,rel:x?"nofollow":void 0,role:"link",rounding:j,tabIndex:v,tapStyle:O,children:i})})});c.displayName="TapAreaLink",t.a=c},TO8r:function(e,t){var n=/\s/;e.exports=function(e){for(var t=e.length;t--&&n.test(e.charAt(t)););return t}},TPjH:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var i=n.getRegistry(),o=i.addTarget(e,t);return[o,function(){return i.removeTarget(o)}]}},TSYQ:function(e,t,n){var i;!function(){var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var i=arguments[t];if(i){var r=typeof i;if("string"===r||"number"===r)e.push(i);else if(Array.isArray(i)&&i.length){var a=o.apply(null,i);a&&e.push(a)}else if("object"===r)for(var s in i)n.call(i,s)&&i[s]&&e.push(s)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(i=function(){return o}.apply(t,[]))||(e.exports=i)}()},TT16:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.isRef=function(e){return null!==e&&"object"==typeof e&&e.hasOwnProperty("current")}},TgLd:function(e,t,n){n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var i=n("q1tI"),o=n("D2p8"),r=n("LT60"),a=n("n6mq"),s=n("nKUr");const c=new a.t(1e3);function l({_dangerouslyDisableScrollBoundaryContainer:e,accessibilityModalLabel:t,align:n,allowClickAndDrag:l,allowMediaPlay:d,allowScroll:u,children:h,closeOnOutsideClick:b,footer:p,heading:f,onDismiss:g,role:m,size:j,subHeading:v}){Object(i.useEffect)(()=>(o.c.pause(),function(){o.c.resume()}),[]);return Object(s.jsx)(a.A,{zIndex:c,children:Object(s.jsx)(r.a,{allowClickAndDrag:l,allowEsc:!0,allowMediaPlay:d,allowScroll:u,children:Object(s.jsx)(a.H,{_dangerouslyDisableScrollBoundaryContainer:e,accessibilityModalLabel:t,align:n,closeOnOutsideClick:b,heading:f,footer:p,onDismiss:()=>{o.c.resume(),g()},role:m,size:j,subHeading:v,children:h})})})}},U4JR:function(e,t,n){n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return u}));var i=n("m2Wt"),o=n("h4v/"),r=n("ajUs"),a=n("zpPL");const s=()=>a.a.instance.getState(),c=()=>{const{advertiser:e,adminUser:t,viewer:n}=s(),i={};return e&&e.id&&(i.advertiser_id=e.id),t&&n&&n.username&&(i.sterling_on_steroids_ldap=t,i.viewed_user=n.username),i},l=(e,{element:t,eventData:n,component:o,objectId:a,view:l,viewParameter:d,viewData:u,durationNs:h,pairId:b,clientTrackingParams:p,...f})=>{const g=i.a.fromEventType(e);return g.setElement(t),g.updateEventData(n),g.setComponent(o),a&&g.setObjectIdStr(a),g.setDurationNs(h),g.updateAuxData({...f,...c()}),g.setViewType(l),g.setViewParameter(d),g.setViewData(u),g.setPairId(b),g.setClientTrackingParams(p||(e=>{const{pins:t,location:n}=s(),i=t&&e&&t[e];return i?Object(r.a)(i,n)||i.tracking_params+"~0":void 0})(a)),g};function d(e,t={}){o.a.getInstance().addEvent(l(e,t))}const u={flushContextEvents:()=>o.a.getInstance().flushEvents(!0),logContextEvent:({aux_data:e,clientTrackingParams:t,component:n,duration_ns:i,element:o,event_data:r,event_type:a,object_id_str:s,pair_id:c,view_data:l,view_parameter:u,view_type:h})=>{d(a,{...e,element:o,eventData:r,component:n,objectId:s,view:h,viewParameter:null!=u?u:void 0,viewData:l,durationNs:i,pairId:c,clientTrackingParams:t})}}},U4W0:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"}(t.HandlerRole||(t.HandlerRole={}))},UJTY:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("q1tI"),o=n("/acK"),r=n("493B");t.useDragLayer=function(e){var t=o.useDragDropManager().getMonitor(),n=r.useCollector(t,e),a=n[0],s=n[1];return i.useEffect((function(){return t.subscribeToOffsetChange(s)})),i.useEffect((function(){return t.subscribeToStateChange(s)})),a}},V08O:function(e,t,n){n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r}));const i=(e,t)=>((e,t,n)=>({x:Math.floor(e*Math.cos(n)),y:Math.floor(t*Math.sin(n))}))(t/2,e/2,2*Math.random()*Math.PI),o=(e,t)=>Math.floor(Math.random()*(t-e+1))+e,r=e=>["@-webkit-keyframes","@keyframes"].map(t=>e.map(e=>t+" "+e).join("\n")).join("\n")},V711:function(e,t,n){n.d(t,"a",(function(){return _}));var i=n("q1tI"),o=n("/MKj"),r=n("8cMa"),a=n("JW66"),s=n("rrvb"),c=n("QO9Q"),l=n("xkL+"),d=n("0BOE"),u=n("jdx6"),h=n("0Xtd"),b=n("Wer7"),p=n("QAzJ"),f=n("yweb"),g=n("w70y"),m=n("n6mq"),j=n("oN2T"),v=n("nKUr");function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y({board:e,hovered:t,searchQuery:n}){const i=e.privacy===a.a.BoardPrivacy.SECRET;return Object(v.jsxs)(m.f,{color:t?"lightGray":"white",display:"flex",padding:2,rounding:2,children:[Object(v.jsx)(m.f,{flex:"grow",children:Object(v.jsx)(m.cb,{weight:"bold",children:Object(u.b)(n,e.name)})}),Object(v.jsxs)(m.u,{alignItems:"stretch",justifyContent:"start",direction:"row",flex:"none",children:[i&&Object(v.jsx)(r.a,{type:"secret"}),e.is_collaborative&&Object(v.jsx)(r.a,{type:"group"})]})]})}class x extends i.Component{constructor(e){super(e),O(this,"getSections",()=>{var e;if(null===(e=this.props.boardResource.data)||void 0===e||!e.all_boards)return[];const{searchQuery:t}=this.state,{boardResource:{data:{all_boards:n}}}=this.props;return t.length>=2?[{items:Object(d.a)(n,t)}]:[{items:n}]}),O(this,"createBtnDisabled",()=>{var e;if(null===(e=this.props.boardResource.data)||void 0===e||!e.all_boards)return!1;const{boardResource:{data:{all_boards:t}}}=this.props,{searchQuery:n}=this.state;return t.some(e=>{var t;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase())===n.toLowerCase()})}),O(this,"handleBoardCreate",e=>()=>{const{searchQuery:e}=this.state;if(!e)return;const{createBoard:t,invalidateBoardPickerBoardsResource:n,onBoardCreate:i}=this.props;n(),i?i(e):t({name:e,privacy:"public"}).then(e=>{const{onBoardChosen:t}=this.props;t(e)})}),O(this,"handleBoardSelected",e=>{this.props.onBoardChosen(e),this.setState({selectedBoard:e})}),O(this,"handleSearchQueryUpdate",e=>{this.setState({searchQuery:e})}),O(this,"renderRow",({item:e,hovered:t})=>{const{searchQuery:n}=this.state;return Object(v.jsx)(y,{board:e,hovered:t,searchQuery:n})}),this.state={searchQuery:"",selectedBoard:e.board}}render(){const{boardResource:e,board:t,isBoardlessPinsBoard:n,isQuickCreatesBoard:i,isStoryPin:o,viewer:r}=this.props,{searchQuery:a,selectedBoard:c}=this.state;let l=this.props.i18n._("Select a board","Label for selecting a board in Edit Pin Modal","Label for selecting a board in Edit Pin Modal");return t?l=i?this.props.i18n._("Choose board","BoardPickerFlyout.displayBoardName.quickCreatesBoard","Title for board picker when current board is a quick creates board"):n?this.props.i18n._("Profile","BoardPickerFlyout.displayBoarName.boardlessPins","Title indicating the pin is saved to profile"):t.name:c&&(l=c.name),Object(v.jsxs)(m.f,{children:[Object(v.jsx)(m.U,{accessibilityLabel:this.props.i18n._("loading board picker","accessibility text for loading spinner","accessibility text for loading spinner"),show:!e.isLoaded}),e.data&&Object(v.jsx)(s.a,{createBtnDisabled:this.createBtnDisabled(),dropdownValue:l,isStoryPin:o,onCreate:this.handleBoardCreate(r),onSearchQueryUpdate:this.handleSearchQueryUpdate,onSelect:this.handleBoardSelected,renderRow:this.renderRow,searchQuery:a,sections:this.getSections()})]})}}function _(e){const t=Object(f.c)(),n=Object(o.useDispatch)(),i=Object(l.b)(),r=i.isAuth?i.username:"",a=Object(o.useSelector)(({advertiser:e})=>e),s=i.isAuth&&a&&a.owner_user_id!==i.id,d=s?a.id:null,u=s?a.owner_user_id:null,{anyEnabled:m}=Object(p.b)("web_business_access_orbac_feature_gate"),O=Object(c.a)(),y=Object(h.b)(i,O);let _;_=m&&y||u;const w=Object(g.a)({name:"BoardPickerBoardsResource",options:{pin_id:e.pinId,field_set_key:"board_picker",onlyFetchBoards:!0,username:_,...d&&u?{advertiser_id:d,filter:"protected",username:u}:{}},noCache:!0});return Object(v.jsx)(x,{...e,advertiser_id:d,boardResource:w,createBoard:e=>n(Object(j.f)(e,void 0,r)),invalidateBoardPickerBoardsResource:()=>{n(Object(b.f)("BoardPickerBoardsResource",{field_set_key:"board_picker",...y?{username:y}:{username:u}}))},username:u,viewer:i,i18n:t})}},VH7y:function(e,t,n){e.exports=n("bY5B")()},VOtZ:function(e,t,n){var i=n("juv8"),o=n("MvSz");e.exports=function(e,t){return i(e,o(e),t)}},VPyJ:function(e,t,n){n.d(t,"a",(function(){return l}));var i=n("q1tI"),o=n("1dBE"),r=n("nKUr");const{Provider:a,Consumer:s,useHook:c}=Object(o.c)("ShowBoardlessPins");function l({children:e}){const[t,n]=Object(i.useState)(!1);return Object(r.jsx)(a,{value:{showBoardlessPinsModal:t,setShowBoardlessPinsModal:n},children:e})}t.b=c},VVkO:function(e,t,n){function i(e,t){const{url:n}=e,{slug:i}=t;return`${null!=n?n:""}${i}/`}n.d(t,"a",(function(){return i}))},ViqK:function(e,t,n){n.d(t,"a",(function(){return c}));var i=n("q1tI"),o=n("FDmi"),r=n("zwad"),a=n("n6mq"),s=n("nKUr");function c(e){const{imageUrl:t,name:n,title:c,subtitle:l,accessory:d,linkURL:u,isDim:h}=e,b={__style:{opacity:h?.5:1}},p=r.a.isOffsiteUrl(null!=u?u:"")?"nofollow":"none";return Object(s.jsx)(i.Fragment,{children:n&&c&&Object(s.jsxs)(a.f,{display:"flex",alignItems:"center",paddingX:4,marginBottom:4,children:[Object(s.jsx)(a.f,{marginEnd:2,dangerouslySetInlineStyle:b,children:Object(s.jsx)(a.bb,{role:"link",rel:p,href:u||"",rounding:"circle",children:Object(s.jsx)(o.a,{outline:!0,size:"md",name:n,src:t})})}),Object(s.jsxs)(a.f,{display:"flex",flex:"grow",alignItems:"stretch",direction:"column",dangerouslySetInlineStyle:b,children:[Object(s.jsx)(a.cb,{color:"darkGray",size:"lg",lineClamp:1,weight:"bold",children:Object(s.jsx)(a.C,{rel:p,href:u||"",children:c})}),Object(s.jsx)(a.cb,{lineClamp:1,size:"sm",color:"gray",children:l})]}),d&&Object(s.jsx)(a.f,{marginStart:4,children:d})]})})}},VqlB:function(e,t,n){n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return f}));var i=n("3z7j"),o=n("Pqnw"),r=n("uVIr"),a=n("MhBu"),s=n("eOdZ"),c=n("oN2T"),l=n("KFEb"),d=n("1inl");const u=e=>t=>{d.a.showError(function(e,t){switch(e.api_error_code){case 2171:case 2172:case 2173:return t._("Please wait until the previous board action finishes.");default:return e.message}}(t,e))},h=e=>Object(o.a)(e.sectionId?l.a.SECTION_PINS:l.a.BOARD_PINS,e.sectionId||e.boardId);function b(e,t){const{source:n,target:o}=e;o.boardId!==n.boardId?(t(Object(c.c)(n.boardId,"pin_count")),t(Object(c.c)(o.boardId,"pin_count"))):n.sectionId&&o.sectionId||t(Object(c.c)(o.boardId,"pin_count")),n.sectionId&&t(Object(i.a)(n.sectionId)),o.sectionId&&t(Object(i.a)(o.sectionId))}function p(e){return t=>{const{selectedPinIds:n,source:i,target:o}=e;t(Object(a.a)({feedId:i.sectionId||i.boardId,feedType:i.sectionId?l.a.SECTION_PINS:l.a.BOARD_PINS,itemIds:n,itemType:"pin"})),t(Object(r.a)({feedId:o.sectionId||o.boardId,feedType:o.sectionId?l.a.SECTION_PINS:l.a.BOARD_PINS,itemIds:n,itemType:"pin"})),b(e,t)}}function f(e,t){return n=>function(e,t,n){const{inverseSelection:i,selectedPinIds:o,source:c,target:d}=e;if(c.boardId===d.boardId&&(c.sectionId||null)===(d.sectionId||null))return Promise.reject();if(i){const e={board_id:c.boardId,new_board_id:d.boardId,old_section_id:c.sectionId||void 0,new_section_id:d.sectionId||void 0,pin_ids:o};return s.d.create("BulkEditSelectAllResource",e).callUpdate({showError:!1}).then(()=>Promise.all([t(h(c)),t(h(d))])).catch(u(n))}{const e=(e,n)=>{t(Object(a.a)({feedId:e.sectionId||e.boardId,feedType:e.sectionId?l.a.SECTION_PINS:l.a.BOARD_PINS,itemIds:o,itemType:"pin"})),t(Object(r.a)({feedId:n.sectionId||n.boardId,feedType:n.sectionId?l.a.SECTION_PINS:l.a.BOARD_PINS,itemIds:o,itemType:"pin"}))};e(c,d);const i=()=>e(d,c);if(d.boardId===c.boardId){if(d.sectionId){const e={section_id:d.sectionId,pins:o};return s.d.create("BoardSectionEditResource",e).callUpdate({showError:!1}).catch(e=>{i(),u(n)(e)})}{const e={section_id:c.sectionId,pins:o};return s.d.create("BoardSectionPinsResource",e).callDelete({showError:!1}).catch(e=>{i(),u(n)(e)})}}{const e={board_id:d.boardId,section_id:d.sectionId||void 0,pin_ids:o};return s.d.create("BulkEditResource",e).callUpdate({showError:!1}).catch(e=>{i(),u(n)(e)})}}}(e,n,t).then(()=>b(e,n))}},Vzit:function(e,t,n){function i(e){return{type:"EXPERIENCE_FETCH_ALL",payload:{isFetchingAll:!0,targeting:e}}}function o(e){return{type:"EXPERIENCE_FETCH_ALL_COMPLETE",payload:{eligibleExperiences:e,isFetchingAll:!1}}}function r(){return{type:"EXPERIENCE_FETCH_ALL_MULTI",payload:{isFetchingAllMulti:!0}}}function a(e){return{type:"EXPERIENCE_FETCH_ALL_MULTI_COMPLETE",payload:{experiencesMulti:e}}}function s(e,t={},n){return{type:"EXPERIENCE_FETCH",payload:{extraContext:t,placementId:e,targeting:n}}}function c(e,t,n={}){return{type:"EXPERIENCE_FETCH_COMPLETE",payload:{eligibleExperiences:e,extraContext:n,placementId:t}}}function l(e,t){return{type:"PLACEMENT_EXPERIMENTS_TRIGGER",payload:{placementId:e,extraContext:t}}}function d(e,t,n=!1,i){return{type:"EXPERIENCE_VIEWED",payload:{placementId:e,experienceId:t,isBackendExperience:n,targeting:i}}}function u(e,t,n=!1,i=!1,o={},r=!1,a){return{type:"EXPERIENCE_COMPLETED",payload:{placementId:e,experienceId:t,preventRemoval:n,isBackendExperience:i,extraContext:o,completeOnUnmount:r,targeting:a}}}function h(e,t,n=!1,i=!1,o){return{type:"EXPERIENCE_DISMISSED",payload:{placementId:e,experienceId:t,preventRemoval:n,isBackendExperience:i,targeting:o}}}function b(e,t){return{type:"EXPERIENCE_REMOVE",payload:{placementId:e,experienceId:t}}}function p(e,t={},n){return{type:"PLACEMENT_MOUNT",payload:{placementId:e,extraContext:t,targeting:n}}}function f(e){return{type:"PLACEMENT_UNMOUNT",payload:{placementId:e}}}function g(e){return{type:"SAVE_TARGETING",payload:{targeting:e}}}n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return r})),n.d(t,"g",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"h",(function(){return c})),n.d(t,"k",(function(){return l})),n.d(t,"j",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return h})),n.d(t,"i",(function(){return b})),n.d(t,"l",(function(){return p})),n.d(t,"m",(function(){return f})),n.d(t,"n",(function(){return g}))},Wer7:function(e,t,n){function i(e,t={}){return{type:"RESOURCE_INVALIDATE",payload:{name:e,options:t}}}function o(e,t={},n={}){return{type:"RESOURCE_FETCH",payload:{name:e,options:t,headers:n}}}function r(e,t={},n={}){return{type:"RESOURCE_FETCH_MORE",payload:{name:e,options:t,headers:n}}}function a(e,t={}){return{type:"RESOURCE_FETCH_CREATE",payload:{name:e,options:t}}}function s(e,t={},n,i,o,r){return{type:"RESOURCE_FETCH_COMPLETE",payload:{auxData:i,data:n,name:e,nextBookmark:r,options:t},error:o}}function c(e,t={},n,i,o,r){return{type:"RESOURCE_FETCH_MORE_COMPLETE",payload:{auxData:i,data:n,name:e,nextBookmark:r,options:t},error:o}}n.d(t,"f",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return c}))},WgLT:function(e,t,n){e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},WjpJ:function(e,t,n){var i=n("HLqC")();e.exports=i},Wrea:function(e,t,n){n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var i=n("Wer7");const o=(e,t)=>n=>n(Object(i.a)("BoardResource",{board_id:e,field_set_key:t})),r=e=>o(e,"pin_count"),a=e=>({type:"BOARD_PIN_COUNT_CHANGED",payload:e}),s=e=>({type:"BOARD_INVITE_ACCEPTED_BY_VIEWER",payload:{boardId:e}}),c=(e,t)=>({type:"BOARD_COVER_IMAGE_UPDATED",payload:{boardId:e,coverPin:t}}),l=e=>({type:"BOARD_DISABLE_MORE_IDEAS_BADGING",payload:{boardId:e}})},WvEV:function(e,t,n){var i={"./EditProfileQuery.graphql.js":["SmUD",610],"./EditProfileUpdatePartnerMutation.graphql.js":["/XiH",611],"./EditProfileUpdatePinnerMutation.graphql.js":["U2El",612],"./FollowerListPaginationQuery.graphql.js":["o5uT",613],"./FollowersControllerGraphQLQuery.graphql.js":["ajTr",614],"./FollowersListMobilePaginationQuery.graphql.js":["tbw7",615],"./FollowersModalGraphQL_pinner.graphql.js":["t+cE",593],"./IdeasHubInteralRedirectQuery.graphql.js":["crSz",616],"./IdeasHubPageQuery.graphql.js":["WMab",617],"./IdeasRootPageQuery.graphql.js":["2b6W",618],"./ProfileFollowersControllerGraphQLMobileQuery.graphql.js":["blVT",619],"./ProfileFollowersGraphQLMobile_pinner.graphql.js":["8LYA",594],"./ProfileUserRepGraphQLMobileFollowMutation.graphql.js":["8Y3F",620],"./ProfileUserRepGraphQLMobileUnfollowMutation.graphql.js":["7zcW",621],"./ProfileUserRepGraphQLMobile_pinner.graphql.js":["tBns",622],"./SearchContainer_searchUsersConnection.graphql.js":["P0jk",623],"./SearchDebugInfo_searchUsersConnection.graphql.js":["3I3p",624],"./SearchNagWithCheckGQL_searchUsersConnection.graphql.js":["qf9h",625],"./SearchResultUsersList.graphql.js":["pIK/",626],"./SearchSensitiveContentNotice_sensitivity.graphql.js":["QuAj",627],"./SearchTabBar_searchfeedTabs.graphql.js":["iWf7",628],"./UserListItemFollowMutation.graphql.js":["3pEB",629],"./UserListItemUnfollowMutation.graphql.js":["Q7Cu",630],"./UserListItem_pinner.graphql.js":["F4nr",631],"./UserSearchPaginationQuery.graphql.js":["e9Z6",632],"./UserSearchPagination_query.graphql.js":["teee",595],"./UserSearchQuery.graphql.js":["JS/F",633],"./useLazyLoadQueryCheckExperimentsInvalidQuery.graphql.js":["X0yT",634],"./useLazyLoadQueryCheckExperimentsValidQuery.graphql.js":["+mgr",635],"./useLazyLoadQueryGetVariablesInvalidQuery.graphql.js":["bAKs",636],"./useLazyLoadQueryGetVariablesValidQuery.graphql.js":["8OfR",637],"./useLazyLoadQueryTestQuery.graphql.js":["kLRe",638]};function o(e){if(!n.o(i,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=i[e],o=t[0];return n.e(t[1]).then((function(){return n.t(o,7)}))}o.keys=function(){return Object.keys(i)},o.id="WvEV",e.exports=o},WwFo:function(e,t,n){var i=n("juv8"),o=n("7GkX");e.exports=function(e,t){return e&&i(t,o(t),e)}},X6C7:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("QWfI"),o=function(){function e(e){this.isDisposed=!1,this.action=i.isFunction(e)?e:i.noop}return e.isDisposable=function(e){return e&&i.isFunction(e.dispose)},e._fixup=function(t){return e.isDisposable(t)?t:e.empty},e.create=function(t){return new e(t)},e.prototype.dispose=function(){this.isDisposed||(this.action(),this.isDisposed=!0)},e.empty={dispose:i.noop},e}();t.Disposable=o},XRfM:function(e,t,n){n.d(t,"b",(function(){return r})),n.d(t,"f",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return h})),n.d(t,"g",(function(){return b}));var i=n("Ye/N");const o=function(e,t){const n=t||0,i=Math.pow(10,n),o=+(n?e*i:e).toFixed(8),r=Math.floor(o),a=o-r,s=a>.5-1e-8&&a<.5+1e-8?r%2==0?r:r+1:Math.round(o);return n?s/i:s},r={AUD:"A$",BRL:"R$",CAD:"$",CZK:"Kč",DKK:"kr",EUR:"€",GBP:"£",HUF:"Ft",MXN:"$",NOK:"kr",NZD:"NZ$",RON:"lei",SEK:"kr",USD:"$"},a=e=>{try{(0).toLocaleString([e])}catch(t){return!1}return!0};function s(e,t,n,i,o,r,s){const c=function(e,t,n,i,o="symbol"){const r={maximumFractionDigits:e,minimumFractionDigits:t};return n&&(r.style=n,"currency"===n&&(r.currency=i,r.currencyDisplay=o)),r}(n,i,o,r,s);return t.toLocaleString([a(e)?e:"en-US"],c)}function c(e,t,n){let r,a;const c=n&&n.style||void 0,l=n&&n.shortform||!1,d=n&&n.uplimit||void 0,u=n&&n.currency||void 0;if(d&&t>d)return d+"+";if("currency"===c?(r=void 0===n||void 0===n.maximum_fraction_digits?2:n.maximum_fraction_digits,a=void 0===n||void 0===n.minimum_fraction_digits?2:n.minimum_fraction_digits):(r=void 0===n||void 0===n.maximum_fraction_digits?0:n.maximum_fraction_digits,a=void 0===n||void 0===n.minimum_fraction_digits?0:n.minimum_fraction_digits),l&&t>999&&(r=void 0===n||void 0===n.shortform_maximum_fraction_digits?2:n.shortform_maximum_fraction_digits,a=0),r<a)return String(t);let h=t,b="";const p=[{"100M":{value:1e8,localeKey:i.a._("億","Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.","Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.")}},{"10k":{value:1e4,localeKey:i.a._("万","Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.","Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.")}}],f=[{b:{value:1e9,localeKey:i.a._("b","Abbreviation for one billion.","Abbreviation for one billion.")}},{m:{value:1e6,localeKey:i.a._("m","Abbreviation for one million.","Abbreviation for one million.")}},{k:{value:1e3,localeKey:i.a._("k","Abbreviation for one thousand.","Abbreviation for one thousand.")}}],g=/^zh|ja|ko/.test(e);if(l&&t>999){const e=g?p:f;for(let n=0;n<e.length;n+=1){const i=Object.keys(e[n])[0],a=e[n][i].value;if(t>=a){h=o(t/a*Math.pow(10,r))/Math.pow(10,r),b=e[n][i].localeKey;break}}}return s(e,h,r,a,c,u||void 0)+b}const l={LONG:"long",YEAR:"year",WEEKDAY_DATE:"weekday_date",WEEKDAY_DATE_TIME_TIMEZONE:"weekday_date_time_timezone",SHORT_WEEKDAY_DATE:"short_weekday_date",LONG_MONTH_YEAR:"long_month_year",NUMERIC:"numeric",MONTH_DAY:"month_day",SHORT_MONTH:"short_month",SHORT_MONTH_DAY:"short_month_day",DAY:"day",YEAR_SHORT_MONTH_DAY:"year_short_month_day",YEAR_SHORT_MONTH_DAY_HOUR:"year_short_month_day_hour",TIME:"time",TIME_TIMEZONE:"time_timezone",HOUR:"hour"},d=function(e,t,n,i=!0){const o=function(e){switch(e){case l.YEAR:return{year:"numeric"};case l.LONG:return{year:"numeric",month:"long",day:"numeric"};case l.NUMERIC:return{year:"numeric",month:"numeric",day:"numeric"};case l.WEEKDAY_DATE:return{weekday:"long",month:"long",day:"numeric",year:"numeric"};case l.SHORT_WEEKDAY_DATE:return{weekday:"short",month:"numeric",day:"numeric"};case l.WEEKDAY_DATE_TIME_TIMEZONE:return{weekday:"short",month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"};case l.MONTH_DAY:return{month:"long",day:"numeric"};case l.SHORT_MONTH:return{month:"short"};case l.SHORT_MONTH_DAY:return{month:"short",day:"numeric"};case l.DAY:return{day:"numeric"};case l.LONG_MONTH_YEAR:return{month:"long",year:"numeric"};case l.YEAR_SHORT_MONTH_DAY:return{year:"numeric",month:"short",day:"numeric"};case l.YEAR_SHORT_MONTH_DAY_HOUR:return{month:"short",year:"numeric",day:"numeric",hour:"numeric"};case l.TIME:return{hour:"numeric",minute:"2-digit"};case l.TIME_TIMEZONE:return{hour:"numeric",minute:"2-digit",timeZoneName:"short"};case l.HOUR:return{hour:"numeric"};default:throw new Error('invalid dateFormatType "'+e+'"')}}(n);i&&(o.timeZone="UTC");return new Intl.DateTimeFormat(e,o).format(t)},u=function(e){return 1.1.toLocaleString(e).substring(1,2)},h=function(e,t){return","===u(t)&&e&&e.length>0&&!isNaN(e)?e.replace(".",","):e},b=function(e,t){return","===u(t)&&e?e.replace(",","."):e},p={DateFormatType:l,formatDate:d,prettyNumberFormat:c,numberFormat:s,currencySymbols:r,localizeCurrencyValue:h,unlocalizeCurrencyValue:b};t.c=p},XYm9:function(e,t,n){var i=n("+K+b");e.exports=function(e,t){var n=t?i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},"Xnm/":function(e,t,n){},YGxj:function(e,t,n){n.d(t,"a",(function(){return u}));var i=n("q1tI"),o=n("c4Fo"),r=n("BcvT"),a=n("n6mq"),s=n("nKUr");function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l extends i.PureComponent{constructor(...e){super(...e),c(this,"onScroll",()=>{const{dismiss:e}=this.props;this.dismissed||this.timer||(this.timer=setTimeout(()=>{e(),this.dismissed=!0,this.timer=void 0},3e3))}),c(this,"dismissed",!1)}componentDidMount(){window.addEventListener("scroll",this.onScroll)}componentWillUnmount(){this.timer&&clearTimeout(this.timer)}render(){const{anchor:e,text:t,thumbnails:n,idealDirection:i}=this.props,o=n.slice(-3);return Object(s.jsx)(a.L,{anchor:e,color:"white",idealDirection:i,onDismiss:this.onScroll,shouldFocus:!1,size:"md",children:Object(s.jsxs)(a.f,{display:"flex",alignContent:"center",justifyContent:"between",padding:3,width:"100%",children:[Object(s.jsx)(a.f,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",marginStart:-3,paddingX:3,children:Object(s.jsx)(a.cb,{color:"darkGray",weight:"bold",children:t})}),Object(s.jsx)(a.f,{display:"flex",marginEnd:-2,paddingX:2,children:o.map(e=>Object(s.jsx)(a.f,{height:60,width:50,paddingX:1,children:Object(s.jsx)(a.D,{rounding:2,height:60,children:Object(s.jsx)(a.y,{alt:"More Ideas Thumbnail",color:"rgb(86, 152, 239)",fit:"cover",naturalHeight:60,naturalWidth:60,src:e})})},e))})]})})}}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends i.Component{constructor(...e){super(...e),d(this,"state",{paused:!1}),d(this,"handlePulsarClick",(e,t)=>{e?this.setState({paused:!0}):t()})}componentWillUnmount(){clearTimeout(this.timer)}setDefaultPulsarTooltip(e){const t=e=>!(null==e);e.has_pulsar=!t(e.has_pulsar)||e.has_pulsar,e.has_tooltip=!t(e.has_tooltip)||e.has_tooltip}getText(e,t,n){return t&&e.text.replace("{boardName}",t),n?n(e):e.text}render(){const{anchor:e,customWrapper:t,experienceIds:n,boardTextOverride:c,flyoutSize:d,fontSize:u,idealDirection:h,useMasonryFlyout:b,noClickToDismiss:p,onClickComplete:f,onClickDismiss:g,placementId:m,positionRelativeToAnchor:j,shouldTimeoutDismiss:v,showCaret:O,textAlign:y,textOverflow:x,textOverrideFn:_,textWeight:w,customizedComplete:C,pulsarZIndex:S}=this.props,I=t||(({children:e})=>b?Object(s.jsx)(a.A,{children:e}):e),E="blue";return Object(s.jsx)(o.a,{experienceIds:n,placementId:m,type:8,children:({complete:t,dismiss:n,display_data:o})=>(this.setDefaultPulsarTooltip(o),o.has_pulsar||o.has_tooltip?(v&&o.disappearTime&&o.disappearTime>0&&(this.timer=setTimeout(()=>(n(),null),o.disappearTime)),Object(s.jsxs)(i.Fragment,{children:[o.has_pulsar&&Object(s.jsx)(r.a,{anchor:e,onTouch:()=>this.handlePulsarClick(o.has_tooltip,t),paused:this.state.paused,zIndex:S&&S.index()}),o.has_tooltip&&(!o.has_pulsar||this.state.paused)&&(o.thumbnail_urls?Object(s.jsx)(l,{anchor:e,dismiss:n,idealDirection:h||"down",text:o.text,thumbnails:o.thumbnail_urls}):Object(s.jsx)(I,{children:Object(s.jsx)(a.L,{anchor:e,color:E,idealDirection:h||"down",onDismiss:p?()=>{}:n,positionRelativeToAnchor:!b&&j,shouldFocus:!1,showCaret:O,size:d,children:Object(s.jsxs)(a.f,{column:12,padding:3,children:[Object(s.jsx)(a.cb,{align:"right"===y?"end":y,color:"white",overflow:x,size:u,weight:w||"bold",children:this.getText(o,c,_)}),o.sub_text&&Object(s.jsx)(a.f,{paddingY:2,children:Object(s.jsx)(a.cb,{color:"white",size:u,children:o.sub_text})}),o.complete_button_cta_url&&Object(s.jsx)(a.f,{children:Object(s.jsx)(a.cb,{align:"right"===y?"end":y,color:"white",size:u,children:Object(s.jsx)(a.C,{href:o.complete_button_cta_url,target:"blank",onClick:({disableOnNavigation:e})=>e(),children:o.complete_button_text})})}),!o.complete_button_cta_url&&(o.dismiss_button_text||o.complete_button_text)&&Object(s.jsxs)(a.f,{display:"flex",alignItems:"center",marginTop:2,children:[o.dismiss_button_text&&Object(s.jsx)(a.f,{marginEnd:1,column:6,children:Object(s.jsx)(a.g,{fullWidth:!0,color:E,onClick:()=>{g&&g(),n()},size:"md",text:o.dismiss_button_text})}),o.complete_button_text&&Object(s.jsx)(a.f,{column:o.dismiss_button_text?6:12,children:C?Object(s.jsx)(a.bb,{fullHeight:!0,onTap:()=>{t(),f&&f()},rounding:2,children:Object(s.jsx)(a.f,{display:"flex",color:"white",padding:2,rounding:2,justifyContent:"center",dangerouslySetInlineStyle:{__style:{padding:"10px"}},children:Object(s.jsx)(a.cb,{color:"blue",weight:"bold",children:o.complete_button_text})})}):Object(s.jsx)(a.g,{fullWidth:!0,color:"white",size:"md",text:o.complete_button_text,onClick:()=>{t(),f&&f()}})})]})]})})}))]})):(t(),null))})}}d(u,"defaultProps",{fontSize:"lg",positionRelativeToAnchor:!0})},"Ye/N":function(e,t,n){Error;const i={_:e=>(process&&process.env,e),set(e){Object.assign(this,e)}};t.a=i},Yo6N:function(e,t,n){n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return g}));var i=n("q1tI"),o=n("zwad"),r=n("n6mq"),a=n("nKUr");function s({action:e,alignCenter:t}){const{title:n,description:i,button:s}=e,c=n&&n.text,l=i&&i.text,d=s&&s.text||"",u=s&&s.link||"",h=s&&s.link?s.link.replace(/^(?:https?:\/\/)?(?:www\.)?/i,"").replace("/",""):"",b=s&&d&&u.startsWith("http"),p=o.a.isOffsiteUrl(u),f=b&&p?"nofollow":"none";return b?Object(a.jsxs)(r.f,{children:[Object(a.jsx)(r.f,{marginBottom:1,children:Object(a.jsx)(r.cb,{align:t?"center":"start",weight:"bold",children:""!==d?d:"Visit"})}),Object(a.jsx)(r.f,{marginBottom:1,children:Object(a.jsx)(r.C,{rel:f,href:u,children:Object(a.jsx)(r.cb,{align:t?"center":"start",lineClamp:1,weight:"normal",underline:!0,children:h})})})]}):Object(a.jsxs)(r.f,{children:[!!c&&Object(a.jsx)(r.f,{marginBottom:1,children:Object(a.jsx)(r.cb,{align:t?"center":"start",weight:"bold",children:c})}),!!l&&Object(a.jsx)(r.f,{marginBottom:1,children:Object(a.jsx)(r.cb,{align:t?"center":"start",children:l})})]})}const c={backgroundColor:"#E1F8F7",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)"},l={boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)"};function d({inModal:e,notice:t}){const{title:n,description:i,actions:o=[]}=t,d=i&&i.text||"",u=i&&i.text_tags||[],h=1===o.length,b=f(d,u);return Object(a.jsxs)(r.f,{rounding:2,padding:6,dangerouslySetInlineStyle:{__style:e?l:c},children:[!!n&&!e&&Object(a.jsx)(r.f,{marginBottom:2,display:"flex",children:Object(a.jsx)(r.v,{size:"md",children:n})}),!!d&&Object(a.jsx)(r.f,{marginBottom:4,children:Object(a.jsx)("span",{style:{whiteSpace:"pre-wrap"},children:Object(a.jsx)(r.cb,{overflow:"normal",align:e?"center":"start",children:b})})}),!!o.length&&Object(a.jsx)(r.f,{display:"flex",wrap:!0,marginStart:-2,marginEnd:-2,direction:e?"column":"row",children:o.map(t=>Object(a.jsx)(r.f,{column:e||h?12:6,paddingY:1,paddingX:2,children:Object(a.jsx)(s,{action:t,alignCenter:e||h})},JSON.stringify(t)))})]})}var u=n("EC51");function h({notice:e}){const{actions:t=[],description:n,footer:i}=e,o=f(n&&n.text||"",n&&n.text_tags||[]),s={color:"#004b91",display:"block",fontSize:"28px",WebkitFontSmoothing:"antialiased"};return Object(a.jsxs)(r.f,{width:"100%",display:"flex",direction:"column",alignItems:"center",marginBottom:3,children:[Object(a.jsx)(r.f,{dangerouslySetInlineStyle:{__style:{backgroundColor:"#86d1ce"}},display:"flex",justifyContent:"center",width:656,rounding:8,children:Object(a.jsxs)(r.f,{height:"100%",width:"100%",padding:10,children:[Object(a.jsx)("span",{style:s,children:o}),Object(a.jsx)(r.f,{marginTop:6,children:t.map(e=>{var t;const n=null===(t=e.button)||void 0===t?void 0:t.link;var i,o,c;return n&&n.startsWith("tel")?Object(a.jsxs)(r.f,{children:[Object(a.jsx)("span",{style:{fontWeight:"600",...s},children:null===(i=e.title)||void 0===i?void 0:i.text}),Object(a.jsx)("span",{style:s,children:null===(o=e.description)||void 0===o?void 0:o.text})]}):Object(a.jsx)(u.a,{href:n||"",children:Object(a.jsx)(r.f,{display:"inlineBlock",children:Object(a.jsx)(r.f,{alignItems:"center",color:"navy",display:"flex",justifyContent:"center",height:44,rounding:"pill",paddingX:12,children:Object(a.jsx)(r.cb,{color:"white",weight:"bold",children:(null===(c=e.button)||void 0===c?void 0:c.text)||""})})})})})})]})}),!!i&&Object(a.jsx)(r.f,{paddingY:2,width:540,children:Object(a.jsx)(u.a,{inline:!0,target:"blank",href:i.link,children:Object(a.jsx)(r.cb,{align:"center",color:"gray",size:"sm",children:Object(a.jsx)("div",{dangerouslySetInnerHTML:{__html:i.text}})})},i.link)})]})}var b=n("hZxF"),p=n("U4JR");function f(e,t){const n=[];let i=0;for(let o=0;o<t.length;o+=1){const s=t[o];if(5===s.tag_type&&s.link){const t=e.substring(s.offset,s.offset+s.length),o=Object(a.jsx)(r.cb,{inline:!0,weight:"bold",children:Object(a.jsx)(u.a,{inline:!0,target:"blank",href:s.link,children:t},t)});n.push(Object(a.jsx)("span",{children:e.substring(i,s.offset)})),n.push(o),i=s.offset+s.length}}return i>0&&n.push(Object(a.jsx)("span",{children:e.substring(i)})),0===n.length?[Object(a.jsx)("span",{children:e})]:n}function g({inModal:e,notices:t,viewType:n,query:o,sensitivity:r}){return Object(b.a)(()=>{n&&Object(p.b)(120,{component:13367,view:n,entered_query:o,advisory_details:null==r?void 0:r.advisory_details,advisory_level:null==r?void 0:r.advisory,severity_level:null==r?void 0:r.severity})}),Object(a.jsx)(i.Fragment,{children:t.map(t=>2===t.style?Object(a.jsx)(h,{notice:t}):Object(a.jsx)(d,{notice:t,inModal:e}))})}},YuQ1:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("LTlA");t.NONE=[],t.ALL=[],t.NONE.__IS_NONE__=!0,t.ALL.__IS_ALL__=!0,t.areDirty=function(e,n){return e!==t.NONE&&(e===t.ALL||void 0===n||i.intersection(n,e).length>0)}},ZCgT:function(e,t,n){var i=n("tLB3"),o=1/0;e.exports=function(e){return e?(e=i(e))===o||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},ZCpW:function(e,t,n){var i=n("lm/5"),o=n("O7RO"),r=n("IOzZ");e.exports=function(e){var t=o(e);return 1==t.length&&t[0][2]?r(t[0][0],t[0][1]):function(n){return n===e||i(n,e,t)}}},ZE2w:function(e,t,n){n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"b",(function(){return u}));var i=n("4dcN"),o=n("eOdZ");const r="collaborator_approve_invite";function a(e,t){return o.d.create("BoardEmailInviteResource",{board_id:e,emails:t}).callCreate()}function s(e,t){return o.d.create("BoardInviteResource",{board_id:e,invited_user_ids:t}).callCreate()}function c(e,t){return n=>o.d.create("BoardInviteResource",{board_id:e,invited_user_id:t}).callUpdate().then(()=>{i.a.trackEvent(r,"success")}).catch(()=>i.a.trackEvent(r,"error"))}function l(e,t,n){return t=>{const{invited_user:i,status:r,board:{id:a}}=e;return o.d.create("accepted"===r?"BoardCollaboratorResource":"BoardInviteResource",{ban:n,board_id:a,field_set_key:"boardEdit",invited_user_id:i.id}).callDelete({showError:!1})}}function d(e,t){return async n=>{await o.d.create("ApiResource",{url:`/v3/boards/${e}/collaborators/requests/ownership/`,data:{collaborator:t}}).callCreate(),n(function(e,t){return{type:"BOARD_OWNERSHIP_TRANSFER_REQUEST",payload:{boardId:e,collaboratorId:t}}}(e,t))}}function u(e,t){return async n=>{await o.d.create("ApiResource",{url:`/v3/boards/${e}/collaborators/requests/ownership/`,data:{collaborator:t}}).callDelete(),n(function(e){return{type:"BOARD_OWNERSHIP_TRANSFER_REQUEST_CANCEL",payload:{boardId:e}}}(e))}}},ZFOp:function(e,t,n){e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}},ZVOf:function(e,t,n){n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return d}));var i=n("eOdZ"),o=n("/X16");function r(e,t){return i.d.create("UserFollowResource",{user_id:e,aux_data:t?{pin_id:t}:void 0})}function a(e,t){return{type:o.a.USER_FOLLOW,payload:{id:e,value:t}}}function s(e,t=null){return n=>{r(e,t).callCreate().catch(()=>n(a(e,!1))),n(a(e,!0))}}function c(e,t=null){return async n=>{n(a(e,!0)),await r(e,t).callCreate().catch(t=>{throw n(a(e,!1)),t})}}function l(e,t=null){return n=>{r(e,t).callDelete().catch(()=>n(a(e,!0))),n(a(e,!1))}}function d(e,t=null){return async n=>{n(a(e,!1)),await r(e,t).callDelete().catch(t=>{throw n(a(e,!0)),t})}}},ZWtO:function(e,t,n){var i=n("4uTw"),o=n("9Nap");e.exports=function(e,t){for(var n=0,r=(t=i(t,e)).length;null!=e&&n<r;)e=e[o(t[n++])];return n&&n==r?e:void 0}},ZdPf:function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return a}));const i={CONDITIONAL:0,EMOTIONAL_DISDRESS_OR_SUICIDE:4},o={ABUSIVE:0,SENSITIVE:1,BRAND_UNSAFE:2};function r(e){if(null==e)return!1;let t=!!e.notices&&e.notices.length>0;var n;e.notices&&e.notices.length>0&&(null===(null===(n=e.notices[0])||void 0===n?void 0:n.title)&&(t=!1));return!!e.notice||t}function a(e){return!!e&&e.severity===o.ABUSIVE}},Zygf:function(e,t,n){function i(e){return Boolean(e.promoted_is_removable)}n.d(t,"a",(function(){return i}))},"aK+E":function(e,t,n){n.d(t,"a",(function(){return r}));const i=new Set(["bookmarks","client_tracking_params","get_page_metadata","in_nux","invite_code","no_fetch_context_on_resource","original_referrer","source","top_level_source","top_level_source_depth"]),o=e=>!i.has(e)&&!e.startsWith("__track__"),r=e=>e?Object.keys("object"==typeof e&&e||{}).filter(e=>"string"==typeof e).filter(o).sort().map(t=>`${t}=${JSON.stringify(null==e[t]?null:e[t])}`).join(","):""},aOj9:function(e,t,n){n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return s}));var i=n("q1tI"),o=n("1dBE");const r=Object(i.createContext)(null),a=()=>Object(i.useContext)(r),s=r.Provider,{Provider:c,useHook:l}=Object(o.c)("DesktopCoreLogin")},aS9Y:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("Jld5");t.createDragDropManager=function(e,t,n){return new i.default(e,t,n)}},aUfZ:function(e,t,n){var i=n("P9b8"),o=n("sZWH"),r=n.n(o);t.a=Object(i.DragDropContext)(r.a)},alwl:function(e,t,n){var i=n("eUgh"),o=n("ZWtO"),r=n("ut/Y"),a=n("l9OW"),s=n("1LK5"),c=n("sEf8"),l=n("IWTy"),d=n("zZ0H"),u=n("Z0cm");e.exports=function(e,t,n){t=t.length?i(t,(function(e){return u(e)?function(t){return o(t,1===e.length?e[0]:e)}:e})):[d];var h=-1;t=i(t,c(r));var b=a(e,(function(e,n,o){return{criteria:i(t,(function(t){return t(e)})),index:++h,value:e}}));return s(b,(function(e,t){return l(e,t,n)}))}},"b/K5":function(e,t,n){n.d(t,"a",(function(){return j}));var i=n("q1tI"),o=n("n6mq"),r=n("nKUr");function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const s=["#0074e8","#0FA573","#B469EB","#F13535","#E2780D"],c=(e,t)=>Math.random()*((e||1)-(t||0))+(t||0),l=e=>e*(Math.PI/180);class d extends i.PureComponent{constructor(...e){super(...e),a(this,"animationTimer",null),a(this,"canvasRemovalTimer",null),a(this,"containerRef",Object(i.createRef)()),a(this,"buildCanvas",()=>{if(!this.containerRef.current)return null;const{height:e,width:t}=this.containerRef.current.getBoundingClientRect(),n=2.5*e,i=document.createElement("canvas");return i.style.position="absolute",i.style.left=0-(n-t)/2+"px",i.style.top=0-(n-e)/2+"px",i.style.pointerEvents="none",i.style.width=n+"px",i.style.height=n+"px",i.style.overflow="visible",i.width=n,i.height=n,i}),a(this,"explode",()=>{const e=this.buildCanvas(),t=this.containerRef.current;if(!e||!t)return;const n=e.getContext("2d");t.prepend(e);const i=Array.from(Array(120)).map(()=>({x:e.width/2,y:e.height/2,radius:Math.round(c(10,30)),color:s[Math.floor(Math.random()*s.length)],degree:Number(c(0,360).toFixed(1)),speed:Math.round(c(0,25)),friction:.9,opacity:Number(c(0,.5).toFixed(1)),yVel:0,gravity:.04})),o=(e,t,n,i)=>{window.requestAnimationFrame(()=>o(e,t,n,i)),t.clearRect(0,0,n,i),e.forEach((e,n)=>{e.x+=e.speed*Math.cos(l(e.degree)),e.y+=e.speed*Math.sin(l(e.degree)),e.opacity-=.01,e.speed*=e.friction,e.radius*=e.friction,e.yVel+=e.gravity,e.y+=e.yVel,e.opacity<0||e.radius<0||(t.beginPath(),t.globalAlpha=e.opacity,t.fillStyle=e.color,t.arc(e.x,e.y,e.radius,0,2*Math.PI,!1),t.fill())})};o(i,n,e.width,e.height),this.canvasRemovalTimer=setTimeout(()=>{t.removeChild(e)},(this.props.delay||0)+800)})}componentDidUpdate(e){const{delay:t,startAnimation:n}=this.props,{startAnimation:i}=e;n&&i!==n&&(this.animationTimer=setTimeout(this.explode,t))}componentWillUnmount(){this.animationTimer&&clearTimeout(this.animationTimer),this.canvasRemovalTimer&&clearTimeout(this.canvasRemovalTimer)}render(){return Object(r.jsx)(o.f,{ref:this.containerRef,position:"relative",children:this.props.children})}}a(d,"defaultProps",{delay:0});var u=d,h=n("vvax"),b=n("yweb");function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const f=e=>({opacity:e?1:0,WebkitTransition:"opacity .5s ease-in-out .75s",transition:"opacity .5s ease-in-out .75s",overflow:"visible"}),g=e=>({opacity:e?1:0,WebkitTransform:e?"translateY(0)":"translateY(20%)",transform:e?"translateY(0)":"translateY(20%)",WebkitTransition:"all .5s ease-in-out .75s",transition:"all .5s ease-in-out .75s",textAlign:"center",marginTop:"24px"});class m extends i.PureComponent{constructor(...e){super(...e),p(this,"state",{isInitialized:!1}),p(this,"containerRef",Object(i.createRef)()),p(this,"pinDestinationRef",Object(i.createRef)())}componentDidMount(){this.requestAnimationFrameId=window.requestAnimationFrame(()=>{this.setState({isInitialized:!0})})}componentWillUnmount(){this.dismissTimeout&&clearTimeout(this.dismissTimeout)}componentDidUpdate(e,t){const{isInitialized:n}=this.state,{onDismiss:i}=this.props;n&&i&&!this.dismissTimeout&&(this.dismissTimeout=setTimeout(i,2600))}render(){const{firstRepin:e,pin:t,pinImageRef:n,selectedBoardName:a}=this.props,{description:s="",images:c}=t,{height:l=0,width:d=0,url:b=""}=(null==c?void 0:c["236x"])||{},{isInitialized:p}=this.state,{mask:m,imageContainer:j}=((e,t,n,i)=>{var o,r,a;let s,c,l={};const d=null===(o=n.current)||void 0===o?void 0:o.getBoundingClientRect(),u=null===(r=t.current)||void 0===r?void 0:r.getBoundingClientRect(),h=null===(a=i.current)||void 0===a?void 0:a.getBoundingClientRect();if(u&&d&&h){l={left:d.left-u.left,top:d.top-u.top};const e={x:h.left-d.left,y:h.top-d.top},t={x:(h.width-d.width)/2,y:(h.height-d.height)/2};s=`translate(${e.x}px, ${e.y}px)`,c=`translate(${t.x}px, ${t.y}px)`}return{mask:{position:"absolute",left:l.left,top:l.top,width:e?null==h?void 0:h.width:null==d?void 0:d.width,height:e?null==h?void 0:h.height:null==d?void 0:d.height,WebkitTransformOrigin:"left top",transformOrigin:"left top",WebkitTransform:e?s:"none",transform:e?s:"none",WebkitTransition:"all .5s ease-in-out .25s",transition:"all .5s ease-in-out .25s",borderRadius:e?"8px 0px 0px 8px":"8px",zIndex:2},imageContainer:{width:null==d?void 0:d.width,height:null==d?void 0:d.height,WebkitTransformOrigin:"left top",transformOrigin:"left top",WebkitTransform:e?c:"none",transform:e?c:"none",WebkitTransition:"all .5s ease-in-out .25s",transition:"all .5s ease-in-out .25s"}}})(p,this.containerRef,n,this.pinDestinationRef);return Object(r.jsx)(i.Fragment,{children:Object(r.jsxs)(o.f,{position:"absolute",top:!0,bottom:!0,right:!0,left:!0,ref:this.containerRef,children:[Object(r.jsx)(o.f,{maxHeight:335,overflow:"hidden",dangerouslySetInlineStyle:{__style:m},children:Object(r.jsx)(o.f,{dangerouslySetInlineStyle:{__style:j},children:Object(r.jsx)(o.y,{alt:null!=s?s:"",src:b||"",naturalHeight:l||1,naturalWidth:d||1})})}),Object(r.jsx)(o.f,{color:"white",position:"absolute",top:!0,bottom:!0,right:!0,left:!0,dangerouslySetInlineStyle:{__style:(v=p,{pointerEvents:"none",opacity:v?1:0,WebkitTransition:"opacity .3s ease-in-out",transition:"opacity .3s ease-in-out",zIndex:1})},children:Object(r.jsxs)(o.f,{display:"flex",justifyContent:"center",alignItems:"center",direction:"column",height:"100%",dangerouslySetInlineStyle:{__style:f(p)},children:[Object(r.jsx)(u,{delay:1250,startAnimation:p,children:Object(r.jsx)(o.D,{rounding:2,width:270,height:180,children:Object(r.jsxs)(o.u,{alignItems:"stretch",justifyContent:"start",height:"100%",width:"100%",children:[Object(r.jsx)(o.f,{ref:this.pinDestinationRef,color:"transparent",marginEnd:1,flex:"grow",height:"100%"}),Object(r.jsxs)(o.u,{alignItems:"stretch",justifyContent:"start",direction:"column",width:80,children:[Object(r.jsx)(o.f,{color:"lightGray",flex:"grow",marginBottom:1}),Object(r.jsx)(o.f,{color:"lightGray",flex:"grow"})]})]})})}),Object(r.jsx)(o.f,{paddingX:2,dangerouslySetInlineStyle:{__style:g(p)},children:Object(r.jsx)(o.v,{align:"center",children:e?Object(h.b)(this.props.i18n._("You saved your first Pin to {{ selectedBoardName }}!","First board create confirmation message","First board create confirmation message"),{selectedBoardName:null!=a?a:""}):Object(h.b)(this.props.i18n._("You saved this Pin to {{ selectedBoardName }}!","Board create confirmation message","Board create confirmation message"),{selectedBoardName:null!=a?a:""})})})]})})]})});var v}}function j(e){const t=Object(b.c)();return Object(r.jsx)(m,{...e,i18n:t})}p(m,"defaultProps",{firstRepin:!1})},b2z7:function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},bCCX:function(e,t,n){(function(e,i){var o,r=n("SLVX");o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:i;var a=Object(r.a)(o);t.a=a}).call(this,n("yLpj"),n("3UD+")(e))},bVL4:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("TKJ6"),o=n("LTlA"),r=n("QLaP"),a=n("7nh8"),s={type:a.INIT_COORDS,payload:{clientOffset:null,sourceClientOffset:null}};t.default=function(e){return function(t,n){void 0===t&&(t=[]),void 0===n&&(n={publishSource:!0});var c=n.publishSource,l=void 0===c||c,d=n.clientOffset,u=n.getSourceClientOffset,h=e.getMonitor(),b=e.getRegistry();e.dispatch(i.setClientOffset(d)),function(e,t,n){r(!t.isDragging(),"Cannot call beginDrag while dragging.");for(var i=0,o=e;i<o.length;i++){var a=o[i];r(n.getSource(a),"Expected sourceIds to be registered.")}}(t,h,b);var p=function(e,t){for(var n=null,i=e.length-1;i>=0;i--)if(t.canDragSource(e[i])){n=e[i];break}return n}(t,h);if(null!==p){var f=null;d&&(!function(e){r("function"==typeof e,"When clientOffset is provided, getSourceClientOffset must be a function.")}(u),f=u(p)),e.dispatch(i.setClientOffset(d,f));var g=b.getSource(p).beginDrag(h,p);!function(e){r(o.isObject(e),"Item must be an object.")}(g),b.pinSource(p);var m=b.getSourceType(p);return{type:a.BEGIN_DRAG,payload:{itemType:m,item:g,sourceId:p,clientOffset:d||null,sourceClientOffset:f||null,isSourcePublic:!!l}}}e.dispatch(s)}}},bVT4:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.memoize=function(e){var t=null;return function(){return null==t&&(t=e()),t}},t.without=function(e,t){return e.filter((function(e){return e!==t}))},t.union=function(e,t){var n=new Set,i=function(e){return n.add(e)};e.forEach(i),t.forEach(i);var o=[];return n.forEach((function(e){return o.push(e)})),o}},"bY+3":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("2S0S"),o=!1,r=function(){function e(e){this.targetId=null,this.internalMonitor=e.getMonitor()}return e.prototype.receiveHandlerId=function(e){this.targetId=e},e.prototype.getHandlerId=function(){return this.targetId},e.prototype.subscribeToStateChange=function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)},e.prototype.canDrop=function(){if(!this.targetId)return!1;i(!o,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return o=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{o=!1}},e.prototype.isOver=function(e){return!!this.targetId&&this.internalMonitor.isOverTarget(this.targetId,e)},e.prototype.getItemType=function(){return this.internalMonitor.getItemType()},e.prototype.getItem=function(){return this.internalMonitor.getItem()},e.prototype.getDropResult=function(){return this.internalMonitor.getDropResult()},e.prototype.didDrop=function(){return this.internalMonitor.didDrop()},e.prototype.getInitialClientOffset=function(){return this.internalMonitor.getInitialClientOffset()},e.prototype.getInitialSourceClientOffset=function(){return this.internalMonitor.getInitialSourceClientOffset()},e.prototype.getSourceClientOffset=function(){return this.internalMonitor.getSourceClientOffset()},e.prototype.getClientOffset=function(){return this.internalMonitor.getClientOffset()},e.prototype.getDifferenceFromInitialOffset=function(){return this.internalMonitor.getDifferenceFromInitialOffset()},e}();t.default=r},bY5B:function(e,t,n){var i=n("WgLT");function o(){}function r(){}r.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,r,a){if(a!==i){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:r,resetWarningCache:o};return n.PropTypes=n,n}},bxss:function(e,t,n){n.d(t,"a",(function(){return d}));var i=n("/MKj"),o=n("hZxF"),r=n("vZlu");function a({children:e}){const t=Object(i.useDispatch)();return Object(o.a)(()=>(t(Object(r.b)(!1)),()=>{t(Object(r.b)(!0))})),e}var s=n("n6mq"),c=n("nKUr");const l=new s.t(1e3);function d({anchor:e,children:t,color:n,idealDirection:i,onDismiss:o,positionRelativeToAnchor:r,showCaret:d,shouldFocus:u,size:h}){return Object(c.jsx)(a,{children:Object(c.jsx)(s.f,{zIndex:l,children:Object(c.jsx)(s.L,{anchor:e,color:n,idealDirection:i,onDismiss:o,positionRelativeToAnchor:r,showCaret:d,shouldFocus:u,size:h,children:t})})})}},c4Fo:function(e,t,n){var i=n("q1tI"),o=n("clxp"),r=n("zXAL"),a=n("nKUr");function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c=()=>null;class l extends i.Component{constructor(...e){super(...e),s(this,"view",e=>{const{placement_id:t,experience_id:n}=e,{experienceClient:i,targeting:o}=this.props;o?i.viewExperience(t,n,!1,o):i.viewExperience(t,n)}),s(this,"complete",e=>{const{placement_id:t,experience_id:n}=e,{experienceClient:i,preventRemoval:o,targeting:r}=this.props;r?i.completeExperience(t,n,o,!1,{},!1,r):o?i.completeExperience(t,n,o):i.completeExperience(t,n)}),s(this,"dismiss",e=>{const{placement_id:t,experience_id:n}=e,{experienceClient:i,preventRemoval:o,targeting:r}=this.props;r?i.dismissExperience(t,n,o,!1,r):o?i.dismissExperience(t,n,o):i.dismissExperience(t,n)})}componentDidMount(){if(this.props.disableAutoView)return;const e=this.getExperience(this.props);e&&this.shouldRenderExperience(e)&&this.view(e)}componentDidUpdate(e){if(this.props.disableAutoView)return;const t=this.getExperience(e),n=this.getExperience(this.props);n&&this.shouldRenderExperience(n)&&(t&&t.experience_id===n.experience_id||this.view(n))}getExperience(e){return e.experienceClient.experienceForPlacement}shouldRenderExperience(e){if(e){const{type:t,experience_id:n}=e;if(this.props.experienceIds&&this.props.experienceIds.includes(n))return!0;if(!this.props.experienceIds){if(this.props.type&&this.props.type===t)return!0;if(this.props.transitionType&&this.props.transitionType===t)return!0;if(this.props.predicate&&this.props.predicate(e))return!0}}return!1}render(){const{children:e,disableAutoView:t}=this.props,n=this.getExperience(this.props);if(n&&this.shouldRenderExperience(n)&&e){const{placement_id:i,experience_id:r}=n;return Object(a.jsx)(o.a,{name:`Experience(${i}:${r})`,children:"function"==typeof e?e({...n,complete:()=>this.complete(n),dismiss:()=>this.dismiss(n),...t?{view:()=>this.view(n)}:{}}):e})}return Object(a.jsx)(c,{})}}t.a=Object(r.a)(l)},c50B:function(e,t,n){n.d(t,"p",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"m",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"o",(function(){return d})),n.d(t,"i",(function(){return u})),n.d(t,"l",(function(){return h})),n.d(t,"r",(function(){return b})),n.d(t,"n",(function(){return p})),n.d(t,"j",(function(){return f})),n.d(t,"f",(function(){return g})),n.d(t,"g",(function(){return m})),n.d(t,"h",(function(){return j})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return O})),n.d(t,"t",(function(){return y})),n.d(t,"q",(function(){return x})),n.d(t,"k",(function(){return _})),n.d(t,"s",(function(){return w})),n.d(t,"u",(function(){return C}));var i=n("jZDM");const o=e=>{const t={"０":"0","１":"1","２":"2","３":"3","４":"4","５":"5","６":"6","７":"7","８":"8","９":"9","　":" "},n=String(e).split("");return n.forEach((e,i)=>{const o=t[e];o&&(n[i]=o)}),n.join("")};function r(e){return function(t,n){const i=[];t&&/\S/.test(t)||i.push(e.message);const o={errors:i,warnings:[]};return n&&n(o),o}}const a=new RegExp(["(^[-!#$%&'*+/=?^_`{}|~0-9A-Z]+(\\.[-!#$%&'*+/=?^_`{}|~0-9A-Z]+)*",'|^"([\\001-\\010\\013\\014\\016-\\037!#-\\[\\]-\\177]|\\\\[\\001-\\011\\013\\014\\016-\\177])*"',")@((?:[A-Z0-9](?:[A-Z0-9-]{0,61}[A-Z0-9])?\\.)+[A-Z]{2,20}$)","|\\[(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)(\\.(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)){3}\\]$"].join(""),"i");function s(e){return function(t,n){const i=[];(t=t&&t.trim())&&!t.match(a)&&i.push(e.message);const o={errors:i,warnings:[]};return n&&n(o),o}}function c(e){return function(t,n){const i=[];(t=t&&t.trim())&&!t.match(/^[^0-9].*$/)&&i.push(e.message);const o={errors:i,warnings:[]};return n&&n(o),o}}function l(e){return function(t,n){const i=o(t.trim()),r=[];if(i)if(i.length<2&&r.push(e.ageTooShortString),/^\d+$/.test(i)){const t=parseInt(i,10);t<=0||t>=300?r.push(e.invalidAgeString):e.checkUnderAgeWithString&&t<12&&r.push(e.checkUnderAgeWithString)}else r.push(e.invalidAgeString);const a={errors:r,warnings:[]};return n&&n(a),a}}function d(e){return function(t,n){const i=(t=t&&t.trim()).replace(/[\(\)\+\-\. ]/g,""),o=[],r=!1!==e.checkLength&&i.length<7;!t||t.match(/^(\(?\+?[0-9]*\)?)?[0-9_\- \.\(\)]*$/g)&&!r||o.push(e.message);const a={errors:o,warnings:[]};return n&&n(a),a}}function u(e){return function(t,n){const i=/^\d+$/,r=[];"number"==typeof t||"string"==typeof t&&(t=t&&t.trim(),(t=o(t))&&!t.match(i)&&r.push(e.message));const a={errors:r,warnings:[]};return n&&n(a),a}}function h(e){return function(t,n){const i=/^[\d\ -]+$/,r=[];"number"==typeof t||"string"==typeof t&&(t=t&&t.trim(),(t=o(t))&&!t.match(i)&&r.push(e.message));const a={errors:r,warnings:[]};return n&&n(a),a}}function b(e){return function(t,n){const i=[];t&&!t.match(/^(https?:\/\/){0,1}[a-z0-9_\-]+\..+/gi)&&i.push(e.message);const o={errors:i,warnings:[]};return n&&n(o),o}}function p(e){return function(t,n){const o=[];if(t)try{const n=Object(i.a)(t);n&&n.protocol&&("http"!==n.protocol||"localhost"===n.hostname)||o.push(e.message)}catch(a){o.push(e.message)}const r={errors:o,warnings:[]};return n&&n(r),r}}function f(e){return function(t,n){const i=[];(e.should_trim||!1)&&(t=t&&t.trim());const o=t.length;e.min&&o<e.min?i.push(e.minErrorString):e.max&&o>e.max&&i.push(e.maxErrorString);const r={errors:i,warnings:[]};return n&&n(r),r}}function g(e){return function(t,n){const i=[];t!==(e&&e.targetValue)&&i.push(e.message);const o={errors:i,warnings:[]};return n&&n(o),o}}function m(e){return function(t,n){t&&(t=parseFloat(t));const i=[];t<=e.value&&i.push(e.message);const o={errors:i,warnings:[]};return n&&n(o),o}}function j(e){return function(t,n){t&&(t=parseFloat(t));const i=[];t<e.value&&i.push(e.message);const o={errors:i,warnings:[]};return n&&n(o),o}}function v(e){return function(t,n){const i=[];/^[\040-\176]*$/.test(t)||i.push(e.message);const o={errors:i,warnings:[]};return n&&n(o),o}}function O(e){return function(t,n){const i=e.hasFractionalCents?/^\d*(\.\d\d?\d?)?$/:/^\d*(\.\d\d?)?$/,o=[];"number"==typeof t&&(t=t.toString()),t&&!t.match(i)&&(t=t&&t.trim(),o.push(e.message));const r={errors:o,warnings:[]};return n&&n(r),r}}function y(e){return function(t,n){t=t&&t.trim();const i=[],o=new Date(t);t&&!o.getTime()&&i.push(e.message);const r={errors:i,warnings:[]};return n&&n(r),r}}function x(e){return function(t,n){const i=[];(t=t&&t.trim())&&!t.match(/^([01]?[0-9]|2[0-3]):[0-5][0-9]$/)&&i.push(e.message);const o={errors:i,warnings:[]};return n&&n(o),o}}function _(e){return function(t,n){const i=[];e.pattern.test(t)||i.push(e.message);const o={errors:i,warnings:[]};return n&&n(o),o}}function w(e,t){const n=e.map(e=>e(t).errors);return[].concat(...n)}function C(e,t){let n="";return t.some(t=>{const i=t(e);return i.errors.length>0&&(n=i.errors[0],!0)}),n}},clxp:function(e,t,n){var i=n("e7hV");t.a=i.a},"cr+I":function(e,t,n){var i=n("ZFOp"),o=n("MgzW");function r(e,t){return t.encode?t.strict?i(e):encodeURIComponent(e):e}function a(e){return Array.isArray(e)?e.sort():"object"==typeof e?a(Object.keys(e)).sort((function(e,t){return Number(e)-Number(t)})).map((function(t){return e[t]})):e}t.extract=function(e){return e.split("?")[1]||""},t.parse=function(e,t){var n=function(e){var t;switch(e.arrayFormat){case"index":return function(e,n,i){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===i[e]&&(i[e]={}),i[e][t[1]]=n):i[e]=n};case"bracket":return function(e,n,i){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==i[e]?i[e]=[].concat(i[e],n):i[e]=[n]:i[e]=n};default:return function(e,t,n){void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t=o({arrayFormat:"none"},t)),i=Object.create(null);return"string"!=typeof e?i:(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach((function(e){var t=e.replace(/\+/g," ").split("="),o=t.shift(),r=t.length>0?t.join("="):void 0;r=void 0===r?null:decodeURIComponent(r),n(decodeURIComponent(o),r,i)})),Object.keys(i).sort().reduce((function(e,t){var n=i[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=a(n):e[t]=n,e}),Object.create(null))):i},t.stringify=function(e,t){var n=function(e){switch(e.arrayFormat){case"index":return function(t,n,i){return null===n?[r(t,e),"[",i,"]"].join(""):[r(t,e),"[",r(i,e),"]=",r(n,e)].join("")};case"bracket":return function(t,n){return null===n?r(t,e):[r(t,e),"[]=",r(n,e)].join("")};default:return function(t,n){return null===n?r(t,e):[r(t,e),"=",r(n,e)].join("")}}}(t=o({encode:!0,strict:!0,arrayFormat:"none"},t));return e?Object.keys(e).sort().map((function(i){var o=e[i];if(void 0===o)return"";if(null===o)return r(i,t);if(Array.isArray(o)){var a=[];return o.slice().forEach((function(e){void 0!==e&&a.push(n(i,e,a.length))})),a.join("&")}return r(i,t)+"="+r(o,t)})).filter((function(e){return e.length>0})).join("&"):""}},d2Eh:function(e,t,n){t.a={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,F5:116,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}},d7JY:function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("n6mq"),o=n("nKUr");function r({children:e}){return Object(o.jsx)(i.u,{alignItems:"stretch",justifyContent:"center",children:e})}},d90F:function(e,t,n){var i=n("ESls");n.d(t,"a",(function(){return i.a}))},dH2W:function(e,t,n){n.r(t),n.d(t,"default",(function(){return d}));var i=n("q1tI"),o=n("HoRl"),r=n("E8d4"),a=n("yweb"),s=n("pLLR"),c=n("n6mq"),l=n("nKUr");function d({height:e,onCtaDidLoad:t,width:d}){const u=Object(a.c)(),[h,b]=Object(i.useState)(null),{locale:p}=Object(s.d)(),f=Object(o.default)(p);Object(i.useEffect)(()=>{f&&"none"!==f&&(e=>{const t=Object(i.lazy)(()=>n("JBUN")("./"+e));b(t)})(f)},[f]),Object(i.useEffect)(()=>{h&&t()},[h]);const g=u._("Open Pinterest and tap the camera icon for ideas","PincodeCTA.title","Text informing users how to use Pincodes — may be displayed or used as accessibility label for an image"),m=Object(l.jsx)(c.cb,{align:"center",children:g});return"none"===f?m:h?Object(l.jsx)(r.a,{fallback:m,children:Object(l.jsx)(h,{height:e,title:g,width:d})}):Object(l.jsx)(c.U,{accessibilityLabel:u._("Loading Pincode Call to Action","PincodeCTA.loading","Accessibility label for loading spinner for the Pincode call-to-action"),show:!0})}},dJ9d:function(e,t,n){function i(e){return e&&e.$$typeof&&"Symbol(react.forward_ref)"===e.$$typeof.toString()}Object.defineProperty(t,"__esModule",{value:!0}),t.isRefForwardingComponent=i,t.isRefable=function(e){return(t=e)&&t.prototype&&"function"==typeof t.prototype.render||i(e);var t}},dt0z:function(e,t,n){var i=n("zoYe");e.exports=function(e){return null==e?"":i(e)}},dtqy:function(e,t,n){var i=n("q1tI"),o=n("/MKj"),r=n("5S2N"),a=n("ANjH"),s=n("U4JR"),c=n("Sp3T"),l=n("nKUr");t.a=Object(a.compose)(Object(o.connect)(({pins:e},{pinId:t,carouselSlotCurrentIndex:n})=>{const{carousel_data:i}=e&&t&&e[t]||{},{index:o}=i||{};return void 0!==n?{carouselSlotCurrentIndex:o||n||0}:{}}),(function(e){return function(t){const[n,o]=Object(i.useState)(!1),a=Object(c.a)({shouldStopEventPropagation:!1}),{pinId:d,onDelete:u,onSubmit:h,carouselSlotCurrentIndex:b}=t;return Object(l.jsxs)(i.Fragment,{children:[Object(l.jsx)(e,{...t,handlePinEditButtonClick:a(e=>{e&&e.stopPropagation();const{component:n,onToggleModal:i}=t;i&&i(!0),Object(s.b)(101,{element:3,...n?{component:n}:{}}),o(!0)})}),n&&Object(l.jsx)(r.a,{carouselSlotCurrentIndex:b,onDelete:u,onHide:()=>{o(!1),t.onToggleModal&&t.onToggleModal(!1)},onSubmit:h,pinId:d})]})}}))},"e/jn":function(e,t,n){function i(e,t){if(!t)return e;const n=new RegExp(/http(s?):/);if(!n.test(e)){const i=n.exec(t);if(i&&i.length){e=i[0]+e}}return e}n.d(t,"a",(function(){return i}))},e0nq:function(e,t,n){function i(e){return{type:"PIN_BETTER_SAVE",payload:e}}function o(e){return{type:"PIN_BETTER_UNSAVE",payload:e}}function r(e){return{type:"PIN_BETTER_SELECT_BOARD_OR_SECTION",payload:e}}function a(e){return{type:"POST_REPIN_MORE_IDEAS_UPSELL_SHOWN",payload:{boardId:e}}}n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a}))},e7hV:function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("q1tI"),o=n("7w6Q"),r=n("3h4M");function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class s extends i.Component{constructor(...e){super(...e),a(this,"state",{error:null,info:null}),a(this,"resetError",()=>{this.setState({error:null,info:null})})}componentDidCatch(e,t){try{const t=this.props.name,n=this.props.type||"secondary";Object(r.b)({errorBoundary:t,errorBoundaryType:n,message:e.message,name:e.name,stack:e.stack}),o.a.increment("react.error_boundary",.1,{component:void 0,name:this.props.name})}catch(n){o.a.increment("react.error_boundary.error",1,{name:this.props.name})}this.setState({error:e,info:t})}render(){const{renderErrorState:e}=this.props,{error:t,info:n}=this.state;return t&&n?e?e({error:t,info:n,resetError:this.resetError}):null:this.props.children}}},eBDd:function(e,t,n){var i=n("yaUg"),o=n("NBXZ");t.a=(e,t)=>{const n={};return Object.keys(t).forEach(e=>{n[e]=t[e]?Object(o.a)(t[e].toString()):""}),Object(i.a)(e,n)}},eIuQ:function(e,t,n){function i(e,t){return e?t._("Title too long. Make sure all cards' titles have less than 100 characters","Title entered is too long while editing a carousel pin and/or one of its pins","Title entered is too long while editing a carousel pin and/or one of its pins"):t._("Title too long. Make sure title has less than 100 characters","Title entered is too long while editing a pin","Title entered is too long while editing a pin")}function o(e,t){return e?t._("Description too long. Make sure all cards' descriptions have less than 500 characters","Description entered is too long while editing a carousel pin and/or one of its pins","Description entered is too long while editing a carousel pin and/or one of its pins"):t._("Description too long. Make sure description has less than 500 characters","Description entered is too long while editing a pin","Description entered is too long while editing a pin")}function r(e,t){return t._("Too many mentions. Make sure you have at most 5.","editPinModal.errorMessages.userMentionOverLimit","Too many mentions used in the description")}function a(e,t){return e?t._("Need to provide a valid URL. Make sure all cards' links are valid","Invalid URL/link provided while editing a carousel pin and/or one of its pins","Invalid URL/link provided while editing a carousel pin and/or one of its pins"):t._("Need to provide a valid URL. Make sure the link is valid","Invalid URL/link provided while editing a pin","Invalid URL/link provided while editing a pin")}n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return a}))},eUgh:function(e,t){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length,o=Array(i);++n<i;)o[n]=t(e[n],n,e);return o}},egIj:function(e,t,n){n.d(t,"a",(function(){return c}));var i=n("q1tI"),o=n("TNox"),r=n("yweb"),a=n("n6mq"),s=n("nKUr");function c({children:e,dataTestId:t,icon:n,onClick:c,url:l}){const d=Object(r.c)(),[u,h]=Object(i.useState)(!1);let b;"selected"===n?b=Object(s.jsx)(a.w,{accessibilityLabel:d._("Selected option","flyoutMenu.selectedOptionCheckmark","Accessibility label for checkmark icon indicating which option is currently selected"),color:"darkGray",icon:"check",inline:!0}):"externalLink"===n&&(b=Object(s.jsx)(a.w,{accessibilityLabel:d._("External link","header.accountsOptionsMenu.externalLinkIcon","Accessibility label for icon indicating a menu item opens an external link"),color:"darkGray",icon:"arrow-up-right",inline:!0,size:12}));const p="string"==typeof e?Object(s.jsx)(a.f,{maxWidth:b?230:void 0,children:Object(s.jsx)(a.cb,{weight:"bold",children:e})}):e,f=l?o.a:a.bb;return Object(s.jsx)(a.f,{dangerouslySetInlineStyle:{__style:{backgroundColor:u?"rgba(0, 0, 0, 0.06)":void 0}},"data-test-id":t,role:"listitem",rounding:2,children:Object(s.jsx)(f,{href:l,onBlur:()=>h(!1),onFocus:()=>h(!0),onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),onTap:c,target:"externalLink"===n?"blank":null,children:Object(s.jsxs)(a.f,{alignItems:"center",display:"flex",justifyContent:"between",minHeight:35,paddingX:2,rounding:2,children:[p,b&&Object(s.jsx)(a.f,{flex:"none",marginStart:"auto",children:b})]})})})}},eiom:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.isDisposed=!1,this.disposables=e}return e.prototype.add=function(e){this.isDisposed?e.dispose():this.disposables.push(e)},e.prototype.remove=function(e){var t=!1;if(!this.isDisposed){var n=this.disposables.indexOf(e);-1!==n&&(t=!0,this.disposables.splice(n,1),e.dispose())}return t},e.prototype.clear=function(){if(!this.isDisposed){for(var e=this.disposables.length,t=new Array(e),n=0;n<e;n++)t[n]=this.disposables[n];this.disposables=[];for(n=0;n<e;n++)t[n].dispose()}},e.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;for(var e=this.disposables.length,t=new Array(e),n=0;n<e;n++)t[n]=this.disposables[n];this.disposables=[];for(n=0;n<e;n++)t[n].dispose()}},e}();t.CompositeDisposable=i},fNcP:function(e,t,n){n.d(t,"a",(function(){return Ze}));var i=n("/MKj"),o=n("0rqM"),r=n("M1Uz"),a=n("yweb"),s=n("vvax"),c=n("n6mq"),l=n("nGHF"),d=n("oN2T"),u=n("nKUr");function h({shouldArchive:e,board:t,onClose:n,onConfirm:h}){const b=Object(a.c)(),p=Object(i.useDispatch)(),{showOneToast:f}=Object(l.b)();return Object(u.jsx)(o.a,{confirmButtonLabel:e?b._("Archive","BoardPage.ModalContents.BoardModalManager","button label on confirming board archive"):b._("Unarchive","BoardUnarchiveConfirmation.BoardEditConfirmation.buttonLabel","button label on confirming board unarchive"),heading:e?b._("Archive this board?","BoardPage.ModalContents.BoardModalManager","modal heading for board archive confirmation"):b._("Unarchive this board?","BoardUnarchiveConfirmation.BoardEditConfirmation.heading","modal heading for board unarchive confirmation"),message:Object(s.b)(e?b._("If you archive {{ boardName }}, you won’t be able to save Pins to it. We’ll hide it from your profile and stop using it for recommendations. (Don’t worry: You can unarchive your board to undo this!)","BoardPage.ModalContents.BoardModalManager","Confirmation message when archiving a board"):b._("If you unarchive {{ boardName }}, it will show up on your profile and you’ll be able to save new Pins to it.","BoardUnarchiveConfirmation.BoardEditConfirmation.message","Confirmation message when unarchiving a board"),{boardName:Object(u.jsx)(c.cb,{inline:!0,weight:"bold",children:t.name},t.name)}),onCancel:n,onConfirm:()=>{p(e?Object(d.a)(t.id):Object(d.k)(t.id)),h(),n(),f(({onHide:n})=>{var i;return Object(u.jsx)(r.a,{imageUrl:null!==(i=t.image_cover_url)&&void 0!==i?i:"",onHide:n,text:e?Object(s.b)(b._("Archived {{ boardName }}","board.BoardPage.ModalContents.BoardArchiveConfirmation","Toast text on complete archiving board"),{boardName:t.name}).join(""):Object(s.b)(b._("Unarchived {{ boardName }}","BoardUnarchiveConfirmation.handleConfirmUnarchive.message","Toast text on completing unarchiving board"),{boardName:t.name}).join("")})})}})}var b=n("OQKm"),p=n("qdVQ"),f=n("q1tI"),g=n("TgLd"),m=n("/MAO");function j({fetchMore:e,followers:t,followersCount:n,isFetching:i,onDismiss:o}){const r=Object(a.c)();return Object(u.jsx)(g.b,{accessibilityModalLabel:r._("Board Followers","boardFollowersList.modal.accessibilityLabelForModal","Accessibility label for modal"),heading:Object(u.jsx)(c.f,{display:"flex",justifyContent:"center",padding:8,children:Object(u.jsx)(c.v,{size:"md",accessibilityLevel:1,children:Object(s.b)(r.ngettext("{{ followersCount }} Follower","{{ followersCount }} Followers",n,"Label for the number of people following a board","Label for the number of people following a board"),{followersCount:n.toLocaleString()})})}),onDismiss:o,size:"sm",children:Object(u.jsx)(c.f,{maxHeight:600,paddingX:6,overflow:"auto",children:t&&t.length>0?Object(u.jsxs)(f.Fragment,{children:[t.map(e=>Object(u.jsx)(m.a,{showFollow:!0,showName:!0,size:"medium",subtitle:"",user:e},e.id)),n-t.length>0?Object(u.jsx)(c.f,{display:"flex",justifyContent:"center",padding:5,marginBottom:2,children:Object(u.jsx)(c.g,{disabled:i,onClick:e,size:"lg",text:r._("See more","BoardFollowerList.SeeMore","Button to load more items in the board follower list")})}):null]}):Object(u.jsx)(c.f,{marginBottom:8,children:Object(u.jsx)(c.U,{accessibilityLabel:r._("Loading board followers","BoardModalManager.Spinner","Spinner which shows when loading board followers"),show:!0})})})})}var v=n("JW66"),O=n("w70y");function y({boardId:e,followersCount:t,onDismiss:n}){const{data:i=[],fetchMore:o,isFetching:r}=Object(O.a)({name:"BoardFollowersResource",options:{board_id:e,page_size:v.a.MAX_FETCH_NUM_FOLLOWERS_PER_PAGE}});return Object(u.jsx)(j,{fetchMore:o,followers:i,followersCount:t,isFetching:r,onDismiss:n})}var x=n("s7xj"),_=n("oRao");var w=({handleClick:e,selectedBoard:t,sourceBoard:n,targetBoardCandidates:i})=>{const o=Object(a.c)(),r=Object(u.jsx)(c.cb,{weight:"bold",inline:!0,children:null==n?void 0:n.name}),l=Object(u.jsx)(c.cb,{weight:"bold",inline:!0,children:null==n?void 0:n.pin_count});return 0===i.length?Object(u.jsx)(c.cb,{children:o._("There is no board to merge this board into.","BoardMergeModal.NoBoards.Text","helper text for selecting merge target board")}):n?Object(u.jsxs)(c.f,{maxWidth:540,maxHeight:532,marginStart:4,marginEnd:4,children:[Object(u.jsx)(c.cb,{size:"lg",align:"center",children:Object(s.b)(o._("Your board {{ sourceBoardName }} and all {{ sourceBoardPinCount }} pins will be gone for good. You won’t be able to get them back.","BoardMergeModal.Merge.Text","helper text for merging board"),{sourceBoardName:r,sourceBoardPinCount:l})}),Object(u.jsx)(c.f,{marginTop:4,marginStart:2,children:Object(u.jsx)(c.cb,{size:"sm",children:o._("All boards","MergeModal.AllBoards.Text","all boards section title")})}),i.map(n=>{var i,r;return Object(u.jsx)(c.bb,{onTap:()=>e(n),children:Object(u.jsxs)(c.f,{color:(null==t?void 0:t.id)===n.id?"lightGray":"transparent",display:"flex",justifyContent:"between",alignItems:"center",height:64,padding:2,rounding:2,children:[Object(u.jsxs)(c.u,{alignItems:"stretch",justifyContent:"start",flex:"grow",children:[Object(u.jsx)(c.D,{height:48,width:48,rounding:2,children:Object(u.jsx)(c.y,{fit:"cover",src:n.image_cover_url||"",color:"steelblue",naturalHeight:48,naturalWidth:48,alt:o._("Board Cover Image","MergeModal.Board.CoverImage","board cover image")})}),Object(u.jsxs)(c.f,{display:"flex",direction:"column",justifyContent:"center",marginStart:2,children:[Object(u.jsx)(c.f,{marginBottom:1,children:Object(u.jsx)(c.cb,{size:"lg",weight:"bold",children:n.name})}),Object(u.jsx)(c.cb,{size:"sm",children:Object(s.b)(o.ngettext("{{ count }} Pin","{{ count }} Pins",null!==(i=n.pin_count)&&void 0!==i?i:0,"boardEdit.boardMergeModalBody.pinCount","label for n amount of pins"),{count:Object(u.jsx)(_.a,{value:null!==(r=n.pin_count)&&void 0!==r?r:0})})})]})]}),Object(u.jsxs)(c.u,{alignItems:"center",direction:"row",justifyContent:"start",children:["secret"===n.privacy&&Object(u.jsx)(c.f,{marginEnd:3,children:Object(u.jsx)(c.w,{icon:"lock",color:"darkGray",accessibilityLabel:o._("Private board icon","MergeModal.Board.Private.Icon","private board accesibility label")})}),n.is_collaborative&&Object(u.jsx)(c.f,{marginEnd:3,children:Object(u.jsx)(x.a,{isCompact:!0,board:n})}),!!n.section_count&&Object(u.jsx)(c.w,{icon:"arrow-forward",color:"darkGray",accessibilityLabel:o._("Board section icon","MergeModal.Board.Section.Icon","board secetion accesibility label")})]})]})},n.id)})]}):null};function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class S extends f.Component{constructor(...e){super(...e),C(this,"state",{selectedTargetBoard:null}),C(this,"handleChange",e=>{this.setState({selectedTargetBoard:e})}),C(this,"handleSubmit",()=>{const{onSubmit:e}=this.props,{selectedTargetBoard:t}=this.state;t&&e(t)}),C(this,"renderModalBody",()=>{const{boardsResource:e,sourceBoardId:t}=this.props,{selectedTargetBoard:n}=this.state,{data:i}=e;if(!i)return Object(u.jsx)(c.U,{accessibilityLabel:this.props.i18n._("Loading board list","spinner accessibility label","spinner accessibility label"),show:!0});const o=i.find(e=>e.id===t),r=i.filter(e=>e.id!==t);return Object(u.jsx)(w,{handleClick:this.handleChange,selectedBoard:n,sourceBoard:o,targetBoardCandidates:r})})}render(){const{onCancel:e}=this.props,{selectedTargetBoard:t}=this.state,n=Object(u.jsxs)(c.f,{display:"flex",justifyContent:"between",alignItems:"center",padding:6,children:[Object(u.jsx)(c.f,{}),Object(u.jsx)(c.v,{size:"md",children:this.props.i18n._("Combine boards","BoardMergeModal.CombineBoards","title for board merging modal")}),Object(u.jsx)(c.bb,{fullWidth:!1,onTap:e,accessibilityLabel:this.props.i18n._("Close merge boards modal","BoardMergeModal.Close.TapArea","close icon for board merging modal"),children:Object(u.jsx)(c.w,{icon:"cancel",color:"darkGray",size:18,accessibilityLabel:this.props.i18n._("Close merge boards modal","BoardMergeModal.Close.Label","close icon for board merging modal")})})]});return Object(u.jsx)(g.b,{accessibilityModalLabel:this.props.i18n._("Move Pins to","BoardEdit.BoardMergeModal.accessibilityLabel","accessibility label for board merging modal"),heading:n,onDismiss:e,footer:Object(u.jsx)(c.u,{alignItems:"stretch",justifyContent:"end",children:Object(u.jsx)(c.g,{color:"red",disabled:!t,onClick:this.handleSubmit,size:"lg",text:this.props.i18n._("Done","BoardMergeModal.Button.Submit","button for merging a board")})}),children:Object(u.jsx)(c.f,{padding:8,children:this.renderModalBody()})})}}function I(e){const t=Object(a.c)(),n=Object(O.a)({name:"BoardsResource",options:{privacy_filter:"all",sort:"alphabetical",field_set_key:"detailed",username:"me"},noCache:!0});return Object(u.jsx)(S,{...e,boardsResource:n,i18n:t})}var E=n("fhMV");const T="236x",P="474x",D="736x",B=e=>t=>t.replace(/pinimg\.com\/\d+x\d*\//,`pinimg.com/${e}/`),M=e=>[T,P,D].map((t,n)=>`${B(t)(e)} ${n+1}x`).join(", ");function k({boardId:e,customizable:t}){const n=Object(O.a)({name:"BoardFeedResource",options:{board_id:e,field_set_key:"images_only_item",filter_section_pins:!1,page_size:t?60:4}}),i=!n.isLoaded,o=(n.data||[]).filter(({type:e})=>"pin"===e).map(({images:e})=>e["236x"]);return Object(u.jsx)(E.a,{getDownloadImageURL:B("1200x"),getMainImageURL:B(P),getThumbnailImageSrcSet:M,id:e,images:o,isLoadingImages:i,customizable:t})}function R({onCompleteBulkDelete:e,onClearModal:t,pinCountToDelete:n}){const i=Object(a.c)(),o=1===n?i._("Delete this Pin"):i._("Delete these Pins"),r=1===n?i._("Are you sure you want to permanently delete this Pin?"):i._("Are you sure you want to permanently delete these Pins?");return Object(u.jsx)(g.b,{accessibilityModalLabel:i._("delete Pins","accessibility label for bulk delete modal","accessibility label for bulk delete modal"),footer:Object(u.jsxs)(c.f,{children:[Object(u.jsx)(c.f,{marginBottom:2,children:Object(u.jsx)(c.g,{fullWidth:!0,text:i._("Cancel"),onClick:t})}),Object(u.jsx)(c.g,{fullWidth:!0,text:i._("Delete"),color:"red",onClick:()=>{e(),t()}})]}),heading:o,onDismiss:t,children:Object(u.jsx)(c.f,{paddingX:8,children:Object(u.jsx)(c.cb,{children:r})})})}var A=n("V711");function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class N extends f.Component{constructor(...e){super(...e),L(this,"state",{chosenBoardId:null}),L(this,"handleChosenBoardChange",e=>{this.setState({chosenBoardId:e.id})}),L(this,"handleConfirm",()=>{const{onCopyToBoard:e,onClearModal:t}=this.props,{chosenBoardId:n}=this.state;n&&(e(n),t())})}render(){const{onClearModal:e,pinCountToCopy:t}=this.props,{chosenBoardId:n}=this.state,i=1===t?this.props.i18n._("Pick another board for this Pin"):this.props.i18n._("Pick another board for these Pins");return Object(u.jsx)(g.b,{accessibilityModalLabel:this.props.i18n._("Copy your pins to a different board","BoardPage.ModalContents.BulkEditBoardPicker.accessibilityModalLabel","Accessiblilty modal label"),heading:i,onDismiss:e,footer:Object(u.jsxs)(c.f,{display:"flex",marginStart:-1,marginEnd:-1,justifyContent:"end",children:[Object(u.jsx)(c.f,{paddingX:1,children:Object(u.jsx)(c.g,{fullWidth:!0,onClick:e,text:this.props.i18n._("Cancel")})}),Object(u.jsx)(c.f,{paddingX:1,children:Object(u.jsx)(c.g,{fullWidth:!0,disabled:!n,onClick:this.handleConfirm,text:this.props.i18n._("Copy"),color:"red"})})]}),children:Object(u.jsx)(c.f,{padding:8,minHeight:400,children:Object(u.jsx)(A.a,{onBoardChosen:this.handleChosenBoardChange})})})}}function U(e){const t=Object(a.c)();return Object(u.jsx)(N,{...e,i18n:t})}n("Xnm/");var F=n("y9Ij"),H=n("4+TC"),z=n("yjg8");function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const G=()=>{},W={__style:{zIndex:1}};class V extends f.PureComponent{constructor(...e){super(...e),q(this,"state",{isHovered:!1}),q(this,"hover",()=>this.setState({isHovered:!0})),q(this,"unhover",()=>this.setState({isHovered:!1})),q(this,"handlePinClick",({event:e})=>{const{save:t,unsave:n,saved:i}=this.props;e.preventDefault(),e.stopPropagation(),i?n():t()})}render(){const{children:e,boardName:t,saved:n}=this.props,{isHovered:i}=this.state;return Object(u.jsxs)(c.f,{position:"relative",children:[Object(u.jsx)(c.f,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:Object(u.jsx)(c.bb,{accessibilityLabel:this.props.i18n._("Save this Pin","jumpstartBoardPinWrapper.tapArea.accessibilityLabel","Accessibility label describing purpose of tap area"),fullHeight:!0,fullWidth:!0,onMouseEnter:this.hover,onMouseLeave:this.unhover,onTap:this.handlePinClick,children:(i||n)&&Object(u.jsx)(c.f,{position:"absolute",top:!0,paddingX:4,paddingY:4,width:z.f,dangerouslySetInlineStyle:W,children:n?Object(u.jsxs)(c.u,{alignItems:"center",justifyContent:"center",children:[Object(u.jsx)(c.f,{flex:"grow",children:Object(u.jsx)(H.a,{isNewlySaved:!0,url:null,name:t})}),Object(u.jsx)("div",{className:"jumpstart-undo-icon",children:Object(u.jsx)(c.x,{accessibilityLabel:this.props.i18n._("Undo","Undo saving a pin to a board","Undo saving a pin to a board"),bgColor:"transparentDarkGray",icon:"refresh",iconColor:"white",onClick:G})})]}):Object(u.jsx)(c.u,{alignItems:"stretch",justifyContent:"end",children:Object(u.jsx)(c.f,{children:Object(u.jsx)(F.b,{onClick:G,saved:n,variant:"lego"})})})})})}),Object(u.jsx)(c.f,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},children:e})]})}}function K(e){const t=Object(a.c)();return Object(u.jsx)(V,{...e,i18n:t})}var Y=n("5Ai/"),X=n("82UD"),Q=n("U4JR");function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class $ extends f.PureComponent{constructor(...e){super(...e),Z(this,"scollRef",Object(f.createRef)()),Z(this,"clickLogging",e=>{const{board:t}=this.props;Object(Q.b)(101,{component:13380,element:10599,reason:e,board_id:t.id})}),Z(this,"handleSave",()=>{this.clickLogging("save")}),Z(this,"handleDelete",()=>{this.clickLogging("delete")}),Z(this,"renderPin",({data:e,itemIdx:t})=>{const{board:n}=this.props;return Object(u.jsx)(Y.a,{pin:e,target:{board:n},onSave:this.handleSave,onDelete:this.handleDelete,eventContext:{viewType:5,viewParameter:3173,element:10599},children:({save:i,unsave:o,saved:r})=>{var a;return Object(u.jsx)(K,{save:i,unsave:o,saved:r,boardName:null!==(a=n.name)&&void 0!==a?a:"",children:Object(u.jsx)(X.default,{attributionOption:"hide",blockClickEvents:!0,pin:e,pinId:e.id,pinImageCrop:"none",saveButtonOptions:{type:"none"},surface:"JumpstartBoard",trackingParameters:{slotIndex:t,viewParameter:3173,viewType:5}})})}})})}render(){const{resource:e}=this.props;return Object(u.jsxs)(c.f,{maxHeight:600,maxWidth:te,overflow:"auto",ref:this.scollRef,padding:4,children:[e.isLoaded&&e.data&&Object(u.jsx)(c.E,{comp:this.renderPin,columnWidth:z.f,gutterWidth:24,items:e.data,scrollContainer:()=>this.scollRef.current,loadItems:e.fetchMore}),Object(u.jsx)(c.U,{accessibilityLabel:this.props.i18n._("Loading pins","Loading indicator","Loading indicator"),show:e.isFetching})]})}}function J({board:e}){const t=Object(a.c)(),n=Object(O.a)({name:"BoardContentRecommendationResource",options:{type:"board",id:e.id,__track__referrer:21}});return Object(u.jsx)($,{board:e,resource:n,i18n:t})}var ee=n("EC67");const te=1112;function ne({board:e,onDismiss:t}){const n=Object(a.c)(),i=Object(ee.h)(),o=Object(ee.i)(),r=()=>{const e={...o&&o.state||{}};e.newBoard&&(delete e.newBoard,i.replace({...o,state:e})),t()};return Object(u.jsx)(g.b,{accessibilityModalLabel:n._("add pins to empty board modal","accessibility label for modal","accessibility label for modal"),allowScroll:!0,heading:n._("Save some Pins to your new board","jumpstartBoardModal.heading","heading for modal to add Pins to an empty board"),onDismiss:r,size:te,footer:Object(u.jsx)(c.u,{alignItems:"stretch",justifyContent:"end",children:Object(u.jsx)(c.g,{color:"red",onClick:r,text:n._("Done","done adding pins to empty board","done adding pins to empty board"),accessibilityLabel:n._("Done","done adding pins to empty board","done adding pins to empty board")})}),children:Object(u.jsx)(J,{board:e})})}var ie=n("9WJf"),oe=n("6A0I"),re=n("VqlB"),ae=n("qyR9"),se=n("0BOE");function ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class le extends f.Component{constructor(...e){super(...e),ce(this,"getSections",e=>{var t,n,i;const{board:o,canMoveToOtherBoards:r}=this.props,a=null!==(t=null===(n=this.props.boardsResource.data)||void 0===n?void 0:n.all_boards)&&void 0!==t?t:[],s=null!==(i=this.props.sectionsResource.data)&&void 0!==i?i:[],c=a.filter(e=>e.id!==o.id);return e.length>=2?[s.length?{items:Object(se.a)([o],e),customProps:{inSectionSelection:!0,isDisabled:this.isDisabled}}:{items:[]},{items:Object(se.a)(s,e,"title"),customProps:{inSectionSelection:!0,isDisabled:this.isDisabled}},r?{items:Object(se.a)(c,e)}:{items:[]}]:[s.length?{title:this.props.i18n._("Current board","title in move pins flow","title in move pins flow"),items:[o,...s],customProps:{inSectionSelection:!0,isDisabled:this.isDisabled}}:{items:[]},r?{title:this.props.i18n._("Other boards","heading text for a list of a user's other boards in the move pins flow","heading text for a list of a user's other boards in the move pins flow"),items:c}:{items:[]}]}),ce(this,"isDisabled",e=>e.id===this.props.selectedRowId)}render(){const{board:e,boardsResource:{error:t,isLoaded:n},boardSavedTo:i,onRowSelected:o,onSectionCreate:r,pinId:a,sectionsResource:{error:s,isLoaded:c},selectedRowId:l}=this.props;return Object(u.jsx)(ae.a,{boardSavedTo:i,createButtonLabel:this.props.i18n._("Add section","Button for creating a board section","Button for creating a board section"),disabledRowId:l,hasLoadError:!!t||!!s,isLoaded:n&&c,getSections:this.getSections,onCreate:r,onSelected:o,pinId:a},e.id)}}function de(e){const t=Object(a.c)(),n=Object(O.a)({name:"BoardSectionsRepinResource",options:{board_id:e.board.id}}),i=Object(O.a)({name:"BoardPickerBoardsResource",options:{field_set_key:"board_picker",onlyFetchBoards:!0}});return Object(u.jsx)(le,{...e,boardsResource:i,i18n:t,sectionsResource:n})}function ue({board:e,boardSavedTo:t,onMove:n,onSectionedBoardSelect:i,onSectionCreate:o,selectedRowId:r,showOtherBoards:s}){const l=Object(a.c)(),d=s&&!e.section_count?l._("Choose board"):l._("Choose section","Repin title for choosing a board section","Repin title for choosing a board section");return Object(u.jsxs)(c.f,{display:"flex",direction:"column",color:"white",flex:"grow",top:!0,bottom:!0,right:!0,position:"absolute",rounding:2,width:330,dangerouslySetInlineStyle:{__style:{borderLeft:"1px solid #f5f5f5"}},children:[Object(u.jsx)(c.f,{paddingY:3,paddingX:3,children:Object(u.jsx)(c.v,{size:"sm",children:d})}),Object(u.jsx)(de,{board:e,boardSavedTo:t,canMoveToOtherBoards:s,onRowSelected:t=>{if("board_section"===t.type){n(e,t)}else if("board"===t.type){const o=t;o&&o.id!==e.id&&(o.section_count||0)>0?i(o):n(o,null)}},onSectionCreate:o,selectedRowId:r})]})}var he=n("8BbR"),be=n("WjpJ"),pe=n.n(be);function fe({previewPin:e,extraPinCount:t,showFullImage:n}){if(!e)return Object(u.jsx)(he.a,{height:214,pin:null,rounded:!0,width:142});const{description:i,images:o={},dominant_color:r}=e,a=o["474x"],s=Math.min(217*a.height/a.width,450),c=n?s:214,l=n?217:142;return Object(u.jsx)(he.a,{additionalPinCount:t,height:c,pin:{description:i,dominantColor:r,imageUrl:a.url},rounded:!0,width:l})}function ge({pins:e}){const t=e.length>0&&e.length<=2?e.length:4,n=pe()(0,t).map(n=>Object(u.jsx)(c.f,{dangerouslySetInlineStyle:{__style:{padding:3,display:"inline-block"}},children:Object(u.jsx)(fe,{previewPin:e[n],extraPinCount:3===n?Math.max(e.length-t,0):0,showFullImage:1===e.length})},n));return Object(u.jsx)(c.f,{alignItems:"center",display:0===e.length||e.length>2?"inlineBlock":"flex",height:440,justifyContent:"center",width:296,children:n})}var me=n("xkL+"),je=n("6SCp"),ve=n("Wer7"),Oe=n("B6Tf");function ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class xe extends f.Component{constructor(e){var t;super(e),ye(this,"showSuccessToast",()=>{const{movedBoard:e,movedSection:t}=this.state,{board:n,inSelectAll:i,toastManagerContext:o}=this.props;if(i)o.showOneToast(({onHide:e})=>Object(u.jsx)(r.a,{duration:Oe.a,onHide:e,text:this.props.i18n._("Got it! Hang tight while we move all those Pins...","Toast message for bulk pins move.","Toast message for bulk pins move.")}));else if(e){var a;const i=t?Object(s.b)(this.props.i18n._("Moved to {{sectionName}} in {{boardName}}","Toast for successfully moving pins to a section within a board","Toast for successfully moving pins to a section within a board"),{sectionName:t.title,boardName:e.name}).join(""):Object(s.b)(this.props.i18n._("Moved to {{boardName}}","Toast for successfully moving pins to a different board","Toast for successfully moving pins to a different board"),{boardName:e.name}).join(""),c=t?`${null!==(a=e.url)&&void 0!==a?a:""}${t.slug}`:e.url;o.showOneToast(({onHide:e})=>{var t;return Object(u.jsx)(r.a,{duration:Oe.a,href:c,imageUrl:null!==(t=n.image_cover_url)&&void 0!==t?t:"",onHide:e,text:i})})}}),ye(this,"handleMove",(e,t)=>{const{board:n,boardSection:i,dispatch:o,inSelectAll:r,onCompleteMove:a,selectedPinIds:s}=this.props,c={boardId:n.id,sectionId:i&&i.id||null},l={boardId:e.id,sectionId:t&&t.id||null};if(c.boardId===l.boardId&&c.sectionId===l.sectionId)return;const d=l.sectionId||l.boardId;this._setBoardSavedTo(d,Oe.b.LOADING),o(Object(re.a)({inverseSelection:r,selectedPinIds:s,source:c,target:l},this.props.i18n)).then(()=>{this._setBoardSavedTo(d,Oe.b.SUCCESS),this.setState({movedBoard:e,movedSection:t}),a()})}),ye(this,"handleSectionedBoardSelect",e=>{this.setState({initialBoardName:"",selectedBoard:e})}),ye(this,"handleSectionCreateComplete",e=>{const{onCompleteMove:t,toastManagerContext:n}=this.props;t();const i=Object(s.b)(this.props.i18n._("Moved to {{sectionName}} in {{boardName}}","moveSectionModal.handleSectionCreate.toast","Toast for successfully moving pins to a section within a board"),{sectionName:e.title,boardName:e.board.name});n.showOneToast(({onHide:t})=>{var n;return Object(u.jsx)(r.a,{duration:Oe.a,href:`${null!==(n=e.board.url)&&void 0!==n?n:""}${e.slug}`,imageUrl:" ",onHide:t,text:i.join("")})})}),ye(this,"handleShowCreate",e=>{this.setState({initialBoardName:e,showCreate:!0})}),ye(this,"handleHideCreate",()=>{const{onClearModal:e,sectionCount:t}=this.props;0===t?e():this.setState({initialBoardName:"",showCreate:!1})});const{board:n,viewer:i,showCreateOnly:o}=e;this.state={boardSavedTo:null,initialBoardName:"",movedBoard:null,movedSection:null,selectedBoard:e.board,showCreate:o||(null===(t=n.owner)||void 0===t?void 0:t.id)!==i.id&&0===n.section_count}}componentWillUnmount(){const{dispatch:e,viewer:t}=this.props,{movedBoard:n,movedSection:i}=this.state;n&&(!i&&t.isAuth&&e(Object(ve.f)("BoardFeedResource",Object(je.a)(n,t))),this.showSuccessToast())}_setBoardSavedTo(e,t){this.setState({boardSavedTo:{board:e,state:t}})}render(){const{board:e,boardSection:t,inSelectAll:n,onClearModal:i,selectedPinIds:o,selectedPins:r,shouldShowOtherBoards:a}=this.props,{boardSavedTo:s,initialBoardName:l,selectedBoard:d,showCreate:h}=this.state,b=n?330:660;return Object(u.jsx)(g.b,{accessibilityModalLabel:this.props.i18n._("Choose the section or board you want to move pins to","moveSectionModal.modal.accessibilityLabelForModal","Accessibility label for modal"),onDismiss:i,size:b,children:Object(u.jsxs)(c.f,{color:"white",display:"flex",height:540,rounding:2,width:b,children:[!n&&Object(u.jsx)(c.f,{dangerouslySetInlineStyle:{__style:{marginTop:60}},marginBottom:6,paddingX:2,children:Object(u.jsx)(ge,{pins:r})}),h?Object(u.jsx)(oe.a,{board:d,completeCreateSectionAction:this.handleSectionCreateComplete,initialName:l,onClearModal:this.handleHideCreate,pinImport:{all:n,pinIds:o},showTitle:!0}):Object(u.jsx)(ue,{board:d,boardSavedTo:s,onMove:this.handleMove,onSectionCreate:this.handleShowCreate,onSectionedBoardSelect:this.handleSectionedBoardSelect,selectedRowId:t&&t.id||e&&e.id,showOtherBoards:a})]})})}}function _e(e){const t=Object(a.c)(),n=Object(i.useDispatch)(),o=Object(me.b)(),r=o.isAuth?o.id:"",s=Object(i.useSelector)(({pins:t})=>e.selectedPinIds.reduce((e,n)=>{const i=t[n];return i?e.concat([i]):e},[])),c=Object(i.useSelector)(({pins:t})=>Object(ie.a)({action:2,board:e.board})||!e.selectedPinIds.some(e=>{const n=t[e];return n&&n.pinner&&n.pinner.id&&n.pinner.id!==r})),d=Object(i.useSelector)(({boards:t})=>{var n;return null!==(n=(t.content[e.board.id]||{}).section_count)&&void 0!==n?n:0});return Object(u.jsx)(xe,{...e,dispatch:n,sectionCount:d,selectedPins:s,shouldShowOtherBoards:c,toastManagerContext:Object(l.b)(),viewer:o,i18n:t})}var we=n("A6Hx"),Ce=n("t9Ac"),Se=n("Pv/+"),Ie=n("zpPL");function Ee(e){const{viewer:t}=Ie.a.instance&&Ie.a.instance.getState()||{};return(null==t?void 0:t.isAuth)&&(e||{}).id===t.id}var Te=n("1inl"),Pe=n("4TDQ"),De=n("NXrh");function Be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Me extends f.Component{constructor(...e){super(...e),Be(this,"state",{section:null}),Be(this,"handleSectionChange",e=>{this.setState({section:e})}),Be(this,"handleSubmit",()=>{const{onSubmit:e}=this.props,{section:t}=this.state;t&&e(t)})}render(){const{board:e,boardSection:t,onCancel:n}=this.props,{section:i}=this.state;return Object(u.jsx)(g.b,{size:"md",accessibilityModalLabel:this.props.i18n._("Move Pins","BoardPage.ModalContents.SectionMergeModal","accessibility label for merging modal"),onDismiss:()=>{n()},heading:i?this.props.i18n._("Move Pins and delete section?","title for board section merging modal","title for board section merging modal"):this.props.i18n._("Move all Pins to...","title for board section merging modal","title for board section merging modal"),footer:Object(u.jsx)(c.u,{alignItems:"stretch",justifyContent:"end",children:Object(u.jsxs)(c.h,{children:[Object(u.jsx)(c.g,{onClick:n,text:this.props.i18n._("Cancel"),size:"lg"}),Object(u.jsx)(c.g,{color:"red",disabled:!i,onClick:this.handleSubmit,text:this.props.i18n._("Move Pins and delete section","button for merging a board section","button for merging a board section"),size:"lg"})]})}),children:Object(u.jsx)(c.f,{padding:8,minHeight:400,children:Object(u.jsx)(De.b,{board:e,mergingFromSectionId:t.id,onSectionChange:this.handleSectionChange,selectedSectionId:i?i.id:null})})})}}function ke(e){const t=Object(a.c)();return Object(u.jsx)(Me,{...e,i18n:t})}var Re=n("uVIr"),Ae=n("MhBu"),Le=n("eOdZ"),Ne=n("KFEb"),Ue=n("Sihc");function Fe(e,t,n,i){return o=>Le.d.create("BoardSectionEditResource",{section_id:t,title:n,...i?{orbac_subject_id:i}:Object.freeze({})}).callCreate({showError:!1}).then(t=>{const n=t.resource_response.data;return o(function(e,t){return n=>{const i=t.board;i&&i.id!==e?(n(Object(Se.b)(e,t.id)),n(Object(Ae.a)({feedId:e,feedType:Ne.a.BOARD_SECTIONS,itemIds:[t.id],itemType:"board_section"})),n(Object(d.c)(e,"pin_count")),n(Object(Ue.b)(i.id,t)),n(Object(Re.a)({feedId:i.id,feedType:Ne.a.BOARD_SECTIONS,itemIds:[t.id],itemType:"board_section"})),n(Object(d.c)(e,"pin_count"))):n({type:"SECTION_UPDATED",payload:{boardId:e,section:t}})}}(e,n)),o(Object(ve.f)("BoardSectionsRepinResource",{board_id:e})),n})}var He=n("QO9Q"),ze=n("vVEi"),qe=n("ANjH"),Ge=n("0Xtd");function We(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Ve extends f.Component{constructor(...e){super(...e),We(this,"state",{deleting:!1,editMode:"main",title:this.props.boardSection.title}),We(this,"handleSaveSection",e=>{if(e.preventDefault(),this.saveDisabled())return;const{board:t,boardSection:n,dispatch:i,onSaveSection:o,viewer:r,orbacActingAs:a}=this.props,{title:s}=this.state,c=Object(Ge.a)(r,a);i(Fe(t.id,n.id,s.trim(),c)).then(o).catch(e=>this.setState({titleErrorMessage:e.message||this.props.i18n._("Invalid section name","error message of section name input field","error message of section name input field")}))}),We(this,"saveDisabled",()=>this.state.title===this.props.boardSection.title||""===this.state.title.trim()),We(this,"handleChangeTitle",({value:e})=>{this.setState({title:e,titleErrorMessage:void 0})}),We(this,"handleDeleteSectionButtonClick",()=>{this.setState({editMode:"confirmDelete"})}),We(this,"handleMergeButtonClick",()=>{this.setState({editMode:"merge"})}),We(this,"handleBackToMainMenu",()=>{this.setState({editMode:"main"})}),We(this,"handleDeleteSection",()=>{const{board:e,boardSection:t,dispatch:n,onDeleteSection:i,toastManagerContext:o,viewer:a,orbacActingAs:s}=this.props;if(this.state.deleting)return;const{id:c}=t;this.setState({deleting:!0}),n(Object(Se.a)(e.id,c,Object(Ge.a)(a,s))).then(()=>{i(),o.showToast(({onHide:e})=>Object(u.jsx)(r.a,{onHide:e,text:this.props.i18n._("Section deleted!","Toast for successfully deleting a board section","Toast for successfully deleting a board section")}))}).catch(e=>Te.a.showError(e.message||this.props.i18n._("Failed to delete the section","error message for failed to delete section","error message for failed to delete section")))}),We(this,"handleMergeSection",e=>{var t;const{board:n,boardSection:i,dispatch:o,showBlockingActionToast:r,onDeleteSection:a}=this.props;this.state.deleting||(this.setState({deleting:!0}),Object(Q.b)(7173,{objectId:i.id,merge_flow:"menu"}),o(Object(Pe.a)(n.id,i.id,null!==(t=e.id)&&void 0!==t?t:"")).then(a).then(()=>{r({actionType:"merge",board:n,section:e})}).catch(e=>Te.a.showError(e.message||this.props.i18n._("Failed to merge the section","error message for failed to merge section","error message for failed to merge section"))))})}componentDidMount(){window.requestAnimationFrame(()=>{const e=this._textField;e&&(e.focus(),e.select())})}render(){const{board:e,boardSection:t,onClearModal:n,viewer:i,orbacActingAs:r}=this.props,{title:a,titleErrorMessage:s,editMode:l}=this.state,d=Ee(t.user)||Object(ie.a)({action:10,board:e})||Object(Ge.c)(i,e,r),h=e.section_count>1&&(Ee(t.user)||Object(ie.a)({action:13,board:e}));return"confirmDelete"===l?Object(u.jsx)(o.a,{confirmButtonLabel:this.props.i18n._("Delete section","button for deleting a board section","button for deleting a board section"),onCancel:this.handleBackToMainMenu,onConfirm:this.handleDeleteSection,message:this.props.i18n._("Once you delete a section and all its Pins, you can't undo it!")}):"merge"===l?Object(u.jsx)(ke,{board:e,boardSection:t,onCancel:this.handleBackToMainMenu,onSubmit:this.handleMergeSection}):Object(u.jsx)(g.b,{accessibilityModalLabel:this.props.i18n._("Edit your section"),size:"md",onDismiss:n,heading:this.props.i18n._("Edit your section"),footer:Object(u.jsxs)(c.u,{alignItems:"stretch",justifyContent:"between",children:[Object(u.jsx)(c.m,{span:6,children:(d||h)&&Object(u.jsxs)(c.f,{display:"flex",marginStart:-1,marginEnd:-1,children:[d&&Object(u.jsx)(c.f,{"data-test-id":"delete-section-button",paddingX:1,children:Object(u.jsx)(c.g,{onClick:this.handleDeleteSectionButtonClick,text:this.props.i18n._("Delete","Delete button","Delete button")})}),h&&Object(u.jsx)(c.f,{paddingX:1,children:Object(u.jsx)(c.g,{onClick:this.handleMergeButtonClick,text:this.props.i18n._("Merge","button for merging a board section","button for merging a board section")})})]})}),Object(u.jsx)(c.m,{span:6,children:Object(u.jsxs)(c.u,{alignItems:"stretch",justifyContent:"end",children:[Object(u.jsx)(c.f,{marginEnd:3,children:Object(u.jsx)(c.g,{text:this.props.i18n._("Cancel"),onClick:n})}),Object(u.jsx)(c.g,{type:"submit",color:"red",text:this.props.i18n._("Save"),disabled:this.saveDisabled(),onClick:({event:e})=>{this.handleSaveSection(e)}})]})})]}),children:Object(u.jsx)("form",{onSubmit:this.handleSaveSection,children:Object(u.jsx)(c.f,{display:"flex",direction:"column",padding:8,children:Object(u.jsx)(c.eb,{errorMessage:s,id:"title",label:this.props.i18n._("Name"),onChange:this.handleChangeTitle,ref:e=>{this._textField=e},size:"lg",value:a})})})})}}var Ke=Object(qe.compose)(Object(i.connect)(),ze.d,l.c)((function(e){const t=Object(a.c)(),n=Object(me.b)(),i=Object(He.a)();return Object(u.jsx)(Ve,{...e,i18n:t,viewer:n,orbacActingAs:i})}));function Ye({source:e,target:t,onConfirm:n,onCancel:i}){const o=Object(a.c)();return Object(u.jsx)(g.b,{accessibilityModalLabel:o._("Move Pins and delete section?","title for board section merging confirmation","title for board section merging confirmation"),heading:o._("Move Pins and delete section?","title for board section merging confirmation","title for board section merging confirmation"),onDismiss:i,footer:Object(u.jsx)(c.u,{alignItems:"stretch",justifyContent:"end",children:Object(u.jsxs)(c.h,{children:[Object(u.jsx)(c.g,{onClick:i,text:o._("Cancel")}),Object(u.jsx)(c.g,{color:"red",onClick:n,text:o._("Move Pins and delete section","button for merging a board section","button for merging a board section")})]})}),children:Object(u.jsx)(c.f,{padding:8,children:Object(u.jsx)(c.cb,{children:Object(s.b)(o._("You're about to move all Pins from your {{ sourceName }} section to your {{ targetName }} section.","helper text for section merge confirmation modal","helper text for section merge confirmation modal"),{sourceName:Object(u.jsx)(c.cb,{inline:!0,weight:"bold",children:e.title},"source"),targetName:Object(u.jsx)(c.cb,{inline:!0,weight:"bold",children:t.title},"target")})})})})}var Xe=n("pC0d"),Qe=n("juW8");function Ze({actions:e,board:t,boardSection:n,bulkEditSelectedPins:i,currentModal:o,groupPinsData:r,inSelectAll:a,onClearModal:s,mergeConfirmationModalProps:c}){var l,d;const{completeCreateSectionAction:f,completeMoveAction:g,onBoardArchiveChange:m,onBoardDelete:j,onBoardLeave:v,onBoardSectionDelete:O,onBoardSectionSave:x,onCollaboratorInviteClick:_,onConfirmMergeSection:w,onCopyPinsToBoard:C,onDeletePins:S,onBoardMerge:E}=e;switch(o){case Qe.a.boardArchiveConfirmation:return m?Object(u.jsx)(h,{shouldArchive:!0,board:t,onClose:s,onConfirm:m}):null;case Qe.a.boardUnarchiveConfirmation:return m?Object(u.jsx)(h,{shouldArchive:!1,board:t,onClose:s,onConfirm:m}):null;case Qe.a.boardEdit:return Object(u.jsx)(p.a,{boardId:t.id,onBoardArchiveChange:m,onBoardDelete:j,onBoardLeave:v,onClose:s,onCollaboratorInviteClick:_});case Qe.a.bulkDelete:return S?Object(u.jsx)(R,{pinCountToDelete:i&&i.length||0,onCompleteBulkDelete:S,onClearModal:s}):null;case Qe.a.bulkCopy:return C?Object(u.jsx)(U,{currentBoardId:t.id,onCopyToBoard:C,onClearModal:s,pinCountToCopy:i&&i.length||0}):null;case Qe.a.collaboratorsAndPermissions:return Object(u.jsx)(b.a,{board:t,onDismiss:s});case Qe.a.editSection:return n?Object(u.jsx)(Ke,{board:t,boardSection:n,onClearModal:s,onDeleteSection:O,onSaveSection:x}):null;case Qe.a.mergeBoard:return E?Object(u.jsx)(I,{onCancel:s,onSubmit:E,sourceBoardId:t.id}):null;case Qe.a.createSection:case Qe.a.moveSection:return!!i&&!!g&&Object(u.jsx)(_e,{board:t,boardSection:n,inSelectAll:!!a,selectedPinIds:i,showCreateOnly:o===Qe.a.createSection,onClearModal:s,onCompleteMove:g});case Qe.a.sectionMergeConfirm:return c&&w?Object(u.jsx)(Ye,{onCancel:s,onConfirm:w,source:c.source,target:c.target}):null;case Qe.a.followers:return Object(u.jsx)(y,{boardId:t.id,onDismiss:s,followersCount:null!==(l=t.follower_count)&&void 0!==l?l:0});case Qe.a.pincode:return Object(u.jsx)(we.a,{onHide:s,objectId:t.id,children:Object(u.jsx)(k,{boardId:t.id,customizable:!(null===(d=t.owner)||void 0===d||!d.is_partner)})});case Qe.a.jumpstartBoard:return Object(u.jsx)(ne,{board:t,onDismiss:s});case Qe.a.simpleCreateSection:return f?Object(u.jsx)(Ce.a,{selectedBoard:t,onClose:s,onSectionCreate:f}):null;case Qe.a.groupPins:return Object(u.jsx)(Xe.a,{boardId:t.id,clusterId:null==r?void 0:r.clusterId,suggestedSectionTitle:(null==r?void 0:r.suggestedSectionName)||"",onDismiss:s});default:return null}}},fOPN:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ADD_SOURCE="dnd-core/ADD_SOURCE",t.ADD_TARGET="dnd-core/ADD_TARGET",t.REMOVE_SOURCE="dnd-core/REMOVE_SOURCE",t.REMOVE_TARGET="dnd-core/REMOVE_TARGET",t.addSource=function(e){return{type:t.ADD_SOURCE,payload:{sourceId:e}}},t.addTarget=function(e){return{type:t.ADD_TARGET,payload:{targetId:e}}},t.removeSource=function(e){return{type:t.REMOVE_SOURCE,payload:{sourceId:e}}},t.removeTarget=function(e){return{type:t.REMOVE_TARGET,payload:{targetId:e}}}},fc1g:function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));const i=e=>({type:"MOST_RECENT_PIN",payload:{id:e}}),o=e=>({type:"MOST_RECENT_PIN_IMAGE",payload:{image_signature:e}})},fevN:function(e,t,n){n.d(t,"a",(function(){return d}));var i=n("q1tI"),o=n("clxp"),r=n("rYoy"),a=n("yweb"),s=n("n6mq"),c=n("nKUr");const l=Object(i.lazy)(()=>n.e("SendObjectWrapperCommon").then(n.bind(null,"geGc")));function d(e){const t=Object(a.c)();return Object(c.jsx)(o.a,{name:"SafeSuspense_SendObjectLoader_SendObjectWrapper",children:Object(c.jsx)(r.a,{fallback:Object(c.jsx)(s.f,{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",padding:2,children:Object(c.jsx)(s.U,{accessibilityLabel:t._("Loading sharing","Accessibility label for loading sharing UI","Accessibility label for loading sharing UI"),show:!0})}),children:Object(c.jsx)(l,{...e})})})}},fhMV:function(e,t,n){n.d(t,"a",(function(){return D}));var i=n("q1tI"),o=n("dH2W"),r=n("nKUr");const a="M0 111c0 47 29.3 87.2 70.6 103.4-1-8.8-2-22.3.3-32l13-55s-3.4-6.7-3.4-16.5c0-15.6 9-27 20-27 9.6 0 14.2 7 14.2 15.5 0 9.6-6 23.8-9.2 37-2.7 11 5.5 20 16.4 20 19.7 0 35-20.7 35-50.8 0-26.5-19.2-45-46.5-45-31.5 0-50 23.6-50 48 0 9.6 3.6 19.8 8.2 25.4 1 1.2 1 2 .7 3.3l-3 12.5c-.5 2-1.6 2.5-3.8 1.5-13.8-6.4-22.5-26.7-22.5-43 0-35 25.6-67 73.5-67 38.5 0 68.4 27.3 68.4 64 0 38.2-24.2 69-57.7 69-11.3 0-21.8-5.8-25.4-12.7L92 188c-2.6 9.6-9.3 21.7-14 29 10.5 3.3 21.6 5 33 5 61.3 0 111-49.7 111-111S172.3 0 111 0 0 49.7 0 111z",s="#e60023",c="0 0 222 222";function l({size:e}){return Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:c,children:Object(r.jsx)("path",{d:a,fill:s,fillRule:"evenodd"})})}var d=n("yweb"),u=n("n6mq");function h({getThumbnailImageSrcSet:e,images:t,onTouch:n}){const i=Object(d.c)();return Object(r.jsx)(u.f,{display:"flex",justifyContent:"start",maxHeight:328,overflow:"auto",padding:1,wrap:!0,children:["logo"].concat(t).map((t,o)=>{var a,s,c,d;return Object(r.jsx)(u.f,{padding:1,children:Object(r.jsx)(u.j,{children:Object(r.jsx)(u.bb,{fullWidth:!1,onTap:()=>n("logo"===t?"logo":o-1),rounding:2,children:Object(r.jsx)(u.D,{rounding:"circle",width:85,height:85,children:"logo"===t?Object(r.jsx)(l,{size:85}):Object(r.jsx)(u.y,{alt:i._("Pincode Hero Image","accessibility label for the Pincode hero image","accessibility label for the Pincode hero image"),color:t.dominant_color||"#b5b5b5",fit:"cover",naturalHeight:null!==(a=t.height)&&void 0!==a?a:1,naturalWidth:null!==(s=t.width)&&void 0!==s?s:1,src:null!==(c=t.url)&&void 0!==c?c:"",srcSet:e&&e(null!==(d=t.url)&&void 0!==d?d:"")})})})})},"logo"===t?t:t.url)})})}var b=n("w70y");const p="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(`\n  <svg xmlns="http://www.w3.org/2000/svg" width="${f||222}" height="${f||222}" x="${g||0}" y="${g||0}" viewBox="0 0 222 222">\n    <path d="${a}" fill="#e60023" fill-rule="evenodd" />\n  </svg>`.trim());var f,g;const m=600;function j(e,t,n){return`\n    <image id="image"\n      x="${100+("right"===t?300:0)}"\n      y="${100+("bottom"===n?300:0)}"\n      width="${m/("row"===t?1:2)}"\n      height="${m/("column"===n?1:2)}"\n      xmlns:xlink="http://www.w3.org/1999/xlink"\n      xlink:href="${e}"\n      preserveAspectRatio="xMidYMid slice"\n    />`}function v(e,t){const n=function(e){switch(e.length){case 0:case 1:return;case 2:return[j(e[0],"left","column"),j(e[1],"right","column")].join("");case 3:return[j(e[0],"left","column"),j(e[1],"right","top"),j(e[2],"right","bottom")].join("");default:return[j(e[0],"left","top"),j(e[1],"right","top"),j(e[2],"left","bottom"),j(e[3],"right","bottom")].join("")}}(t);return n?e.replace(/<image[^>]*>/,n):e}class O extends i.Component{constructor(...e){var t,n,i;super(...e),i=()=>{const{pincodeImageResource:e,onFetchingChange:t}=this.props;t(e.isFetching)},(n="handleFetchChange")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}componentDidMount(){const{pincodeImageResource:e}=this.props;e.isFetching||this.handleFetchChange()}componentDidUpdate(e){this.props.pincodeImageResource.isFetching!==e.pincodeImageResource.isFetching&&this.handleFetchChange()}render(){const{className:e,imageUrls:t,size:n,pincodeImageResource:{data:i,isLoaded:o}}=this.props,a=n,s=n;return Object(r.jsxs)(u.u,{alignItems:"center",height:s,justifyContent:"center",width:a,children:[o&&!!i&&Object(r.jsx)("div",{className:e,dangerouslySetInnerHTML:{__html:v(i,t)},style:{width:a,height:s}}),Object(r.jsx)(u.U,{accessibilityLabel:this.props.i18n._("Loading Pincode Image","accessibility label for loading the Pincode image","accessibility label for loading the Pincode image"),show:!i})]})}}function y(e){const t=Object(d.c)(),n=Object(b.a)({name:"PincodeImageResource",options:{object_id:e.id,hero_image_url:e.imageUrls[0]||p}});return Object(r.jsx)(O,{...e,i18n:t,pincodeImageResource:n})}var x=n("U4JR");function _(e){return new Promise((t,n)=>{const i=new XMLHttpRequest;i.ontimeout=n,i.onreadystatechange=()=>{if(4!==i.readyState)return;if(200!==i.status)return void n();const e=new FileReader;e.onloadend=()=>{const i=e.result;"string"==typeof i?t(i.split(/,/)[1]):n()},e.readAsDataURL(i.response)},i.open("GET",e,!0),i.timeout=3e4,i.responseType="blob",i.send()})}function w(e,t){if(!(e instanceof Element))return Promise.resolve(e);if(e instanceof window.SVGImageElement)return function(e,t){const n=e.href.baseVal;if(n.startsWith("data:"))return Promise.resolve();const i=t?t(n):n;return Promise.resolve(i).then(_).then(e=>`data:${function(e){const t=e.match(/\.([^\.\/]*?)$/);switch(t&&t[1]){case"jpg":case"jpeg":return"image/jpeg";case"png":return"image/png";case"gif":return"image/gif";default:return""}}(i)};base64,${e}`).then(t=>new Promise((n,i)=>{e.onerror=i,e.href.baseVal=t,window.requestAnimationFrame(n)}))}(e,t);const n=Array.from(e.childNodes);return Promise.all(n.map(e=>w(e,t)))}function C(e,t){return new Promise((n,i)=>{const o=document.createElement("div");o.innerHTML=e.innerHTML,w(o,t).then(()=>{const t=new Image;t.onload=()=>{window.requestAnimationFrame(()=>n(t))},t.onerror=i;const r=o&&o.querySelector("svg");r&&(/^[0-9]+$/.test(r.getAttribute("width")||"")||r.setAttribute("width",""+e.scrollWidth),/^[0-9]+$/.test(r.getAttribute("height")||"")||r.setAttribute("height",""+e.scrollHeight));const a=o.innerHTML.replace(/(xmlns="[^"]+"[^>]*)\ xmlns="[^"]+"/,"$1");t.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(a.trim())})})}function S(e,t){return new Promise((n,i)=>{(function(e){return new Promise((t,n)=>{if(e.toBlob)return void e.toBlob(t);let i="";try{i=e.toDataURL("image/png")}catch(s){n()}const o=window.atob(i.split(",")[1]),r=o.length,a=new Uint8Array(r);for(let e=0;e<r;e+=1)a[e]=o.charCodeAt(e);t(new window.Blob([a],{type:"image/png"}))})})(e).then(e=>window.URL.createObjectURL(e)).then(e=>{const i=document.createElement("a");i.download=t,i.href=e,i.style.display="none",window.document.body.appendChild(i),window.requestAnimationFrame(()=>{const t=()=>{window.requestAnimationFrame(()=>{window.URL.revokeObjectURL(e),i.removeAttribute("href"),i.removeEventListener("click",t),window.document.body.removeChild(i),n()})};i.addEventListener("click",t),i.click()})}).catch(i)})}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const E="pincodeMain",T="pincodeCTA";class P extends i.PureComponent{constructor(...e){super(...e),I(this,"state",{ctaIsLoaded:!1,errorFlyoutIsOpen:!1,isDownloading:!1,isFetchingPincodeImage:!1,isPickingHeroImage:!1,pickedImageIndex:0}),I(this,"getCustomHeroImages",()=>{const{images:e,customizable:t}=this.props,{pickedImageIndex:n}=this.state;if(!t)return e;const i="logo"!==n&&e[n];return i?[i]:[]}),I(this,"normalizeUrl",e=>{const{getMainImageURL:t}=this.props;return(e=>e.replace(/^https:\/\/[^\/]{2,}\.pinimg.com\//,"https://i.pinimg.com/"))((t||(e=>e))(e))}),I(this,"handleFetchChange",e=>{this.setState({isFetchingPincodeImage:e})}),I(this,"handleCancelButtonClick",()=>this.setState({isPickingHeroImage:!1})),I(this,"handleEditButtonClick",()=>this.setState({isPickingHeroImage:!0})),I(this,"handleSelectImage",e=>this.setState({isPickingHeroImage:!1,pickedImageIndex:e})),I(this,"downloadPincodeImage",()=>{const e=this.previewNode,{ctaIsLoaded:t,isFetchingPincodeImage:n,isDownloading:i}=this.state;if(!e||!t||n||i)return;const o=e.querySelector(".pincodeMain"),r=e.querySelector(".pincodeCTA");if(!o||!r)return;const{getDownloadImageURL:a,id:s}=this.props;Object(x.b)(7078,{component:13141,objectId:s}),this.setState({isDownloading:!0}),Promise.all([C(o,a),C(r)]).then(e=>{const[t,n]=e;return((e,t)=>{const n=document.createElement("canvas");n.width=3544,n.height=3544;const i=Math.round(.1*n.width),o=Math.round(.05*n.width),r=n.width-2*i,a=n.width-2*o,s=n.height-r,[c,l]=t.width/t.height>a/s?[a,a/t.width*t.height]:[s/t.height*t.width,s],d=n.getContext("2d");return d.fillStyle="#fff",d.fillRect(0,0,n.width,n.height),d.drawImage(e,i,0,r,r),d.drawImage(t,(n.width-c)/2,r+(n.height-r-l)/2,c,l),n})(t,n)}).then(e=>S(e,`pincode_${this.props.id}.png`)).then(()=>{this.setState({isDownloading:!1})}).catch(()=>{this.setState({errorFlyoutIsOpen:!0})})})}render(){const{id:e,isLoadingImages:t,images:n,getThumbnailImageSrcSet:i,customizable:a}=this.props,{ctaIsLoaded:s,errorFlyoutIsOpen:c,isFetchingPincodeImage:l,isDownloading:d,isPickingHeroImage:b}=this.state;return b?Object(r.jsx)(u.f,{width:350,color:"white",rounding:2,padding:4,children:Object(r.jsxs)(u.f,{children:[Object(r.jsx)(u.f,{paddingY:1,children:Object(r.jsx)(u.v,{size:"md",lineClamp:1,children:this.props.i18n._("Change Image","Title of the Pincode hero image picker modal","Title of the Pincode hero image picker modal")})}),Object(r.jsx)(u.q,{}),Object(r.jsx)(h,{images:n,getThumbnailImageSrcSet:i,onTouch:this.handleSelectImage}),Object(r.jsx)(u.f,{padding:1,children:Object(r.jsx)(u.g,{fullWidth:!0,text:this.props.i18n._("Cancel","Button to dismiss Pincode hero image picker","Button to dismiss Pincode hero image picker"),onClick:this.handleCancelButtonClick})})]})}):Object(r.jsx)(u.f,{width:350,color:"white",rounding:2,marginBottom:4,paddingX:4,children:Object(r.jsxs)(u.f,{children:[Object(r.jsx)(u.f,{ref:e=>{this.previewNode=e},children:Object(r.jsxs)(u.f,{color:"white",display:"flex",direction:"column",alignItems:"center",justifyContent:"center",width:"100%",height:320,children:[t?Object(r.jsx)(u.u,{alignItems:"center",height:230,justifyContent:"center",width:"100%",children:Object(r.jsx)(u.U,{accessibilityLabel:this.props.i18n._("Loading","accessibility label for loading spinner","accessibility label for loading spinner"),show:!0})}):Object(r.jsx)(y,{className:E,id:e,imageUrls:this.getCustomHeroImages().map(e=>{var t;return this.normalizeUrl(null!==(t=e.url)&&void 0!==t?t:"")}),onFetchingChange:this.handleFetchChange,size:230}),Object(r.jsx)(u.f,{display:"flex",justifyContent:"center",alignItems:"center",marginBottom:7,marginTop:2,children:Object(r.jsx)("div",{className:T,children:Object(r.jsx)(o.default,{onCtaDidLoad:()=>this.setState({ctaIsLoaded:!0}),width:300,height:78})})})]})}),Object(r.jsxs)(u.f,{marginTop:2,padding:1,children:[a&&n.length>0&&Object(r.jsx)(u.f,{paddingY:1,children:Object(r.jsx)(u.g,{fullWidth:!0,text:this.props.i18n._("Change Image","Button to pick Pincode hero image","Button to pick Pincode hero image"),onClick:this.handleEditButtonClick})}),Object(r.jsxs)(u.f,{paddingY:1,children:[Object(r.jsx)(u.f,{ref:e=>{this.downloadButton=e},children:Object(r.jsx)(u.g,{fullWidth:!0,text:this.props.i18n._("Download Pincode","Button to download the Pincode image","Button to download the Pincode image"),color:"red",onClick:this.downloadPincodeImage,disabled:t||!s||l||d})}),c&&Object(r.jsx)(u.L,{anchor:this.downloadButton,color:"red",idealDirection:"down",onDismiss:()=>this.setState({errorFlyoutIsOpen:!1}),size:"sm",shouldFocus:!1,children:Object(r.jsx)(u.f,{padding:3,children:Object(r.jsx)(u.cb,{color:"white",weight:"bold",children:Object(r.jsx)("span",{children:this.props.i18n._("Oops! Your browser does not support downloading Pincodes.","Error message shown when user attempts to download Pincode on a browser not supported","Error message shown when user attempts to download Pincode on a browser not supported")})})})})]})]})]})})}}function D(e){const t=Object(d.c)();return Object(r.jsx)(P,{...e,i18n:t})}},flQA:function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));const i=-1;function o(e){switch(e){case 0:return"shopping-bag";case 1:return"tag";default:return"search"}}},fpRd:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("q1tI").memo((function(e){var t=e.connect,n=e.src;if("undefined"!=typeof Image){var i=new Image;i.src=n,i.onload=function(){return t(i)}}return null}));i.displayName="DragPreviewImage",t.default=i},"g/XF":function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("JW66"),o=n("jZDM"),r=n("n6mq"),a=n("nKUr");function s({url:e,description:t,color:n}){return n=n||i.a.DEFAULT_IMAGELESS_PIN_COLOR,Object(a.jsx)(r.f,{rounding:2,height:216,width:"100%",dangerouslySetInlineStyle:{__style:{background:n}},children:Object(a.jsxs)(r.f,{maxHeight:200,padding:4,overflow:"hidden",children:[e&&Object(a.jsx)(r.f,{marginBottom:2,children:Object(a.jsx)(r.cb,{color:"white",size:"sm",children:Object(o.a)(e).hostname||e})}),Object(a.jsx)(r.f,{maxHeight:144,children:Object(a.jsx)(r.cb,{color:"white",overflow:"normal",weight:"bold",children:t})})]})})}},gC5q:function(e,t,n){n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var i=n("YO3V"),o=n.n(i);function r(e,t=!1){return n=>{if(!o()(n))return t&&Array.isArray(n)?n.map(r(e,t)):n;const i={};return Object.keys(n).forEach(a=>{const s=e(n[a],a);o()(n[a])||t&&Array.isArray(n[a])?i[s]=r(e,t)(n[a]):i[s]=n[a]}),i}}function a(e,t=!1){const n=(t,n)=>e(n);return e=>r(n,t)(e)}function s(e={},t=[]){return Object.keys(e).reduce((n,i)=>t.includes(i)?n:{...n,[i]:e[i]},{})}},gFfm:function(e,t){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e}},gMUm:function(e,t,n){n.d(t,"a",(function(){return c}));var i=n("1dBE"),o=n("nKUr");const{Provider:r,Consumer:a,useHook:s}=Object(i.c)("BoardOwnershipTransferContext");function c({boardName:e="",children:t,pendingOwnershipTransfer:n=null,viewerIsOwner:i}){return Object(o.jsx)(r,{value:{boardName:e,pendingOwnershipTransfer:n,viewerIsOwner:i},children:t})}t.b=s},gONw:function(e,t,n){var i=n("q1tI"),o=n("n6mq"),r=n("nKUr");function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class s extends i.Component{constructor(...e){super(...e),a(this,"state",{isHovering:!1}),a(this,"onHover",()=>{this.setState({isHovering:!0})}),a(this,"offHover",()=>{this.setState({isHovering:!1})})}render(){const{name:e,selected:t,image:n,inFlyoutExp:i}=this.props;var a,s,c;return i?Object(r.jsxs)(o.f,{alignItems:"center",color:this.state.isHovering?"lightGray":"transparent",direction:"row",display:"flex",paddingX:4,paddingY:2,onMouseOver:this.onHover,onMouseOut:this.offHover,children:[Object(r.jsx)(o.f,{children:Object(r.jsx)(o.D,{height:40,width:40,rounding:2,children:this.state.isHovering&&n?Object(r.jsx)(o.y,{alt:"",color:"",fit:"cover",naturalHeight:null!==(a=n.height)&&void 0!==a?a:1,naturalWidth:null!==(s=n.width)&&void 0!==s?s:1,src:null!==(c=n.url)&&void 0!==c?c:""}):Object(r.jsx)(o.f,{color:"lightGray",height:40,width:40})})}),Object(r.jsx)(o.f,{padding:2,children:Object(r.jsx)(o.v,{size:"sm",children:e})})]}):Object(r.jsxs)(o.f,{alignItems:"center",color:t?"lightGray":"transparent",direction:"row",display:"flex",paddingX:6,paddingY:2,children:[Object(r.jsx)(o.f,{children:Object(r.jsx)(o.w,{color:t?"darkGray":"gray",icon:"add",accessibilityLabel:""})}),Object(r.jsx)(o.f,{marginStart:3,children:Object(r.jsx)(o.cb,{color:t?"darkGray":"gray",weight:"bold",children:e})})]})}}var c=n("yweb"),l=n("w70y"),d=n("U4JR"),u=n("seP0");t.a=({inFlyoutExp:e,inFirstBoardCreateGestaltExp:t,pinId:n,image:a,minHeight:h,onBoardSelected:b})=>{const p=Object(c.c)(),[f,g]=Object(i.useState)(-1),m=Object(u.c)(),{data:j=[],error:v,isLoaded:O}=Object(l.a)({name:"BoardTitleSuggestionsResource",options:{pin_id:n}}),y=(x=j,Object(i.useMemo)(()=>x&&x.length?x.map(e=>e.title):[],[x]));var x;Object(i.useEffect)(()=>{O&&t&&m&&(v?m.error():m.stop())},[O]);const _=()=>{g(-1)},w=(t,n)=>{const i=f===n;return Object(r.jsx)("li",{children:Object(r.jsx)(o.bb,{onMouseEnter:()=>(e=>{g(e)})(n),onMouseLeave:_,onTap:()=>(e=>{b(y[e],!1),Object(d.b)(101,{component:13025,element:23})})(n),children:Object(r.jsx)(s,{selected:i,name:t,inFlyoutExp:e,image:a})})},n)};return O?y&&y.length?e?Object(r.jsx)(o.f,{children:Object(r.jsx)("ul",{children:y.map(w)})}):t?Object(r.jsxs)(o.f,{children:[Object(r.jsx)(o.f,{marginTop:5,marginStart:6,marginBottom:3,children:Object(r.jsx)(o.cb,{children:p._("Suggested board names","text above suggested board names list","text above suggested board names list")})}),Object(r.jsx)("ul",{children:y.map(w)})]}):Object(r.jsxs)(o.f,{children:[Object(r.jsx)(o.f,{marginTop:2,paddingX:5,children:Object(r.jsx)(o.cb,{children:p._("Suggested board names")})}),Object(r.jsx)("ul",{children:y.map(w)})]}):null:Object(r.jsx)(o.u,{alignItems:"center",height:"100%",justifyContent:"center",minHeight:h||"",children:Object(r.jsx)(o.U,{accessibilityLabel:p._("Loading board suggestions","Accesibility label for loading board suggestions","Accesibility label for loading board suggestions"),show:!0})})}},gdcG:function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("2WXK"),o=n("nKUr");function r(e){return function(t){const{isHovering:n,hoverHandlers:r}=Object(i.a)();return Object(o.jsx)(e,{...t,hoverHandlers:r,isHovering:n})}}},hUD8:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("bVT4"),o=function(){function e(e){this.entered=[],this.isNodeInDocument=e}return e.prototype.enter=function(e){var t=this,n=this.entered.length;return this.entered=i.union(this.entered.filter((function(n){return t.isNodeInDocument(n)&&(!n.contains||n.contains(e))})),[e]),0===n&&this.entered.length>0},e.prototype.leave=function(e){var t=this.entered.length;return this.entered=i.without(this.entered.filter(this.isNodeInDocument),e),t>0&&0===this.entered.length},e.prototype.reset=function(){this.entered=[]},e}();t.default=o},hZxF:function(e,t,n){var i=n("q1tI");t.a=e=>{Object(i.useEffect)(e,[])}},hgQt:function(e,t,n){var i=n("Juji"),o=n("4sDh");e.exports=function(e,t){return null!=e&&o(e,t,i)}},hlDC:function(e,t,n){n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));var i=n("1dBE");const{Provider:o,Consumer:r,useHook:a}=Object(i.c)("ExperimentContext")},"i/p3":function(e,t,n){var i=n("/MKj"),o=n("8BbR"),r=n("WjpJ"),a=n.n(r),s=n("yweb"),c=n("ANjH"),l=n("U4JR"),d=n("gdcG"),u=n("n6mq"),h=n("nKUr");function b({pin:e}){var t,n,i,r,a;return Object(h.jsx)(u.D,{rounding:4,width:138,children:Object(h.jsx)(o.a,{height:207,pin:e&&{imageUrl:null!==(t=null===(n=e.images)||void 0===n||null===(i=n["474x"])||void 0===i?void 0:i.url)&&void 0!==t?t:"",dominantColor:null!==(r=e.dominant_color)&&void 0!==r?r:"",description:null!==(a=e.description)&&void 0!==a?a:""},width:138})})}t.a=Object(c.compose)(Object(i.connect)((e,t)=>{const n=e.stories[t.storyId];return n&&"board_ideas_preview_detailed"===n.story_type?{story:n}:{story:void 0}}),d.a)((function({collection:e,hoverHandlers:t,isHovering:n,story:i,url:o}){const r=Object(s.c)();if(!i)return null;const c=i.objects.reduce((e,t)=>e.concat("pin"===t.type?[t]:[]),[]);return Object(h.jsx)("div",{className:"moreIdeasOnBoard",children:Object(h.jsx)(u.bb,{role:"link",href:`${o}?ideas_referrer=${i.referring_source}`,onTap:()=>Object(l.b)(101,{element:10600,view:"board_section"===e.type?164:5,objectId:e.id,viewParameter:3069}),fullWidth:!1,onMouseEnter:t.onMouseOver,onMouseLeave:t.onMouseLeave,rounding:4,children:Object(h.jsxs)(u.f,{alignItems:"start",color:n?"lightGray":"white",direction:"column",display:"flex",justifyContent:"start",marginEnd:-3,paddingX:3,paddingY:2,rounding:4,width:"100%",children:[Object(h.jsx)(u.f,{padding:2,children:Object(h.jsx)(u.v,{size:"sm",lineClamp:1,children:"board_section"===e.type?r._("Find some ideas for this section:","Call-to-action text that upsells more ideas tab for an empty section","Call-to-action text that upsells more ideas tab for an empty section"):r._("Find some ideas for this board:","Call-to-action text that upsells more ideas tab for an empty board","Call-to-action text that upsells more ideas tab for an empty board")})}),Object(h.jsx)(u.f,{display:"flex",justifyContent:"between",padding:2,width:"100%",children:a()(0,5).map(e=>{const t=c[e];return Object(h.jsx)(u.f,{children:Object(h.jsx)(b,{pin:t})},""+(t?t.id:e))})})]})})})}))},i6L0:function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("/MKj"),o=n("OWXb"),r=n("nGHF"),a=n("vVEi");function s(){const e=Object(i.useDispatch)(),{showToast:t}=Object(r.b)();return{showBlockingActionToast:({actionType:n,board:i,section:r})=>{t(Object(a.f)("inProgress",n,i,r)),Object(a.c)({check:()=>e(Object(o.a)(i.id)).then(e=>!Object(a.e)({blockingActions:e,actionType:n,boardId:i.id,sectionId:r&&r.id})),checkDelay:a.a,checkInterval:a.b,onComplete:()=>t(Object(a.f)("completed",n,i,r))})}}}},i97C:function(e,t,n){n.d(t,"a",(function(){return u}));var i=n("q1tI"),o=n("/MKj"),r=n("1inl"),a=n("4TDQ"),s=n("yweb"),c=n("i6L0"),l=n("U4JR"),d=n("Sp3T");function u({board:e}){const t=Object(s.c)(),[n,u]=Object(i.useState)(null),h=Object(o.useDispatch)(),{showBlockingActionToast:b}=Object(c.a)(),p=Object(d.a)({shouldStopEventPropagation:!1}),f=Object(i.useCallback)(p(()=>{if(!n)return;const{source:i,target:o}=n;u(null),Object(l.b)(7173,{objectId:i.id,merge_flow:"dnd"}),h(Object(a.a)(e.id,i.id,o.id)).then(()=>{b({actionType:"merge",board:e,section:o})}).catch(e=>{r.a.showError(e.message||t._("Failed to merge sections","useSectionMergeAction.errorMessage","Error message when failed to merge sections"))})}),[null==n?void 0:n.source,null==n?void 0:n.target]);return{handleShowMergeSectionsConfirmationModal:p((e,t)=>{u({source:e,target:t})}),mergeConfirmationModalProps:n,onConfirm:f}}},"iYS+":function(e,t,n){n.d(t,"a",(function(){return c}));var i=n("q1tI"),o=n("n6mq"),r=n("nKUr");function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const s={__path:"M8.134 8.116a1.25 1.25 0 0 0-1.768 0L4.25 10.232 2.134 8.116A1.25 1.25 0 0 0 .366 9.884L2.483 12 .366 14.116a1.25 1.25 0 0 0 1.768 1.768l2.116-2.117 2.116 2.117a1.248 1.248 0 0 0 1.768 0 1.25 1.25 0 0 0 0-1.768L6.018 12l2.116-2.116a1.25 1.25 0 0 0 0-1.768M24 8v8a2.5 2.5 0 0 1-2.5 2.5h-8A2.5 2.5 0 0 1 11 16V8a2.5 2.5 0 0 1 2.5-2.5h8A2.5 2.5 0 0 1 24 8"};class c extends i.PureComponent{constructor(...e){super(...e),a(this,"state",{hovered:!1}),a(this,"handleMouseEnter",()=>this.setState({hovered:!0})),a(this,"handleMouseLeave",()=>this.setState({hovered:!1}))}render(){const{bold:e,icon:t,text:n,description:i,descriptionColor:a="darkGray",compact:c}=this.props,l=Array.isArray(n)?n.join(""):n;return Object(r.jsx)(o.f,{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,children:Object(r.jsxs)(o.f,{alignItems:"start",color:this.state.hovered?"lightGray":"transparent",direction:"row",display:"flex",marginEnd:-1,marginStart:-1,overflow:"hidden",paddingX:4,paddingY:2,title:l,children:[!c&&t&&Object(r.jsx)(o.f,{alignSelf:"center",flex:"none",padding:1,children:"unfollow"===t?Object(r.jsx)(o.w,{accessibilityLabel:"",color:"darkGray",dangerouslySetSvgPath:s,size:16}):Object(r.jsx)(o.w,{accessibilityLabel:"",color:"darkGray",icon:t,size:16})}),Object(r.jsxs)(o.f,{alignItems:c?"center":"start",direction:c?"row":"column",display:"flex",flex:"grow",padding:1,width:"100%",children:[Object(r.jsx)(o.cb,{color:"darkGray",size:c?"sm":"md",weight:e?"bold":"normal",children:n}),Object(r.jsx)(o.u,{alignItems:"center",justifyContent:"start",children:!c&&i&&Object(r.jsx)(o.f,{marginBottom:2,marginTop:1,children:Object(r.jsx)(o.cb,{color:a,overflow:"normal",size:"sm",children:i})})})]})]})})}}a(c,"defaultProps",{bold:!0})},jHGc:function(e,t,n){n.r(t),n.d(t,"PinRepEditButton",(function(){return s}));var i=n("yweb"),o=n("dtqy"),r=n("n6mq"),a=n("nKUr");function s({handlePinEditButtonClick:e,style:t,useLegoStyles:n=!1,usePersistentOneClickSaveStyles:o,wrappingIconStyle:s,shouldUseLegoStyles:c,onDelete:l}){const d=Object(i.c)(),u=Object(a.jsx)(r.x,{accessibilityLabel:d._("Edit","edit button on pin","edit button on pin"),bgColor:t&&t.bgColor||"white",icon:"edit",iconColor:t&&t.iconColor||"darkGray",onClick:({event:t})=>e(t),size:t&&t.size||"md"});return c?Object(a.jsx)(r.g,{fullWidth:!0,size:"lg",color:"gray",text:d._("Saved","PinRepEditButton.SavedButton","saved button on pin"),onClick:l,accessibilityLabel:d._("Pin Saved Button","PinRepEditButton.SavedButtonLabel","saved button label on pin"),selected:!0}):n||o?Object(a.jsx)("div",{style:{...s||{}},children:u}):u}t.default=Object(o.a)(s)},jXQH:function(e,t,n){var i=n("TO8r"),o=/^\s+/;e.exports=function(e){return e?e.slice(0,i(e)+1).replace(o,""):e}},jZXB:function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("zir5");class o extends i.a{constructor(){super({},{},!1)}v2ActivateExperiment(e){return null}v2LogExperimentGroupOverride(e,t){}}},jaOL:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("fOPN");t.default=function(e,t){switch(void 0===e&&(e=0),t.type){case i.ADD_SOURCE:case i.ADD_TARGET:return e+1;case i.REMOVE_SOURCE:case i.REMOVE_TARGET:return e-1;default:return e}}},jdx6:function(e,t,n){n.d(t,"b",(function(){return c}));var i=n("8cMa"),o=n("JW66"),r=n("yweb"),a=n("n6mq"),s=n("nKUr");function c(e,t=""){const n=e&&e.length>1?new RegExp(e,"i"):"";return e&&e.length>1?t.split(n).reduce((n,i,o)=>{if(n.length>0&&e&&e.length){const r=t.toLowerCase().indexOf(e.toLowerCase());return n.concat(Object(s.jsx)("em",{style:{borderBottom:"1px solid #333",fontStyle:"normal",paddingBottom:"1px"},children:t.substring(r,r+e.length)},o),i)}return[i]},[]):t}t.a=function(e){const t=Object(r.c)(),{disabled:n,item:l,isSection:d,isSelectMode:u,isWithinSectionPicker:h,saveState:b,searchQuery:p,selected:f}=e,g=d?null:l,m=d?l:null,j=m&&m.title||g&&g.name||"";let v="",O=!1,y="",x=0;g&&({image_cover_url:v,is_collaborative:O,privacy:y,section_count:x=0}=g);const _=c(p,j),w=y===o.a.BoardPrivacy.SECRET,C=!n&&(f||!!b),S=!h&&"number"==typeof x&&x>0,I="number"==typeof x&&x>0?"boardWithSection":"boardWithoutSection",E=u?t._("Select","Board select button label","Board select button label"):t._("Save","Pin save button label","Pin save button label");return Object(s.jsxs)(a.f,{alignItems:"center",color:C?"lightGray":"white",display:"flex",paddingX:6,paddingY:2,"data-test-id":I,children:[g?Object(s.jsx)(a.f,{height:36,width:36,color:"lightGray",overflow:"hidden",rounding:2,marginEnd:2,flex:"none",children:v?Object(s.jsx)(a.y,{src:v,alt:j,fit:"cover",naturalWidth:1,naturalHeight:1}):Object(s.jsx)("span",{})}):Object(s.jsx)(a.f,{height:36,paddingX:2}),Object(s.jsxs)(a.u,{alignItems:"center",flex:"grow",justifyContent:"between",children:[Object(s.jsx)(a.cb,{color:n?"gray":"darkGray",size:"md",lineClamp:1,weight:"bold",children:_}),(S||!C)&&Object(s.jsxs)(a.u,{alignItems:"center",justifyContent:"start",children:[w&&Object(s.jsx)(i.a,{type:"secret"}),O&&Object(s.jsx)(i.a,{type:"group"}),S&&Object(s.jsx)(i.a,{type:"sections"})]}),!S&&C&&!b&&Object(s.jsxs)(a.f,{alignItems:"center",color:"red","data-test-id":"BoardPickerSaveButton",display:"flex",flex:"none",paddingX:3,paddingY:2,rounding:4,children:[!u&&Object(s.jsx)(a.f,{dangerouslySetInlineStyle:{__style:{marginRight:3,marginLeft:-6}},children:Object(s.jsx)(a.w,{accessibilityLabel:"",color:"white",icon:"pin",inline:!0,size:20})}),Object(s.jsx)(a.cb,{color:"white",overflow:"normal",size:"md",weight:"bold",children:E})]}),!S&&C&&"loading"===b&&Object(s.jsx)(a.f,{dangerouslySetInlineStyle:{__style:{transform:"scale(0.7)"}},maxHeight:35,children:Object(s.jsx)(a.U,{accessibilityLabel:t._("Saving","Accessibility label for saving a pin to a board","Accessibility label for saving a pin to a board"),show:!0})})]})]})}},jirY:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("/ZYE"),o=n("H3Jb"),r=n("q1tI"),a=n("2S0S");t.useDrag=function(e){var t=r.useRef(e);t.current=e,a(null!=e.item,"item must be defined"),a(null!=e.item.type,"item type must be defined");var n=o.useDragSourceMonitor(),s=n[0],c=n[1];o.useDragHandler(t,s,c);var l=i.useMonitorOutput(s,t.current.collect||function(){return{}},(function(){return c.reconnect()})),d=r.useMemo((function(){return c.hooks.dragSource()}),[c]),u=r.useMemo((function(){return c.hooks.dragPreview()}),[c]);return r.useEffect((function(){c.dragSourceOptions=t.current.options||null,c.reconnect()}),[c]),r.useEffect((function(){c.dragPreviewOptions=t.current.previewOptions||null,c.reconnect()}),[c]),[l,d,u]}},juW8:function(e,t,n){n.d(t,"a",(function(){return i}));const i={addOrEditDate:"addOrEditDate",boardArchiveConfirmation:"boardArchiveConfirmation",boardEdit:"boardEdit",boardUnarchiveConfirmation:"boardUnarchiveConfirmation",bulkCopy:"bulkCopy",bulkDelete:"bulkDelete",collaboratorsAndPermissions:"collaboratorsAndPermissions",createSection:"createSection",editSection:"editSection",followers:"followers",groupPins:"groupPins",jumpstartBoard:"jumpstartBoard",mergeBoard:"mergeBoard",moveSection:"moveSection",pincode:"pincode",sectionMergeConfirm:"sectionMergeConfirm",sendBoard:"sendBoard",simpleCreateSection:"simpleCreateSection"}},jxrL:function(e,t,n){function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n("X6C7")),i(n("1tpI")),i(n("eiom"))},"kT2/":function(e,t,n){var i=n("q1tI"),o=n("JW66"),r=n("yweb"),a=n("n6mq"),s=n("nKUr");const c=e=>{const t=e.split("\n");t.push("");const n=[];let i,o=[];return t.forEach(e=>{const t=e.indexOf("•");t>-1?(i||(i=""),o.push(e.substring(t+1).trim())):((i||o.length>0)&&n.push({heading:i,items:o}),i=e,o=[])}),n},l=e=>{let t="";return e.forEach((n,i)=>{const{heading:o,items:r}=n;o&&(t+=o),r&&r.length>0&&(t+="\n• "+r.join("\n• ")),i<e.length-1&&(t+="\n\n")}),t};t.a=function({header:e,helperText:t,listBlocks:n,onUpdate:d,placeholderListBlocks:u}){const h=Object(r.c)(),b=l(u||[{heading:h._("What you'll need","storyboard.detailsList.placeholder","Placeholder text header for details list of story Pin"),items:[h._("Write a bullet list of tools, materials and anything else!","storyboard.detailsList.placeholder","Placeholder text instructions for details list of story Pin"),h._("Type it up or copy and paste.","storyboard.detailsList.placeholder","Placeholder text instructions for details list of story Pin")]}]),[p,f]=Object(i.useState)(n?l(n):"");return Object(s.jsx)(a.f,{children:Object(s.jsx)(a.db,{id:"storyboard-details-list",helperText:t,label:e,onChange:({value:e})=>{f(e),d(c(e))},onBlur:()=>{""===p.trim()&&f("")},onKeyDown:({event:e,value:t})=>{const{keyCode:n,target:i,shiftKey:r}=e;if(i instanceof HTMLTextAreaElement){const{selectionStart:a,selectionEnd:s}=i;if(a===s){let s=0,l=0,u="";if(n===o.a.KeyCode.ENTER?"\n• "!==t.substring(a-3,a)||"\n"!==t.substring(a,a+1)&&a!==t.length?r||"\n"===t.substring(a-1,a)||(s=0,u="\n• "):(s=-3,u="\n"):n!==o.a.KeyCode.BACKSPACE&&n!==o.a.KeyCode.DELETE||("\n• "===t.substring(a-3,a)?s=-3:"\n•"===t.substring(a-2,a)?s=-2:"\n"===t.substring(a-1,a)&&"•"===t.substring(a,a+1)&&(s=-1,l=1)),0!==s||0!==l||""!==u){const n=t.substring(0,a+s)+u+t.substring(a+l);f(n);const o=a+s+u.length;setTimeout(()=>{i.selectionStart=o,i.selectionEnd=o},10),d(c(n)),e.preventDefault()}}}},placeholder:b,rows:7,value:p})})}},"ks/r":function(e,t,n){n.d(t,"a",(function(){return u}));var i=n("q1tI"),o=n("LT60"),r=n("L2iP"),a=n("N/FO"),s=n("n6mq"),c=n("nKUr");function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends i.Component{constructor(...e){super(...e),l(this,"state",{animation:null,visible:!1}),l(this,"setRef",e=>{this.element||(this.element=e,null==e||e.addEventListener("dragover",this.handleDragOver),null==e||e.addEventListener("dragleave",this.handleDragLeave))}),l(this,"handleDragOver",()=>{const{placement:e}=this.props;if(!this.state.animation){const t="top"===e?-1:1,n=Object(a.a)({window,duration:1/0,run:(e,n,i)=>{const o=n<500?.8:1.2000000000000002;window.scrollTo(0,window.scrollY+o*t*i)}});n.start(),this.setState({animation:n})}}),l(this,"handleDragLeave",()=>{const{animation:e}=this.state;e&&(e.cancel(),this.setState({animation:null}))}),l(this,"element",null),l(this,"visibleTimeout",null)}componentDidMount(){this.visibleTimeout=window.setTimeout(()=>this.setState({visible:!0}),500)}componentWillUnmount(){const e=this.element,{animation:t}=this.state;e&&(e.removeEventListener("dragover",this.handleDragOver),e.removeEventListener("dragleave",this.handleDragLeave)),t&&t.cancel(),this.visibleTimeout&&window.clearTimeout(this.visibleTimeout)}render(){const{height:e,placement:t}=this.props,{visible:n}=this.state;return Object(c.jsx)(s.f,{bottom:"bottom"===t,dangerouslySetInlineStyle:{__style:{zIndex:16777271,visibility:n?"visible":"hidden"}},height:e,left:!0,position:"fixed",right:!0,top:"top"===t,children:Object(c.jsx)("div",{ref:this.setRef,style:{width:"100%",height:"100%"}})})}}function u({noStickyHeader:e}){const t=e?0:r.a;return Object(c.jsx)(o.a,{children:Object(c.jsx)(s.A,{children:Object(c.jsxs)(s.f,{children:[Object(c.jsx)(d,{placement:"top",height:120+t}),Object(c.jsx)(d,{placement:"bottom",height:120})]})})})}},kugi:function(e,t,n){n.r(t),n.d(t,"default",(function(){return a}));var i=n("zir5"),o=n("4xvr"),r=n("eOdZ");class a extends i.a{v2ActivateExperiment(e){return this._getGroupForExperiment(e,!0)}flush(){this._queuedResource&&this._queuedResource.flush()}v2LogExperimentGroupOverride(e,t){this._reportExperimentActivated(e,!1,t,t)}_getGroupForExperiment(e,t,n){void 0===t&&(t=!0);let i=this.active[e];return void 0===i&&t&&(i=this.triggerable[e],void 0!==i&&(this.active[e]=i,this._reportExperimentActivated(e,n,i))),i||null}_reportExperimentActivated(e,t,n,i){const a={add_to_experiment:!!t,experiment_name:e};if(i&&(a.override_group=i),n&&(a.experiment_group=n),this.useBatching)this._queuedResource||(this._queuedResource=new o.b("ActivateExperimentResource",e=>({experiments:e}))),this._queuedResource.enqueue(a);else{r.d.create("ActivateExperimentResource",a).callCreate({showError:!1})}}}},l70D:function(e,t,n){n.d(t,"a",(function(){return l}));var i=n("q1tI"),o=n("yweb"),r=n("qpbZ"),a=n("pLLR"),s=n("n6mq"),c=n("nKUr");const l=48,d=Object(i.forwardRef)((e,t)=>{const{addButtonRef:n,collaboratorCount:i,nonDisplayedCollaboratorCount:d,displayedCollaborators:u,onClick:h,showAddButton:b}=e,p=Object(o.c)(),{isRTL:f}=Object(a.d)(),g=u.map(e=>e.name);let m="";switch(d?"default":g.length){case 3:m=Object(r.c)(p._("{{ first }}, {{ second }}, and {{ last }}","BoardAvatarGroup.AvatarGroup.accessibilityLabel.usernames.ThreeAvatars","List of three usernames"),{first:""+g[0],second:""+g[1],last:""+g[2]});break;case 2:m=Object(r.c)(p._("{{ first }} and {{ second }}","BoardAvatarGroup.AvatarGroup.accessibilityLabel.usernames.TwoAvatars","List of two usernames."),{first:""+g[0],second:""+g[1]});break;default:m=g.join(", ")}const j=d?Object(r.c)(p.ngettext("Collaborators: {{ userNames }} and {{ leftCount }} more.","Collaborators: {{ userNames }} and {{ leftCount }} more.",d,"BoardAvatarGroup.AvatarGroup.accessibilityLabel.aboveTwoCollaborators","Accessibility label that lists the names of collaborators and a final count of non-displayed avatars"),{userNames:m,leftCount:""+d}):Object(r.c)(p._("Collaborators: {{ userNames }}.","BoardAvatarGroup.AvatarGroup.accessibilityLabel.notAboveTwoCollaborators","Accessibility label that lists the names of collaborators"),{userNames:m}),v=u.length>1?[...u,...Array(d).fill({name:"",src:""})]:u,O=(u.length>1||0===i)&&b,y=p._("Invite collaborators.","BoardAvatarGroup.AvatarGroup.accessibilityLabel.inviteCollaborators","It informs the users that they can invite other collaborators.");return Object(c.jsxs)(s.f,{position:"relative",rounding:"pill","data-test-id":"user-rep-avatar",children:[O?Object(c.jsx)(s.f,{height:l,position:"absolute",left:f,ref:n,right:!f,rounding:"circle",top:!0,width:l}):null,Object(c.jsx)(s.c,{accessibilityLabel:O?`${j} ${y}`:""+j,addCollaborators:O,collaborators:v,onClick:h,ref:t,role:"button",size:"md"})]})});d.displayName="BoardAvatarGroup",t.b=d},l9OW:function(e,t,n){var i=n("SKAX"),o=n("MMmD");e.exports=function(e,t){var n=-1,r=o(e)?Array(e.length):[];return i(e,(function(e,i,o){r[++n]=t(e,i,o)})),r}},lNaY:function(e,t,n){n.d(t,"a",(function(){return a}));const i=["236x","474x","564x","736x"];function o(e){function t(e,{imageKey:t,height:n,width:i}){return e.images&&e.images[t]&&(e={...e,images:{...e.images,[t]:{...e.images[t],height:n,width:i}}}),e}const n=i.map((function(t){const n=Math.min(...e.map(e=>e.images&&e.images[t]&&e.images[t].height||1/0)),i=Math.min(...e.map(e=>e.images&&e.images[t]&&e.images[t].width||1/0));return{imageKey:t,height:n,width:i}}));return e.map(e=>n.reduce(t,e))}function r(e,t){return e.concat([{images:t&&t.canonical_images,image_signature:t&&t.image_signature}])}function a(e,t,n,i=!0){const a=[{images:e}],s=t&&t.additional_images,c=(null!=s?s:[]).reduce(r,a);return{carousel_slots:i?o(c):c,index:n||0,id:t.id}}},lQqw:function(e,t,n){var i=n("MMmD");e.exports=function(e,t){return function(n,o){if(null==n)return n;if(!i(n))return e(n,o);for(var r=n.length,a=t?r:-1,s=Object(n);(t?a--:++a<r)&&!1!==o(s[a],a,s););return n}}},lXCh:function(e,t,n){},lh2y:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("Bfq7"),o=n("NFjV");t.createNativeDragSource=function(e){return new o.NativeDragSource(i.nativeTypesConfig[e])},t.matchNativeItemType=function(e){if(!e)return null;var t=Array.prototype.slice.call(e.types||[]);return Object.keys(i.nativeTypesConfig).filter((function(e){return i.nativeTypesConfig[e].matchesTypes.some((function(e){return t.indexOf(e)>-1}))}))[0]||null}},lihF:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return void 0===e&&(e=0),e+1}},"lm/5":function(e,t,n){var i=n("fmRc"),o=n("wF/u");e.exports=function(e,t,n,r){var a=n.length,s=a,c=!r;if(null==e)return!s;for(e=Object(e);a--;){var l=n[a];if(c&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<s;){var d=(l=n[a])[0],u=e[d],h=l[1];if(c&&l[2]){if(void 0===u&&!(d in e))return!1}else{var b=new i;if(r)var p=r(u,h,d,e,t,b);if(!(void 0===p?o(h,u,3,r,b):p))return!1}}return!0}},lnQP:function(e,t,n){var i=n("q1tI"),o=n("/MKj"),r=n("zUcL"),a=n("Hz/G"),s=n("xkL+"),c=n("n6mq"),l=n("w70y"),d=n("yweb"),u=n("nKUr");function h({label:e,path:t,selected:n}){return Object(u.jsx)(c.w,{accessibilityLabel:e,dangerouslySetSvgPath:{__path:t},color:n?"darkGray":"gray",size:24})}function b({selected:e}){const t=Object(d.c)();return Object(u.jsx)(h,{label:t._("Dense","Label for selecting the dense pin density view","Label for selecting the dense pin density view"),path:"M16.00,20.00 L20.00,20.00 L20.00,16.00 L16.00,16.00 L16.00,20.00 Z M10.00,8.00 L10.00,4.00 L14.00,4.00 L14.00,8.00 L10.00,8.00 Z M4.00,8.00 L4.00,4.00 L8.00,4.00 L8.00,8.00 L4.00,8.00 Z M16.00,8.00 L16.00,4.00 L20.00,4.00 L20.00,8.00 L16.00,8.00 Z M4.00,14.00 L4.00,10.00 L8.00,10.00 L8.00,14.00 L4.00,14.00 Z M10.00,14.00 L10.00,10.00 L14.00,10.00 L14.00,14.00 L10.00,14.00 Z M16.00,14.00 L16.00,10.00 L20.00,10.00 L20.00,14.00 L16.00,14.00 Z M4.00,20.00 L4.00,16.00 L8.00,16.00 L8.00,20.00 L4.00,20.00 Z M10.00,20.00 L10.00,16.00 L14.00,16.00 L14.00,20.00 L10.00,20.00 Z",selected:e})}function p({selected:e}){const t=Object(d.c)();return Object(u.jsx)(h,{label:t._("Regular","Label for selecting the regular pin density view","Label for selecting the regular pin density view"),path:"M13.00,20.00 L13.00,13.00 L20.00,13.00 L20.00,20.00 L13.00,20.00 Z M4.00,11.00 L4.00,4.00 L11.00,4.00 L11.00,11.00 L4.00,11.00 Z M13.00,11.00 L13.00,4.00 L20.00,4.00 L20.00,11.00 L13.00,11.00 Z M4.00,20.00 L4.00,13.00 L11.00,13.00 L11.00,20.00 L4.00,20.00 Z",selected:e})}var f=n("t3tn");class g extends i.Component{constructor(...e){var t,n,i;super(...e),i=({activeIndex:e})=>{const{viewType:t,component:n,pinView:i}=this.props,o=0===e?"regular":"dense";Object(a.a)({boardDensity:o,component:n,surface:i,viewType:t})},(n="handleItemChange")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}componentDidUpdate(){const{dispatch:e,metadata:t,pinView:n,updatedBoardPinDensity:i}=this.props;if(t&&t.data&&""===i){const{profile_pin_rep_view_type:i,board_pin_rep_view_type:o}=t.data;"board"===n&&e(i?Object(f.a)(i):Object(f.a)("regular")),"profile"===n&&e(o?Object(f.d)(o):Object(f.d)("regular"))}}render(){const{metadata:e,updatedBoardPinDensity:t}=this.props;if(!e||!e.data)return null;const n="dense"===t?1:0;return Object(u.jsx)("div",{className:"OwnBoardSelector",children:Object(u.jsx)(c.R,{items:[Object(u.jsx)(p,{selected:"regular"===t}),Object(u.jsx)(b,{selected:"dense"===t})],onChange:this.handleItemChange,selectedItemIndex:n,responsive:!0})})}}function m(e){const t=Object(s.b)(),n=Object(l.a)({name:"UserMetadataResource",options:{user:{id:t.isAuth?t.username:""}},noCache:!0}),i=Object(o.useSelector)(({ui:t})=>t.views&&t.views[e.pinView+"PinView"]);return Object(u.jsx)(g,{...e,dispatch:Object(o.useDispatch)(),metadata:n,updatedBoardPinDensity:i})}var j=n("sxkF");function v({board:e,currentView:t,inBoardOrganizationMode:n,onContentViewChange:o,onOrganizeClick:r,pinCount:a,showSortOptions:l}){const h=Object(d.c)(),b=Object(s.b)();return Object(u.jsxs)(c.f,{alignItems:"center",direction:"row",display:"flex",marginStart:-1,marginEnd:-1,children:[Object(u.jsx)(c.f,{paddingX:1,flex:"grow",children:Object(u.jsx)(c.v,{children:h._("Pins","Heading for Pins outside of board sections on board page","Heading for Pins outside of board sections on board page")})}),l&&Object(j.c)(a)&&Object(u.jsx)(c.f,{paddingX:2,children:Object(u.jsx)(j.a,{currentView:t,onChange:o,board:e,viewer:b})}),a>=1&&Object(u.jsxs)(i.Fragment,{children:[a>=1&&Object(u.jsx)(m,{viewType:5,component:13183,pinView:"board"}),!n&&Object(u.jsx)(c.f,{paddingX:2,children:Object(u.jsx)(c.g,{fullWidth:!0,text:h._("Organize","The board organization button","The board organization button"),onClick:r})})]})]})}var O=n("KFEb"),y=n("6SCp"),x=n("P2Et");const _=Object(o.connect)((e,t)=>Object(x.b)(e.feeds[O.a.BOARD_PINS][t.board.id]))((function(e){const t=Object(l.a)({name:"BoardFeedResource",options:Object(y.a)(e.board,e.viewer,e.currentView,e.currentFilter)});return Object(u.jsx)(x.a,{...e,resource:t})}));_.displayName="BoardSectionlessPinGrid";var w=_;var C=({children:e,shouldNavigate:t,to:n})=>t?Object(u.jsx)(c.bb,{role:"link",href:n,children:e}):e,S=n("eBDd");var I=e=>{const t=Object(d.c)(),{numberOfSelectedPins:n}=e;return Object(u.jsx)(c.f,{alignItems:"center",bottom:!0,display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!0,top:!0,children:Object(u.jsx)(c.f,{color:"white",padding:3,rounding:"pill",children:Object(u.jsx)(c.cb,{weight:"bold",children:Object(S.a)(t.ngettext("Move {{ count }} Pin here","Move {{ count }} Pins here",n,"Call to action overlay on a section to move selected Pins","Call to action overlay on a section to move selected Pins"),{count:n})})})})},E=n("WjpJ"),T=n.n(E);const P=157,D=141,B=118,M=106;function k(e){return"dense"===e?2:3}function R(e){return(("dense"===e?B:M)+1)*k(e)-1}function A({isHovered:e,mode:t,pins:n}){const i=k(t),o="dense"===t,r=o?P:D,a=o?B:M,s=R(t);return Object(u.jsx)(c.D,{rounding:4,width:s,children:Object(u.jsxs)(c.u,{alignItems:"stretch",justifyContent:"start",children:[Object(u.jsx)(c.f,{bottom:!0,dangerouslySetInlineStyle:{__style:e?{zIndex:1,backgroundColor:"rgba(0,0,0,0.06)"}:{}},left:!0,position:"absolute",right:!0,top:!0}),T()(i).map(e=>{var t,o,s,l,d,h;const b=e===i-1,p=n[e];return Object(u.jsx)(c.f,{dangerouslySetInlineStyle:{__style:{paddingRight:b?void 0:1}},children:Object(u.jsx)(c.D,{height:r,width:a,rounding:0,wash:!0,children:p&&Object(u.jsx)(c.y,{alt:null!==(t=p.description)&&void 0!==t?t:"",color:"transparent",fit:"cover",naturalHeight:null!==(o=null===(s=p.image_large_size_pixels)||void 0===s?void 0:s.height)&&void 0!==o?o:1,naturalWidth:null!==(l=null===(d=p.image_large_size_pixels)||void 0===d?void 0:d.width)&&void 0!==l?l:1,src:null!==(h=p.image_large_url)&&void 0!==h?h:""})})},e)})]})})}var L=n("0NP8"),N=n("pLLR");function U({children:e,mode:t}){return"dense"===t?Object(u.jsx)(c.cb,{weight:"bold",children:e}):Object(u.jsx)(c.v,{accessibilityLevel:2,size:"sm",lineClamp:1,children:e})}function F({children:e,displayEditIcon:t,mode:n,mouseCursor:i,onEditClick:o,onTouch:r,pinCount:a,title:s}){const l=Object(d.c)(),{isRTL:h}=Object(N.d)(),b=Object(u.jsxs)(c.f,{children:[Object(u.jsxs)(c.f,{position:"relative",children:[e,t&&Object(u.jsx)(c.f,{position:"absolute",bottom:!0,left:h,right:!h,children:Object(u.jsx)(c.f,{padding:2,children:Object(u.jsx)(c.x,{bgColor:"white",icon:"edit",iconColor:"darkGray",onClick:o,accessibilityLabel:l._("Edit","BoardSectionCard.SectionRep.EditIcon","accessibility label for the board section name edit button"),accessibilityHaspopup:!0,size:"sm"})})})]}),Object(u.jsx)(c.u,{alignItems:"start",justifyContent:"between",width:R(n),children:Object(u.jsxs)(c.f,{padding:2,flex:"grow",children:[Object(u.jsx)(U,{mode:n,children:s}),Object(u.jsx)(c.f,{marginTop:1,children:Object(u.jsx)(L.b,{count:a,size:"sm"})})]})})]});return r?Object(u.jsx)(c.bb,{fullWidth:!1,mouseCursor:i,onTap:r,rounding:4,children:b}):b}var H=e=>{var t;const{board:n,boardSection:r,canEdit:a,focused:s,hovered:l,inOrganizationMode:d,isDragging:h,isMergeTarget:b,onBlur:p,oneTapMovePinsHandler:f,onFocus:g,onMouseEnter:m,onMouseLeave:j,onShowEditSectionModal:v}=e,{slug:O,title:y,preview_pins:x=[]}=r,_=Object(o.useSelector)(({ui:e})=>e.views.boardPinView),w=f&&f.numberOfSelectedPins;let S;w&&f&&(S=()=>{f.moveToSection(r)});let E="pointer";h?E="grabbing":!w&&d&&(E="grab");const T=!!a&&!h&&(l||s),P=f&&f.numberOfSelectedPins>0&&!!w&&l&&!h&&Object(u.jsx)(I,{numberOfSelectedPins:f.numberOfSelectedPins});return Object(u.jsxs)(c.f,{alignItems:"center",color:"white","data-test-id":"section-"+r.title,direction:"row",display:"flex",onBlur:p,onFocus:g,onMouseEnter:m,onMouseLeave:j,position:"relative",rounding:2,children:[Object(u.jsx)(C,{shouldNavigate:!d,to:`${null!==(t=n.url)&&void 0!==t?t:""}${O}/`,children:Object(u.jsx)(F,{displayEditIcon:T,mode:_,mouseCursor:E,onEditClick:({event:e})=>{e.stopPropagation(),e.preventDefault(),v(r)},onTouch:S,pinCount:r.pin_count,title:y,children:Object(u.jsxs)(i.Fragment,{children:[Object(u.jsx)(A,{isHovered:l||b||s,mode:_,pins:x}),P]})})}),Object(u.jsx)("div",{className:"sectionHoverSurface"})]})},z=n("ks/r"),q=n("7pfs"),G=n("9X5u"),W=n("rg+c"),V=n("9ip6");function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Y extends i.Component{constructor(...e){super(...e),K(this,"state",{dragDrop:null,sectionIds:this.props.sections.map(e=>e.id)}),K(this,"cancelHoverTimeout",()=>{const e=this.dragHoverTimeout;e&&clearTimeout(e.timeoutId),this.dragHoverTimeout=null}),K(this,"dragHoverTimeout",null),K(this,"isDragging",()=>!!this.state.dragDrop),K(this,"handleSectionDragBegin",e=>{this.setState({dragDrop:{previewIndex:e,sourceIndex:e,target:null}})}),K(this,"handleSectionDragHover",(e,t)=>{const{dragDrop:n}=this.state,i=this.props.allowReordering;if(!t||!n)return;const{previewIndex:o}=n,r=Object(V.a)({hoverRelativePosition:t,centerEnabled:e!==o&&i}),a={itemIndex:e,regionWithinItem:r};if(this.dragHoverTimeout&&Object(V.c)(a,this.dragHoverTimeout.hoverLocation))return;this.cancelHoverTimeout();const s="center"===r?"merge":"reorder",c={action:s,index:Object(V.b)({hoverLocation:a,sourceIndex:o})};c.index!==o?this.dragHoverTimeout={hoverLocation:a,timeoutId:setTimeout(()=>{this.dragHoverTimeout=null,"reorder"===s?this.setState({dragDrop:{...this.state.dragDrop,target:c,previewIndex:c.index},sectionIds:Object(O.c)(this.state.sectionIds,o,c.index)}):this.setState({dragDrop:{...this.state.dragDrop,target:c}})},"reorder"===s?200:20)}:n.target&&n.target.index!==c.index&&this.setState({dragDrop:{...n,target:c}})}),K(this,"handleSectionDragEnd",e=>{const{sections:t,onShowMergeSectionsConfirmationModal:n,onSectionReorder:i}=this.props,{dragDrop:o,sectionIds:r}=this.state,a=o&&o.target;if(this.cancelHoverTimeout(),!e||!o||!a||a.index===o.sourceIndex)return void this.setState({dragDrop:null,sectionIds:t.map(e=>e.id)});const{previewIndex:s,sourceIndex:c}=o,{action:l,index:d}=a;if(this.setState({dragDrop:null}),"merge"===l){const e=e=>{const n=r[e];return n&&t.find(({id:e})=>e===n)},i=e(s),o=e(d);i&&o&&n(i,o)}else i(c,d)}),K(this,"renderSection",(e,t)=>{const{allowReordering:n,board:i,canEdit:o,oneTapMovePinsHandler:r,onShowEditSectionModal:a,organizeMode:s}=this.props,{dragDrop:l}=this.state,d=l&&l.target;return Object(u.jsx)(c.f,{padding:2,children:Object(u.jsx)(q.a,{children:({focused:c,hovered:l,onBlur:h,onFocus:b,onMouseEnter:p,onMouseLeave:f})=>Object(u.jsx)(H,{allowReordering:n,board:i,boardSection:e,canEdit:o,focused:c,hovered:l,inOrganizationMode:s,isDragging:this.isDragging(),isMergeTarget:!!d&&"merge"===d.action&&t===d.index,onBlur:e=>{const t=e.currentTarget;setTimeout(()=>{t.contains(document.activeElement)||h()},0)},onFocus:b,onMouseEnter:p,onMouseLeave:f,oneTapMovePinsHandler:r,onShowEditSectionModal:a})})})})}componentDidUpdate(e){const{sections:t}=e,{sections:n}=this.props,i=e=>e.map(({id:e})=>e).join(",");if(t.length!==n.length&&i(t)!==i(n)){this.cancelHoverTimeout();const e=n.map(e=>e.id);this.setState({dragDrop:null,sectionIds:e})}}componentWillUnmount(){this.cancelHoverTimeout()}render(){const{allowReordering:e,connectDropTarget:t,isDragWithinBounds:n,sections:i}=this.props,{sectionIds:o}=this.state,r=this.isDragging(),a=i.reduce((e,t)=>({...e,[t.id]:t}),{}),s=Object(u.jsx)(c.f,{display:"flex",justifyContent:"center",marginStart:6,marginEnd:6,wrap:!0,children:o.map(e=>a[e]).filter(e=>!!e).map((t,i)=>Object(u.jsx)(c.f,{children:e?Object(u.jsx)(W.b,{index:i,onDragBegin:this.handleSectionDragBegin,onDragEnd:this.handleSectionDragEnd,onDragHover:this.handleSectionDragHover,type:W.a.Section,children:Object(u.jsx)("div",{style:{opacity:r&&!n?.5:1},children:this.renderSection(t,i)})}):Object(u.jsx)(c.f,{children:this.renderSection(t,i)})},t.id))});return Object(u.jsxs)(c.f,{width:"100%",children:[e&&t?t(Object(u.jsx)("div",{children:s})):s,r&&Object(u.jsx)(z.a,{})]})}}const X=Object(G.a)(W.a.Section)(Y);function Q(e){const t=Object(d.c)(),{allowReordering:n,fetchMore:i,isAtEnd:o,isFetching:r}=e;return Object(u.jsxs)(c.f,{width:"100%",children:[Object(u.jsx)(c.P,{isAtEnd:o,isFetching:r,fetchMore:i}),n?Object(u.jsx)(X,{...e}):Object(u.jsx)(Y,{...e}),r&&!o&&Object(u.jsx)(c.f,{position:"relative",paddingY:6,children:Object(u.jsx)(c.U,{accessibilityLabel:t._("Loading sections","loading state for board sections","loading state for board sections"),show:!0})})]})}var Z=n("MaRn"),$=n("eOdZ");var J=n("QO9Q"),ee=n("0Xtd"),te=n("U4JR");class ne extends i.Component{constructor(...e){var t,n,i;super(...e),i=(e,t)=>{const{board:n,dispatch:i,enableReordering:o,sections:r,viewParameter:a}=this.props;if(!o)return;const s=r[e].id,c=r[t].id,l=Object(O.c)(r,e,t).map(e=>e.id),d=l.indexOf(s),u=e=>e>=0&&e<l.length,h={boardId:n.id,sourceSectionId:s,targetSectionId:c,...u(d+1)?{sectionIdAfter:l[d+1]}:{},...u(d-1)?{sectionIdBefore:l[d-1]}:{}},b={objectId:s,view:5,viewParameter:a};var p;i((p=h,e=>{const{boardId:t,sectionIdBefore:n,sectionIdAfter:i,sourceSectionId:o,targetSectionId:r}=p;e(Object(Z.a)({feedType:O.a.BOARD_SECTIONS,feedId:t,itemType:"board_section",sourceItemId:o,targetItemId:r}));const a={section_id:o,section_before:n||void 0,section_after:i||void 0};return $.d.create("BoardSectionsReorderResource",a).callUpdate({showError:!1})})).then(()=>Object(te.b)(7133,b))},(n="handleSectionReorder")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}componentDidMount(){const{sectionsInvalidated:e,onLoadedAll:t,sectionsResource:{isFetching:n,refresh:i,isAtEnd:o}}=this.props;e&&!n&&i(),o&&t()}componentDidUpdate(e){!this.props.sectionsInvalidated||e.sectionsInvalidated||this.props.isFetching||this.props.refreshData(),!e.sectionsResource.isAtEnd&&this.props.sectionsResource.isAtEnd&&this.props.onLoadedAll()}render(){var e;const{board:t,enableReordering:n,inBoardOrganizationMode:i,oneTapMovePinsHandler:o,onShowEditSectionModal:r,onShowMergeSectionsConfirmationModal:a,sections:s,sectionsResource:l,viewer:d,orbacActingAs:h}=this.props,{isLoaded:b,isFetching:p,fetchMore:f,isAtEnd:g}=l;if(!b)return this.props.i18n._("Board sections loading spinner","BoardPage.BoardSections.loadingSpinner","Accessibility label for the spinner on board sections"),Object(u.jsx)(c.U,{accessibilityLabel:this.props.i18n._("Board sections loading spinner"),show:!0});const m=(t.access||[]).includes("write")||Object(ee.d)(d,(null===(e=t.owner)||void 0===e?void 0:e.id)||"",h);return Object(u.jsx)(c.u,{alignItems:"stretch",justifyContent:"center",children:Object(u.jsx)(Q,{allowReordering:n,board:t,canEdit:m,fetchMore:f,isAtEnd:g,isFetching:p,oneTapMovePinsHandler:o,onSectionReorder:this.handleSectionReorder,onShowEditSectionModal:r,onShowMergeSectionsConfirmationModal:a,organizeMode:i,sections:s})})}}var ie=Object(o.connect)((function(e,t){const{feeds:{[O.a.BOARD_SECTIONS]:n={}},sections:i}=e,{board:{id:o}}=t,r=n[o];return{sections:(r||[]).reduce((e,t)=>"board_section"===t.type&&i[t.id]?e.concat([i[t.id]]):e,[]),sectionsInvalidated:null===r}}))((function(e){const t=Object(d.c)(),n=Object(s.b)(),i=Object(J.a)(),o=Object(l.a)({name:"BoardSectionsResource",options:{board_id:e.board.id,redux_normalize_feed:!0}});return Object(u.jsx)(ne,{...e,sectionsResource:o,i18n:t,viewer:n,orbacActingAs:i})})),oe=n("i/p3"),re=n("79tv"),ae=n("HJ6M"),se=n("Sp3T");t.a=Object(o.connect)((function({boards:e,ui:t},{board:n}){const{views:{boardPinView:i}}=t,o=((e||{}).content||{})[n.id];return{boardPinView:i,sectionCount:(o?o.section_count:n.section_count)||0}}),()=>({}))((function({actions:e,board:t,boardPinView:n,bulkEditSelectedPins:o,currentFilter:a,currentView:l,displayActionBar:d,enableReordering:h,inBoardOrganizationMode:b,inSectionOrganizationMode:p,inSelectAll:f,isOwnBoard:g,isPinGridSorted:m,onBulkEditPinClick:j,onContentViewChange:O,oneTapMovePinsHandler:y,onShowEditSectionModal:x,onShowMergeSectionsConfirmationModal:_,refreshFilteredFeed:C,sectionCount:S,viewParameter:I}){const[E,T]=Object(i.useState)(0===S),P=Object(se.a)({shouldStopEventPropagation:!1}),D=Object(re.a)(t.url),B=Object(s.b)(),M=P(()=>{const{onBoardOrganizeClick:t}=e;Object(te.b)(101,{component:69,element:400}),t&&t(!0)}),{is_collaborative:k,pin_count:R}=t,A=(t.access||[]).includes("write"),L=g||t.collaborated_by_me,N=Boolean("number"==typeof R&&R>=2&&k&&L);return Object(u.jsxs)(c.f,{marginBottom:12,children:[Object(u.jsx)(r.a,{setMaxWidth:!1,children:Object(u.jsxs)(c.f,{children:[S>0&&(!a||a===ae.a)&&Object(u.jsx)(ie,{board:t,enableReordering:h,inBoardOrganizationMode:b,inSectionOrganizationMode:p,oneTapMovePinsHandler:y,onLoadedAll:()=>T(!0),onShowEditSectionModal:x,onShowMergeSectionsConfirmationModal:_,viewParameter:I}),d&&E&&L&&S>0&&Object(u.jsx)(v,{board:t,currentView:l,inBoardOrganizationMode:b,onContentViewChange:O,onOrganizeClick:M,pinCount:null!=R?R:0,showSortOptions:N})]})}),E&&Object(u.jsx)(c.f,{"data-test-id":"board-feed",dangerouslySetInlineStyle:{__style:{paddingBottom:"8px"}},paddingX:3,position:"relative",children:Object(u.jsx)(w,{board:t,bulkEditSelectedPins:o,currentFilter:a,currentView:l,denseViewSelected:A&&"dense"===n,inBoardOrganizationMode:b,inSectionOrganizationMode:p,inSelectAll:f,isOwnBoard:g,isPinGridSorted:m,onBulkEditPinClick:j,refreshFilteredFeed:C,renderFooterStory:e=>!t.archived_by_me_at&&L&&Object(u.jsx)(c.f,{marginBottom:6,children:Object(u.jsx)(r.a,{children:Object(u.jsx)(oe.a,{collection:t,storyId:e,url:D})})}),viewParameter:I,viewer:B})})]})}))},mEMi:function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("q1tI"),o=n("DzJC"),r=n.n(o);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class s extends i.PureComponent{constructor(...e){super(...e),a(this,"setContainerRef",e=>{this.containerRef=e}),a(this,"fetchMoreIfNecessary",r()(()=>{const{fetchMore:e,scrollBuffer:t}=this.props;e&&this.containerRef&&(({scrollTop:e,clientHeight:t,scrollHeight:n},i)=>e+t+(i?i(t):2*t)>n)(this.containerRef,t)&&e()},200))}componentDidMount(){setTimeout(this.fetchMoreIfNecessary)}componentDidUpdate(){this.fetchMoreIfNecessary()}render(){const{children:e}=this.props;return e({onScroll:this.fetchMoreIfNecessary,setRef:this.setContainerRef})}}},mHb8:function(e,t,n){n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}));const i=(e,t)=>{var n;const i="object"==typeof t.owner?null===(n=t.owner)||void 0===n?void 0:n.id:t.owner;return e.isAuth&&i===e.id},o=(e,t)=>Boolean(e.isAuth&&t.collaborated_by_me),r=(e,t)=>i(e,t)?3069:3070},mLS1:function(e,t,n){var i=n("q1tI"),o=n("/MKj"),r=n("82UD"),a=n("DBaX"),s=n("n6mq"),c=n("nKUr");function l({handleTogglePinSelection:e,index:t,isSelected:n,pin:i}){return Object(c.jsx)(s.bb,{onTap:()=>{e(t)},rounding:a.c,children:Object(c.jsx)(r.default,{attributionOption:"hide",blockClickEvents:!0,pin:i,pinId:i.id,pinImageCrop:"none",saveButtonOptions:{type:"none"},selectionState:n?"selected":"no-selection",surface:"BoardCoverSelectablePin",trackingParameters:{slotIndex:t}})})}var d=n("yweb");var u=({boardPins:e,coverPinIndex:t,fetchMore:n,isLoaded:i,handleTogglePinSelection:o})=>{const r=Object(d.c)();return i?Object(c.jsx)(s.f,{paddingY:4,children:Object(c.jsx)(s.E,{columnWidth:152,comp:({data:e,itemIdx:n})=>Object(c.jsx)(l,{handleTogglePinSelection:o,index:n,isSelected:t===n,pin:e}),gutterWidth:16,items:e||[],loadItems:n})}):Object(c.jsx)(s.f,{padding:6,children:Object(c.jsx)(s.U,{show:!0,accessibilityLabel:r._("Loading","BoardCoverEdit.Accessibility.Label","accessibility label for loading spinner")})})},h=n("TgLd"),b=n("eOdZ"),p=n("QO9Q"),f=n("xkL+"),g=n("Wrea"),m=n("0Xtd"),j=n("yaUg"),v=n("pLLR");function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const y={border:0,top:120};class x extends i.Component{constructor(...e){super(...e),O(this,"state",{deltaY:0,deltaX:0,holderHeight:0,holderWidth:0,isSpinnerShown:!0,startBgPos:{left:0,top:0}}),O(this,"handleUpdateImage",()=>{const e=this.image;if(!e)return;const t=e.offsetHeight,n=e.offsetWidth;this.setState({isSpinnerShown:!1,startBgPos:{left:-(n-this.state.holderWidth)/2,top:-(t-this.state.holderHeight)/2}})}),O(this,"handleOnMouseUp",()=>{this.isDragging&&(this.isDragging=!1,this.setState({startBgPos:{left:this.getBgLeft(),top:this.getBgTop()},deltaX:0,deltaY:0}),this.props.updateImgCrop(this.getCropData()))}),O(this,"isDragging",!1)}componentDidMount(){this.holder&&this.setState({holderHeight:this.holder.offsetHeight,holderWidth:this.holder.offsetWidth})}componentDidUpdate(e){e.pin.id!==this.props.pin.id&&this.setState({isSpinnerShown:!0})}getFrameBounds(){const{frameHeight:e,frameWidth:t}=this.props,{holderHeight:n,holderWidth:i}=this.state;return{left:i/2-t/2,width:t,height:e,top:n/2-e/2}}getBgLeft(){const{frameWidth:e}=this.props,t=this.getFrameBounds(),n=this.getImgScale(),i=this._getImageDimensions(),o=i.imgHeight*n,r=i.imgWidth*n;let a=0;return o&&r&&(a=this.state.startBgPos.left+this.state.deltaX,a+r-e<t.left&&(a=t.left-r+e),a>t.left&&(a=t.left)),a}getBgTop(){const{frameHeight:e}=this.props,t=this.getFrameBounds(),n=this.getImgScale(),i=this._getImageDimensions(),o=i.imgHeight*n,r=i.imgWidth*n;let a=0;return o&&r&&(a=this.state.startBgPos.top+this.state.deltaY,a+o-e<t.top&&(a=t.top-o+e),a>t.top&&(a=t.top)),a}getImgScale(){const{frameHeight:e,frameWidth:t}=this.props,{imgHeight:n,imgWidth:i}=this._getImageDimensions(),o=this.getFrameBounds();if(n&&i){let r=n/i;return r=r>=o.height/o.width?t/i:e/n,r}return 1}getImageBounds(){const{imgHeight:e,imgWidth:t}=this._getImageDimensions();let n={};if(e&&t){const i=this.getImgScale();n={width:i*t,height:i*e}}return n}getBgBounds(){return{left:this.getBgLeft(),top:this.getBgTop()}}getCropData(){const{frameHeight:e,frameWidth:t}=this.props,n=this.getFrameBounds(),i=this.getBgBounds(),o=this.getImgScale();return{cropX:Math.round(-(i.left-n.left)/o),cropY:Math.round(-(i.top-n.top)/o),height:Math.round(e/o),width:Math.round(t/o),scale:o}}handleOnMouseDown(e){0===e.button&&(e.stopPropagation(),this.isDragging=!0,this.originX=e.pageX,this.originY=e.pageY)}handleOnMouseMove(e){this.isDragging&&this.setState({deltaX:e.pageX-(this.originX||0),deltaY:e.pageY-(this.originY||0)})}_getImageDimensions(){var e,t,n;const{pin:i}=this.props,o=null===(e=i.images)||void 0===e?void 0:e["236x"];return{imgHeight:null!==(t=null==o?void 0:o.height)&&void 0!==t?t:1,imgWidth:null!==(n=null==o?void 0:o.width)&&void 0!==n?n:1}}render(){var e,t;const{boardName:n,frameHeight:i,frameWidth:o,hideCoverNavigation:r,isFirst:a,isLast:l,isRTL:d,pin:u,showNextPin:h,showPrevPin:b}=this.props,{isSpinnerShown:p}=this.state,{imgHeight:f,imgWidth:g}=this._getImageDimensions(),m=this.getFrameBounds(),v=this.getImageBounds(),O=this.getBgBounds();let x="";return f&&g&&(x="in"),Object(c.jsxs)("div",{className:"ImageCrop",children:[Object(c.jsxs)("div",{className:"holder",ref:e=>{this.holder=e},children:[Object(c.jsx)("div",{className:"bg",style:O,children:Object(c.jsx)("img",{alt:Object(j.a)(this.props.i18n._("Board cover for {{ boardName }}"),{boardName:n}),className:x,onLoad:this.handleUpdateImage,ref:e=>{this.image=e},src:null===(e=u.images)||void 0===e||null===(t=e["236x"])||void 0===t?void 0:t.url,style:v})}),Object(c.jsxs)("div",{className:"mask",children:[Object(c.jsx)("span",{style:{top:0,left:0,right:0,height:m.top}}),Object(c.jsx)("span",{style:{top:m.top,left:m.left+o,right:0,height:i}}),Object(c.jsx)("span",{style:{top:i+m.top,left:0,right:0,bottom:0}}),Object(c.jsx)("span",{style:{top:m.top,left:0,width:m.left,height:i}})]}),Object(c.jsx)("div",{className:"frame",style:m}),Object(c.jsx)("div",{className:"drag",onMouseDown:e=>{this.handleOnMouseDown(e)},onMouseMove:e=>{this.handleOnMouseMove(e)},onMouseUp:()=>{this.handleOnMouseUp()},role:"presentation"}),Object(c.jsx)("div",{className:"spinner",style:{display:p?"":"none"}})]}),a||r?null:Object(c.jsx)(s.f,{position:"absolute",width:46,height:46,dangerouslySetInlineStyle:{__style:{...y,left:d?void 0:100,right:d?100:void 0}},children:Object(c.jsx)(s.x,{icon:"arrow-back",accessibilityLabel:this.props.i18n._("Previous","Label for indicating selecting the previous pin","Label for indicating selecting the previous pin"),onClick:b})}),l||r?null:Object(c.jsx)(s.f,{position:"absolute",width:46,height:46,dangerouslySetInlineStyle:{__style:{...y,left:d?100:void 0,right:d?void 0:100}},children:Object(c.jsx)(s.x,{icon:"arrow-forward",accessibilityLabel:this.props.i18n._("Next","Label for indicating selecting the previous pin","Label for indicating selecting the previous pin"),onClick:h})})]})}}function _(e){const t=Object(d.c)(),{isRTL:n}=Object(v.d)();return Object(c.jsx)(x,{...e,isRTL:!!n,i18n:t})}var w=n("w70y");function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e){return e.reduce((e,t)=>("pin"===t.type&&e.push(t),e),[])}function I({boardFeedResource:{data:e},coverPinId:t}){return Math.max(0,S(e||[]).findIndex(e=>e.id===t))}class E extends i.Component{constructor(...e){super(...e),C(this,"state",{coverPinIndex:I(this.props),imgCropData:null,selectedCoverPin:null,previousBoardFeedResourceData:null}),C(this,"handleSave",()=>{var e,t,n;const{boardId:i,dispatch:o,viewer:r,orbacActingAs:a}=this.props,{coverPinIndex:s,imgCropData:c}=this.state,l=(this.pins||[])[s],d=Object(m.a)(r,a);if(!l)return;const u=null===(e=l.images)||void 0===e?void 0:e["236x"],h=null==u?void 0:u.url,p=c?{crop_x:c.cropX,crop_y:c.cropY,height:c.height,width:c.width,scale:c.scale}:{crop_x:0,crop_y:0,height:null==u?void 0:u.height,width:null==u?void 0:u.width,scale:1},f={board_id:i,url:h,pin_id:l.id,pin_image_url:h,...p,...d?{orbac_subject_id:d}:Object.freeze({})},j={height:null!==(t=null==u?void 0:u.height)&&void 0!==t?t:0,width:null!==(n=null==u?void 0:u.width)&&void 0!==n?n:0,x:c?c.cropX:0,y:c?c.cropY:0};b.d.create("BoardResource",f).callUpdate().then(()=>{this.props.onSave(null!=h?h:""),o(Object(g.a)(i,{custom_cover:!0,scale:c?c.scale:1,pin_id:l.id,crop:j,image_url:null!=h?h:""}))})}),C(this,"updateImgCrop",e=>this.setState({imgCropData:e})),C(this,"handleShowNextPin",()=>{const{boardFeedResource:{isAtEnd:e,isFetching:t,fetchMore:n}}=this.props,i=(this.pins||[]).length;i&&this.setState(({coverPinIndex:e})=>({coverPinIndex:(e+1)%i}),()=>{this.pins&&this.state.coverPinIndex+5>=this.pins.length&&!e&&!t&&n()})}),C(this,"handleShowPrevPin",()=>{const e=(this.pins||[]).length;e&&this.setState(({coverPinIndex:t})=>({coverPinIndex:(t||e)-1}))}),C(this,"handleTogglePinSelection",e=>{const t=this.pins||[];this.setState({coverPinIndex:e,selectedCoverPin:t[e]})}),C(this,"handleCoverEditBackButtonClick",()=>{this.setState({selectedCoverPin:null})}),C(this,"renderBoardCoverMasonry",()=>{const{coverPinIndex:e,selectedCoverPin:t}=this.state,{boardName:n,boardFeedResource:i,frameHeight:o,frameWidth:r}=this.props,a=this.pins||[],{data:s,fetchMore:l,isLoaded:d}=i;return t?Object(c.jsx)(_,{boardName:n,frameHeight:null!=o?o:236,frameWidth:null!=r?r:236,isFirst:!e,isLast:e===a.length-1,pin:t,showNextPin:this.handleShowNextPin,showPrevPin:this.handleShowPrevPin,updateImgCrop:this.updateImgCrop,hideCoverNavigation:!0}):Object(c.jsx)(u,{boardPins:s,coverPinIndex:e,fetchMore:l,handleTogglePinSelection:this.handleTogglePinSelection,isLoaded:d})}),C(this,"renderCoverEditHeader",()=>Object(c.jsx)(s.u,{alignItems:"center",justifyContent:"center",height:80,children:Object(c.jsx)(s.f,{width:"100%",padding:4,children:Object(c.jsxs)(s.u,{alignItems:"center",justifyContent:"between",children:[Object(c.jsx)(s.x,{accessibilityLabel:this.props.i18n._("Navigate to cover picker","BoardEdit.back.button","Cover picker navigate back button"),icon:"arrow-back",iconColor:"darkGray",onClick:this.handleCoverEditBackButtonClick}),Object(c.jsx)(s.v,{size:"md",children:this.props.i18n._("Move and scale to crop","BoardEdit.Heading.Experiment.Text","edit board heading")}),Object(c.jsx)(s.x,{accessibilityLabel:this.props.i18n._("Cancel change board cover","BoardCoverEdit.icon.cancel","Cancel board cover edit"),icon:"cancel",iconColor:"darkGray",onClick:this.props.onCancel})]})})}))}static getDerivedStateFromProps(e,t){const n=e.boardFeedResource.data,{previousBoardFeedResourceData:i}=t;return!i&&n?{previousBoardFeedResourceData:n,coverPinIndex:I(e)}:{previousBoardFeedResourceData:n}}componentDidUpdate(e){const t=this.props.boardFeedResource.data,n=e.boardFeedResource.data;(t&&n!==t&&t.length||t&&n&&t.length!==n.length)&&t.forEach(e=>{if("pin"===e.type){(new Image).src=e.url}})}get pins(){const{boardFeedResource:{data:e}}=this.props;return e?S(e):void 0}render(){const{heading:e,onCancel:t}=this.props,{coverPinIndex:n,selectedCoverPin:i}=this.state,o=(this.pins||[])[n];return Object(c.jsx)(h.b,{accessibilityModalLabel:this.props.i18n._("Change Board Cover","accessible label for modal to change board cover image","accessible label for modal to change board cover image"),size:"lg",heading:i?this.renderCoverEditHeader():e,onDismiss:t,footer:i&&Object(c.jsx)(s.u,{alignItems:"stretch",justifyContent:"end",children:Object(c.jsx)(s.f,{padding:2,children:Object(c.jsx)(s.g,{disabled:!o,onClick:this.handleSave,text:this.props.i18n._("Done","BoardCoverEdit.Button.Submit.Exp","Button for saving board cover edit")})})}),children:this.renderBoardCoverMasonry()})}}function T(e){const t=Object(d.c)(),n=Object(o.useDispatch)(),i=Object(w.a)({name:"BoardFeedResource",options:{board_id:e.boardId,field_set_key:"images_only_item",filter_section_pins:!1,page_size:50}});return Object(c.jsx)(E,{...e,boardFeedResource:i,dispatch:n,i18n:t,viewer:Object(f.b)(),orbacActingAs:Object(p.a)()})}var P=n("0rqM");const D=({label:e,labelId:t})=>t?Object(c.jsx)(s.z,{htmlFor:t,children:Object(c.jsx)(s.cb,{size:"sm",children:e})}):Object(c.jsx)(s.cb,{size:"sm",children:e});function B(e){const{children:t,label:n,labelId:o}=e;return Object(c.jsxs)(i.Fragment,{children:[Object(c.jsx)(s.f,{marginBottom:2,children:Object(c.jsx)(D,{label:n,labelId:o})}),t]})}const M=138;function k({coverPin:e,handleShowBoardCoverEditModal:t}){const n=Object(d.c)(),[o,r]=Object(i.useState)(!1),{isRTL:a}=Object(v.d)();return Object(c.jsx)(B,{label:n._("Board cover","BoardForm.BoardFormCoverButton","Form label for updating board cover"),children:Object(c.jsx)(s.f,{width:M,position:"relative",children:Object(c.jsx)(s.bb,{onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),onTap:t,rounding:4,children:null!=e&&e.custom_cover?Object(c.jsxs)(i.Fragment,{children:[Object(c.jsx)(s.D,{height:M,rounding:4,width:M,children:Object(c.jsx)(s.y,{alt:e.image_url,color:"gray",fit:"cover",naturalHeight:e.size&&e.size[0]||M,naturalWidth:e.size&&e.size[0]||M,src:e.image_url})}),Object(c.jsx)(s.f,{position:"absolute",left:a,right:!a,bottom:!0,padding:2,children:Object(c.jsx)(s.f,{alignItems:"center",display:"flex",height:44,justifyContent:"center",rounding:"circle",width:44,dangerouslySetInlineStyle:{__style:{background:o?"white":"rgba(255, 255, 255, 0.8)"}},children:Object(c.jsx)(s.w,{accessibilityLabel:n._("Edit board cover","BoardForm.BoardFormBoardCoverButton","Accessibility label on icon"),icon:"edit",color:"darkGray",size:16})})})]}):Object(c.jsx)(s.f,{alignItems:"center",color:o?"darkWash":"lightGray",display:"flex",height:M,justifyContent:"center",rounding:4,width:M,children:Object(c.jsx)(s.w,{accessibilityLabel:n._("Add cover photo","BoardForm.BoardFormCoverButton","Accessibility label on icon"),color:"darkGray",icon:"add",size:24})})})})})}function R({children:e,label:t,labelId:n,subtext:o}){return Object(c.jsx)(i.Fragment,{children:Object(c.jsxs)(s.f,{alignItems:"start",display:"flex",justifyContent:"start",paddingY:1,children:[e,Object(c.jsx)(s.f,{marginStart:2,children:Object(c.jsxs)(s.z,{htmlFor:n,children:[Object(c.jsx)(s.cb,{size:"lg",weight:"bold",children:t}),o]})})]})})}function A({hasCollabBoardEmail:e,isCollaborative:t,onCheckboxChange:n}){const i=Object(d.c)();return t&&Object(c.jsx)(R,{label:i._("Email notifications","BoardForm.BoardFormCollaboratorsEmailCheckbox","Form label"),labelId:"emailNotificationsCheckbox",subtext:Object(c.jsx)(s.cb,{color:"gray",size:"lg",children:i._("Get an email when someone saves Pins to this board","BoardForm.BoardFormCollaboratorsEmailCheckbox","Text explaing field on board form")}),children:Object(c.jsx)(s.u,{alignItems:"center",justifyContent:"start",children:Object(c.jsx)(s.f,{marginEnd:1,children:Object(c.jsx)(s.k,{checked:e,id:"emailNotificationsCheckbox",name:"email",onChange:n})})})})}var L=n("xUWj"),N=n("qpbZ");function U({board:e,onCollaboratorInviteClick:t}){const n=Object(d.c)(),i=Object(L.b)({boardId:e.id,ownerName:e.owner.full_name,ownerUsername:e.owner.username,ownerImgSrc:e.owner.image_key||e.owner.image_medium_url||e.owner.image_small_url}),o=i.slice(0,3).map(e=>e.name);let r="";switch(i.length){case 3:r=Object(N.c)(""+n._("{{ first }}, {{ second }}, and {{ last }}","CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.ThreeAvatars","List of three usernames"),{first:""+o[0],second:""+o[1],last:""+o[2]});break;case 2:r=Object(N.c)(""+n._("{{ first }} and {{ second }}","CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.TwoAvatars","List of two usernames."),{first:""+o[0],second:""+o[1]});break;default:r=o.join(", ")}const a=i.length>3?Object(N.c)(n.ngettext("Collaborators: {{ userNames }} and {{ leftCount }} more.","Collaborators: {{ userNames }} and {{ leftCount }} more.",i.length-3,"CollaboratorsFacePile.AvatarGroup.accessibilityLabel.aboveThree","Accessibility label that lists the names of collaborators and a final count of non-displayed avatars"),{userNames:r,leftCount:""+(i.length-3)}):Object(N.c)(""+n._("Collaborators: {{ userNames }}.","CollaboratorsFacePile.AvatarGroup.accessibilityLabel.notAboveThree","Accessibility label that lists the names of collaborators"),{userNames:r});return Object(c.jsxs)(s.u,{alignItems:"center",justifyContent:"between",children:[Object(c.jsx)(s.c,{accessibilityLabel:a,collaborators:i.map(({name:e,src:t})=>({src:null!=t&&t.endsWith("/default_75.png")?void 0:t,name:e})),size:"md"}),Object(c.jsx)(s.x,{accessibilityLabel:n._("Invite collaborators","BoardEdit.BoardCollaboratorsAndInviteSection","Accessibility label on button"),bgColor:"lightGray",icon:"add",iconColor:"darkGray",onClick:t,size:"lg"})]})}var F=n("KEt0"),H=n("EC51"),z=n("kmwA");function q({board:e,onCollaboratorInviteClick:t}){const n=Object(d.c)(),i=Object(c.jsxs)(s.u,{alignItems:"center",justifyContent:"start",children:[Object(c.jsx)(s.cb,{size:"sm",inline:!0,children:n._("Collaborators")}),Object(c.jsx)(F.a,{}),Object(c.jsx)(s.cb,{inline:!0,size:"sm",weight:"bold",children:Object(c.jsx)(H.a,{inline:!0,target:"blank",href:z.a.settings.HELP_BOARDS_INVITE_URL_SRC_CREATE,children:n._("Learn more")})})]});return Object(c.jsx)(B,{alignTop:!0,label:i,labelId:"collaborators",children:Object(c.jsx)(U,{board:e,onCollaboratorInviteClick:t})})}function G({collaboratorInvitesEnabled:e,isCollaborative:t,onCheckboxChange:n}){const i=Object(d.c)();return t&&Object(c.jsx)(R,{label:i._("Let collaborators add people","BoardForm.BoardFormCollaboratorsInviteToggle","Form label"),labelId:"collaboratorInvitesEnabledCheckbox",children:Object(c.jsx)(s.k,{checked:e,id:"collaboratorInvitesEnabledCheckbox",name:"collaboratorInvitesEnabled",onChange:n})})}function W({description:e,descriptionValidatorErrors:t,onChange:n}){const i=Object(d.c)(),o="boardEditDescription";return Object(c.jsx)(B,{alignTop:!0,label:i._("Description","BoardForm.BoardFormDescription"," Form field label"),labelId:o,children:Object(c.jsx)(s.db,{errorMessage:t.join(", "),id:o,name:"description",onChange:n,placeholder:i._("What's your board about?"),value:e})})}var V=({children:e})=>Object(c.jsx)(s.f,{paddingX:8,role:"list",children:i.Children.map(e,(t,n)=>t&&Object(c.jsx)(s.f,{role:"listitem",marginBottom:n===i.Children.count(e)-1?1:8,children:t},n))}),K=n("JW66");function Y({isProtectedToggler:e,isToggleDisable:t,onChange:n,onCheckboxChange:o,privacy:r}){const a=Object(d.c)();if(!0===e)return Object(c.jsx)(R,{label:a._("Protected board (not listed on user's profile)","BoardForm.BoardFormSecretToggle","protected board"),labelId:"protected",children:Object(c.jsx)(s.f,{paddingY:2,children:Object(c.jsx)(s.X,{onChange:n,switched:r===K.a.BoardPrivacy.PROTECTED,id:"protected",disabled:t})})});if(r!==K.a.BoardPrivacy.PROTECTED){const e=a._("Keep this board secret","BoardForm.BoardFormSecretToggle","Caption for board settings to set visibility"),n=Object(c.jsx)(i.Fragment,{children:Object(c.jsxs)(s.cb,{color:"gray",size:"lg",children:[a._("So only you and collaborators can see it.","BoardForm.BoardFormSecretToggle","notifying the board owner only they and the collaborators can see the board if it set to secret")," ",Object(c.jsx)(H.a,{inline:!0,target:"blank",href:z.a.settings.HELP_BOARDS_SECRET_URL_SRC_CREATE,children:a._("Learn more","BoardForm.BoardFormSecretToggle","Link to learn more about secret boards")})]})});return Object(c.jsx)(R,{label:e,labelId:"secret",subtext:n,children:Object(c.jsx)(s.u,{alignItems:"center",justifyContent:"start",children:Object(c.jsx)(s.k,{checked:r===K.a.BoardPrivacy.SECRET,id:"secret",name:"secret",onChange:o,disabled:t})})})}return null}function X({allowHomefeedRecommendations:e,onCheckboxChange:t}){const n=Object(d.c)();return Object(c.jsx)(R,{label:n._("Personalization","BoardForm.BoardFormRecommendationToggle","form label"),labelId:"recommendation",subtext:Object(c.jsx)(s.cb,{color:"gray",size:"lg",children:n._("Show Pins inspired by this board in your home feed.","BoardForm.BoardFormRecommendationToggle","Caption for board settings to set visibility")}),children:Object(c.jsx)(s.k,{checked:e,id:"recommendation",name:"recommendation",onChange:t})})}function Q({name:e,nameValidatorErrors:t,onChange:n}){const i=Object(d.c)();return Object(c.jsx)(B,{label:i._("Name","BoardForm.BoardFormTitleInput","Form field label"),labelId:"boardEditName",children:Object(c.jsx)(s.eb,{errorMessage:t.join(", "),id:"boardEditName",name:"boardName",onChange:n,placeholder:i._('Like "Places to Go" or "Recipes to Make"'),size:"lg",value:e})})}var Z=n("4dcN"),$=n("eBDd"),J=n("vvax"),ee=n("nGHF"),te=n("c50B");function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ie=(e,t)=>Object(te.j)({max:e,maxErrorString:Object($.a)(t._("Please enter no more than {{ maxLength }} characters.","Validation error when a string is too long","Validation error when a string is too long"),{maxLength:e})}),oe=e=>[ie(K.a.MAX_CHARS_FOR_BOARD_PIN_DESCRIPTION,e)],re=e=>[Object(te.p)({message:e._("Don't forget to name your board!")}),ie(K.a.MAX_CHARS_FOR_BOARD_TITLE,e)],ae=({condition:e,children:t})=>e?Object(c.jsx)(s.f,{position:"absolute",zIndex:h.a,children:t}):t;class se extends i.Component{constructor(e){super(e),ne(this,"handleChangeName",({value:e})=>{const t=Object(te.s)(re(this.props.i18n),e);this.setState({name:e,nameValidatorErrors:t})}),ne(this,"handleChangeDescription",({value:e})=>{const t=Object(te.s)(oe(this.props.i18n),e);this.setState({description:e,descriptionValidatorErrors:t})}),ne(this,"handleChangePrivacyToggle",({value:e})=>{let t="public";e&&(t=this.props.isAdAccount?"protected":"secret"),this.state.privacy!==t&&this.setState({privacy:t})}),ne(this,"handleChangePrivateToggle",({value:e})=>{this.setState({privacy:e?"secret":"public"})}),ne(this,"handleEnableSecret",()=>{this.setState({privacy:"secret",showSecretConfirmation:!1})}),ne(this,"handleShowSecretConfirmation",()=>{this.setState({showSecretConfirmation:!0})}),ne(this,"handleHideSecretConfirmation",()=>{this.setState({showSecretConfirmation:!1})}),ne(this,"handleChangeRecommendationToggle",({value:e})=>{this.setState({allowHomefeedRecommendations:e})}),ne(this,"handleChangeCollabBoardEmail",({value:e})=>{this.setState({collab_board_email:e})}),ne(this,"handleChangeCollaboratorInvitesEnabled",({value:e})=>{this.setState({collaboratorInvitesEnabled:e})}),ne(this,"handleCancel",()=>{Z.a.trackEvent(this.props.gaCategory,"click_cancel"),this.props.onClose()}),ne(this,"handleCheckboxChange",e=>({event:t,checked:n})=>e({event:t,value:n})),ne(this,"handleSubmit",e=>{const{onSubmit:t}=this.props,{collab_board_email:n,collaboratorInvitesEnabled:i,description:o,name:r,privacy:a,allowHomefeedRecommendations:s}=this.state;if(e.preventDefault&&e.preventDefault(),this.submitDisabled())return;const c=r.trim(),l=o.trim();this.setState({submitting:!0,submitError:""}),Z.a.trackEvent(this.props.gaCategory,"click_submit"),t({name:c,collab_board_email:n,collaborator_invites_enabled:i,description:l,privacy:a,allow_homefeed_recommendations:s}).then(()=>{this.setState({submitting:!1})}).catch(e=>{let t=this.props.i18n._("Uh oh! Something went wrong.");if(e.message){const{message:n,message_detail:i}=e;t=i?`${n} ${i}`:n}else"string"==typeof e&&(t=e);this.setState({submitting:!1,submitError:t})})}),ne(this,"handleShowBoardCoverEditModal",()=>{this.setState({showBoardCoverEdit:!0})}),ne(this,"handleHideBoardCoverEditModal",()=>{this.setState({showBoardCoverEdit:!1})}),ne(this,"handleSaveBoardCoverEditModal",e=>{this.handleHideBoardCoverEditModal();const{onCropChange:t}=this.props;t&&t(e)});const{board:{collab_board_email:t,collaborator_invites_enabled:n,description:i,name:o,pin_count:r,privacy:a,allow_homefeed_recommendations:s}}=e;this.state={collab_board_email:t,description:i,name:o,pin_count:r,privacy:a,allowHomefeedRecommendations:s,collaboratorInvitesEnabled:n,nameValidatorErrors:[],descriptionValidatorErrors:[],showBoardCoverEdit:!1,showSecretConfirmation:!1,submitting:!1,previousName:o,previousDescription:i,previousPrivacy:a}}static getDerivedStateFromProps(e,t){const n={};return e.board.name!==t.previousName&&(n.previousName=e.board.name,n.nameValidatorErrors=Object(te.s)(re(e.i18n),e.board.name)),e.board.description!==t.previousDescription&&(n.previousDescription=e.board.description,n.descriptionValidatorErrors=Object(te.s)(oe(e.i18n),e.board.description)),e.board.privacy!==t.previousPrivacy&&(n.previousPrivacy=e.board.privacy),n}getFormFooter(){const{submitText:e}=this.props,{submitError:t}=this.state;return Object(c.jsxs)(i.Fragment,{children:[Object(c.jsx)(s.u,{alignItems:"center",justifyContent:"end",wrap:!0,children:Object(c.jsx)(s.f,{children:Object(c.jsx)(s.u,{alignItems:"stretch",justifyContent:"start",children:Object(c.jsx)(s.f,{height:48,children:Object(c.jsx)(s.g,{color:"red",disabled:this.submitDisabled(),onClick:this.handleSubmit,size:"lg",text:e,type:"submit"})})})})}),t&&Object(c.jsx)(s.f,{paddingX:1,children:Object(c.jsx)(s.cb,{color:"red",children:t})})]})}submitDisabled(){const{descriptionValidatorErrors:e,name:t,nameValidatorErrors:n,submitting:i}=this.state;return!t||n.length>0||e.length>0||i}render(){const{board:e,board:{archived_by_me_at:t,cover_pin:n,id:o,is_collaborative:r},coverImageHeight:a,coverImageWidth:l,currentUserIsOwner:d,handleBoardLeave:u,isAdAccount:b,isAdAccountOwner:p,isDeletable:f,isEditable:g,isNameAndSecretView:m,onClose:j,onCollaboratorInviteClick:v,onDeleteButtonClick:O,title:y,useModalWithNoLayer:x}=this.props,{allowHomefeedRecommendations:_,collab_board_email:w,collaboratorInvitesEnabled:C,description:S,descriptionValidatorErrors:I,name:E,nameValidatorErrors:D,pin_count:B,privacy:M,showBoardCoverEdit:R,showSecretConfirmation:L}=this.state,N=g&&B>0;let U=Object(c.jsxs)(V,{children:[N&&Object(c.jsx)(k,{coverPin:n,handleShowBoardCoverEditModal:this.handleShowBoardCoverEditModal}),Object(c.jsx)(Q,{name:E,nameValidatorErrors:D,onChange:this.handleChangeName}),Object(c.jsx)(W,{description:S,descriptionValidatorErrors:I,onChange:this.handleChangeDescription}),d&&!!u&&!!v&&Object(c.jsx)(q,{board:e,onCollaboratorInviteClick:v}),Object(c.jsx)(s.f,{marginBottom:-7,children:Object(c.jsx)(s.cb,{size:"sm",children:this.props.i18n._("Settings","BoardForm.BoardForm","Section heading in board edit form")})}),Object(c.jsx)(Y,{isProtectedToggler:!!b,isToggleDisable:!!b&&!p,onChange:this.handleChangePrivacyToggle,onCheckboxChange:this.handleCheckboxChange(this.handleChangePrivacyToggle),privacy:M}),!t&&Object(c.jsx)(X,{allowHomefeedRecommendations:_,onCheckboxChange:this.handleCheckboxChange(this.handleChangeRecommendationToggle)}),Object(c.jsx)(A,{hasCollabBoardEmail:w,isCollaborative:r,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollabBoardEmail)}),Object(c.jsx)(G,{collaboratorInvitesEnabled:C,isCollaborative:r,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollaboratorInvitesEnabled)}),f&&Object(c.jsxs)(s.f,{marginTop:-6,paddingY:4,children:[Object(c.jsx)(s.cb,{size:"sm",children:this.props.i18n._("Action","BoardForm.BoardForm.Action","Section heading in board edit form")}),Object(c.jsxs)(s.bb,{onTap:O,children:[Object(c.jsx)(s.f,{marginTop:2,marginBottom:1,"data-test-id":"deleteBoardButton",children:Object(c.jsx)(s.v,{size:"sm",children:this.props.i18n._("Delete board","BoardForm.Delete","Delete board label")})}),Object(c.jsx)(s.cb,{size:"lg",color:"gray",children:this.props.i18n._("Delete this board and all its Pins forever.","BoardForm.BoardForm.Delete.Label","Delete board warning text")}),Object(c.jsx)(s.cb,{size:"lg",color:"gray",children:this.props.i18n._("You can't undo this!","BoardForm.BoardForm.Delete.LabelTwo","Delete board warning text")})]})]})]});d?m&&(U=Object(c.jsxs)(V,{children:[Object(c.jsx)(Q,{name:E,nameValidatorErrors:D,onChange:this.handleChangeName}),Object(c.jsx)(Y,{isProtectedToggler:!!b,isToggleDisable:!!b&&!p,onChange:this.handleChangePrivacyToggle,privacy:M,onCheckboxChange:this.handleCheckboxChange(this.handleChangePrivacyToggle)})]})):U=Object(c.jsxs)(V,{children:[!!u&&!!v&&Object(c.jsx)(q,{board:e,onCollaboratorInviteClick:v}),Object(c.jsx)(A,{hasCollabBoardEmail:w,isCollaborative:r,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollabBoardEmail)}),!t&&Object(c.jsx)(X,{allowHomefeedRecommendations:_,onCheckboxChange:this.handleCheckboxChange(this.handleChangeRecommendationToggle)}),Object(c.jsx)(s.cb,{color:"gray",size:"lg",children:Object(J.b)(this.props.i18n._("Only the board’s owner ({{ boardOwner }}) can manage the rest of its features","BoardForm.CollaboratorPermissionsCopy","Copy on board edit form letting collaborators know of their permissions on a board"),{boardOwner:Object(c.jsx)(s.cb,{color:"gray",inline:!0,size:"lg",weight:"bold",children:e.owner.full_name})})})]});const F=x?s.H:h.b,H=this.props.i18n._("Change board cover","BoardForm.BoardCoverEdit.heading","Change board cover heading"),z=Object(c.jsx)(s.u,{alignItems:"center",justifyContent:"center",height:80,children:Object(c.jsx)(s.f,{marginStart:"auto",width:"66%",padding:4,children:Object(c.jsxs)(s.u,{alignItems:"center",justifyContent:"between",children:[Object(c.jsx)(s.v,{size:"md",children:H}),Object(c.jsx)(s.x,{accessibilityLabel:this.props.i18n._("Cancel change board cover","BoardForm.BoardCoverEdit.cancel","Cancel change board cover heading"),icon:"cancel",iconColor:"darkGray",onClick:this.handleHideBoardCoverEditModal})]})})});return Object(c.jsxs)(i.Fragment,{children:[Object(c.jsx)(ae,{condition:!!x,children:!R&&Object(c.jsx)(F,{accessibilityModalLabel:this.props.i18n._("Board form","BoardForm.BoardForm","Accessibility label on board form"),size:"sm",onDismiss:j,footer:this.getFormFooter(),heading:y,children:Object(c.jsx)(s.f,{marginEnd:"auto",marginStart:"auto",rounding:2,children:Object(c.jsx)("form",{method:"post",onSubmit:this.handleSubmit,children:U})})})}),R&&Object(c.jsx)(T,{boardId:o,boardName:E,coverPinId:null==n?void 0:n.pin_id,frameHeight:a,frameWidth:l,heading:z,onCancel:this.handleHideBoardCoverEditModal,onSave:this.handleSaveBoardCoverEditModal}),L&&Object(c.jsx)(P.a,{confirmButtonLabel:this.props.i18n._("Make secret","Setting the boards visibility to secret","Setting the boards visibility to secret"),heading:this.props.i18n._("Are you sure?","Warning label asking users to be sure of their action","Warning label asking users to be sure of their action"),message:this.props.i18n._("If you make this board secret, some active ads will stop running","Explicitly warning users of the board visibility action they are doing","Explicitly warning users of the board visibility action they are doing"),onCancel:this.handleHideSecretConfirmation,onConfirm:this.handleEnableSecret})]})}}ne(se,"defaultProps",{isNameAndSecretView:!1});t.a=Object(ee.c)((function(e){const t=Object(d.c)();return Object(c.jsx)(se,{...e,i18n:t})}))},mc7v:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return null===t?null===e:Array.isArray(e)?e.some((function(e){return e===t})):e===t}},mmKv:function(e,t,n){var i=n("/MKj"),o=n("+ip3"),r=n("ELJR"),a=n("g5OB"),s=n("n6mq"),c=n("nKUr");const l=1.25*a.a;function d({story:e}){const{action:{text:t,url:n},custom_properties:{image:i,image_alt:o}}=e;return Object(c.jsxs)(s.f,{position:"relative",children:[Object(c.jsx)(s.D,{rounding:4,height:l,width:a.a,children:Object(c.jsx)(s.y,{alt:o,color:"black",fit:"cover",naturalHeight:2688,naturalWidth:2e3,src:i})}),Object(c.jsx)(s.f,{bottom:!0,display:"flex",justifyContent:"center",position:"absolute",width:a.a,padding:4,children:Object(c.jsx)(s.g,{role:"link",href:n,fullWidth:!0,color:"white",text:t})})]})}t.a=Object(i.connect)((e,t)=>({story:e.stories[t.storyId]}),()=>({}))((function({story:e,...t}){if(!e)return null;switch(e.story_type){case"BUBBLE_ONE_COL":return Object(c.jsx)(r.a,{bubbles:e.objects,id:t.storyId,referringSource:e.referring_source,slotIndex:t.slot,storyType:e.story_type,title:e.title,viewType:t.viewType,viewParameter:t.viewParameter});case"feed_card_default":case"feed_card_video":return Object(c.jsx)(d,{story:e});case"add_pin":return Object(c.jsx)(o.b,{});default:return null}}))},mvLR:function(e,t,n){function i(e){let t=!1;return{promise:new Promise((n,i)=>{e.then(e=>t?i({isCanceled:!0}):n(e),e=>i(t?{isCanceled:!0}:e))}),cancel(){t=!0}}}n.d(t,"a",(function(){return i}))},mwIZ:function(e,t,n){var i=n("ZWtO");e.exports=function(e,t,n){var o=null==e?void 0:i(e,t);return void 0===o?n:o}},n34E:function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("q1tI"),o=n("82UD"),r=n("n6mq"),a=n("nKUr");function s({index:e,isSelected:t,pin:n,handlePinSelectionChanged:s}){const c=n.id,l=Object(i.useCallback)(({event:e})=>{e.preventDefault(),e.stopPropagation(),s(c,!t)},[c,t]);return Object(a.jsx)(r.bb,{onTap:l,rounding:4,children:Object(a.jsx)(o.default,{attributionOption:"hide",blockClickEvents:!0,pin:n,pinId:n.id,pinImageCrop:"none",saveButtonOptions:{type:"none"},selectionState:t?"selected-image-only":"deselected-image-only",surface:"SectionSuggestedPins",trackingParameters:{slotIndex:e}})})}},nGHF:function(e,t,n){n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s}));var i=n("1dBE");const{Provider:o,Consumer:r,useHook:a,HOC:s}=Object(i.a)("toastManagerContext")},nRAE:function(e,t,n){n.d(t,"a",(function(){return d}));var i=n("q1tI"),o=n("EC51"),r=n("kmwA"),a=n("yweb"),s=n("n6mq"),c=n("nKUr");const l={xs:12,sm:16,md:20,lg:24};function d({hasVerifiedIdentity:e,iconOnly:t,isVerifiedMerchant:n,showText:d,size:u}){const h=Object(a.c)(),b=Object(c.jsxs)(s.u,{alignItems:"center",justifyContent:"start",children:[Object(c.jsx)(s.w,{accessibilityLabel:h._("Merchant verification badge icon","merchantVerification.badge.icon","Badge indicating that a merchant or user is verified"),color:"blue",icon:"workflow-status-ok",inline:!0,size:l[u]}),d&&Object(c.jsx)(s.f,{marginStart:2,children:Object(c.jsx)(s.cb,{color:"blue",inline:!0,weight:"bold",children:h._("Verified merchant","creator.header.verifiedMerchant","this merchant is a verified merchant")})})]});return Object(c.jsxs)(i.Fragment,{children:[n&&!t&&Object(c.jsx)(s.gb,{link:Object(c.jsx)(o.a,{href:r.a.settings.HELP_SHOPPING_WITH_PINTEREST,target:"blank",children:Object(c.jsx)(s.cb,{color:"white",size:"sm",weight:"bold",children:h._("Learn more","verifiedBadge.tooltip.link","Learn more about Pinterest's Merchant Guidelines")})}),text:h._("This retailer meets Pinterest's Merchant Guidelines","merchantVerification.badge.tooltip","Badge indicating that a merchant or user is verified"),children:b}),n&&t&&b,e&&!n&&Object(c.jsx)(s.w,{accessibilityLabel:h._("Domain verification icon","domainVerification.badge.icon","Badge indicating that a merchant or user is verified"),color:"red",icon:"check-circle",size:l[u]})]})}},nrB0:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("2S0S"),o=!1,r=!1,a=function(){function e(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}return e.prototype.receiveHandlerId=function(e){this.sourceId=e},e.prototype.getHandlerId=function(){return this.sourceId},e.prototype.canDrag=function(){i(!o,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return o=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{o=!1}},e.prototype.isDragging=function(){if(!this.sourceId)return!1;i(!r,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return r=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{r=!1}},e.prototype.subscribeToStateChange=function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)},e.prototype.isDraggingSource=function(e){return this.internalMonitor.isDraggingSource(e)},e.prototype.isOverTarget=function(e,t){return this.internalMonitor.isOverTarget(e,t)},e.prototype.getTargetIds=function(){return this.internalMonitor.getTargetIds()},e.prototype.isSourcePublic=function(){return this.internalMonitor.isSourcePublic()},e.prototype.getSourceId=function(){return this.internalMonitor.getSourceId()},e.prototype.subscribeToOffsetChange=function(e){return this.internalMonitor.subscribeToOffsetChange(e)},e.prototype.canDragSource=function(e){return this.internalMonitor.canDragSource(e)},e.prototype.canDropOnTarget=function(e){return this.internalMonitor.canDropOnTarget(e)},e.prototype.getItemType=function(){return this.internalMonitor.getItemType()},e.prototype.getItem=function(){return this.internalMonitor.getItem()},e.prototype.getDropResult=function(){return this.internalMonitor.getDropResult()},e.prototype.didDrop=function(){return this.internalMonitor.didDrop()},e.prototype.getInitialClientOffset=function(){return this.internalMonitor.getInitialClientOffset()},e.prototype.getInitialSourceClientOffset=function(){return this.internalMonitor.getInitialSourceClientOffset()},e.prototype.getSourceClientOffset=function(){return this.internalMonitor.getSourceClientOffset()},e.prototype.getClientOffset=function(){return this.internalMonitor.getClientOffset()},e.prototype.getDifferenceFromInitialOffset=function(){return this.internalMonitor.getDifferenceFromInitialOffset()},e}();t.default=a},nwWm:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("QWk2"),o=n("TT16"),r=n("Gytx"),a=function(){function e(e){var t=this;this.backend=e,this.hooks=i.default({dragSource:function(e,n){t.dragSourceOptions=n||null,o.isRef(e)?t.dragSourceRef=e:t.dragSourceNode=e,t.reconnectDragSource()},dragPreview:function(e,n){t.dragPreviewOptions=n||null,o.isRef(e)?t.dragPreviewRef=e:t.dragPreviewNode=e,t.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null}return e.prototype.receiveHandlerId=function(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())},Object.defineProperty(e.prototype,"connectTarget",{get:function(){return this.dragSource},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dragSourceOptions",{get:function(){return this.dragSourceOptionsInternal},set:function(e){this.dragSourceOptionsInternal=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dragPreviewOptions",{get:function(){return this.dragPreviewOptionsInternal},set:function(e){this.dragPreviewOptionsInternal=e},enumerable:!0,configurable:!0}),e.prototype.reconnect=function(){this.reconnectDragSource(),this.reconnectDragPreview()},e.prototype.reconnectDragSource=function(){var e=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();e&&this.disconnectDragSource();var t=this.dragSource;this.handlerId&&(t?e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=t,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,t,this.dragSourceOptions)):this.lastConnectedDragSource=t)},e.prototype.reconnectDragPreview=function(){var e=this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();e&&this.disconnectDragPreview();var t=this.dragPreview;this.handlerId&&t&&e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=t,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,t,this.dragPreviewOptions))},e.prototype.didHandlerIdChange=function(){return this.lastConnectedHandlerId!==this.handlerId},e.prototype.didConnectedDragSourceChange=function(){return this.lastConnectedDragSource!==this.dragSource},e.prototype.didConnectedDragPreviewChange=function(){return this.lastConnectedDragPreview!==this.dragPreview},e.prototype.didDragSourceOptionsChange=function(){return!r(this.lastConnectedDragSourceOptions,this.dragSourceOptions)},e.prototype.didDragPreviewOptionsChange=function(){return!r(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)},e.prototype.disconnectDragSource=function(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)},e.prototype.disconnectDragPreview=function(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)},Object.defineProperty(e.prototype,"dragSource",{get:function(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dragPreview",{get:function(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current},enumerable:!0,configurable:!0}),e}();t.default=a},"oCl/":function(e,t,n){var i=n("CH3K"),o=n("LcsW"),r=n("MvSz"),a=n("0ycA"),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)i(t,r(e)),e=o(e);return t}:a;e.exports=s},oN2T:function(e,t,n){n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"i",(function(){return g})),n.d(t,"f",(function(){return m})),n.d(t,"e",(function(){return j})),n.d(t,"l",(function(){return v})),n.d(t,"g",(function(){return y})),n.d(t,"d",(function(){return x})),n.d(t,"a",(function(){return _})),n.d(t,"k",(function(){return w})),n.d(t,"j",(function(){return C})),n.d(t,"h",(function(){return S}));var i=n("4dcN"),o=n("Pqnw"),r=(n("7w6Q"),n("eOdZ")),a=n("nrog"),s=n("KFEb"),c=n("5FNA"),l=n("NjDU"),d=n("Wer7");const u="board_create",h="board_delete",b="board_edit";function p(e,t){return Object(d.a)("BoardResource",{board_id:e,field_set_key:t})}function f(e={},t,n){return{type:"BOARD_CREATE_COMPLETE",payload:{options:e,board:t},error:n}}function g(e){return t=>{e&&Object(c.b)(e).forEach(e=>{t(e)})}}function m(e,t,n){const o={...e};return s=>(s({type:"BOARD_CREATE",payload:{board:e}}),r.d.create("BoardResource",o).callCreate().then(e=>{i.a.trackEvent(u,"success");const r=e.resource_response.data;return r&&(s(g(n)),null!=t&&t.isFBC||s(f(o,r)),s(Object(a.a)(r.owner.id))),r}).catch(e=>{throw i.a.trackEvent(u,"error"),e}))}function j(e={},t,n){return{type:"BOARD_UPDATE_COMPLETE",payload:{options:e,board:t},error:n}}function v(e,t){return n=>{const o=void 0===e.collaborator_requests_enabled||null===e.collaborator_requests_enabled?{}:{collaborator_requests_enabled:e.collaborator_requests_enabled},a={board_id:e.id,name:e.name,description:e.description,category:e.category,collaborator_permissions_setting:e.collaborator_permissions_setting,privacy:e.privacy,collab_board_email:e.collab_board_email,collaborator_invites_enabled:e.collaborator_invites_enabled,allow_homefeed_recommendations:e.allow_homefeed_recommendations,...t?{orbac_subject_id:t}:Object.freeze({}),...o};return n({type:"BOARD_UPDATE",payload:{boardUpdateOptions:a}}),r.d.create("BoardResource",a).callUpdate().then(t=>{i.a.trackEvent(b,"success");const o=t&&t.resource_response&&t.resource_response.data||e;n(j(a,o))}).catch(e=>{throw i.a.trackEvent(b,"error"),e})}}function O(e,t){return{type:"BOARD_DELETE_COMPLETE",payload:{boardId:e},error:t}}function y(e,t){return(n,o)=>{var a;const s=o().boards.content[e],{pin_count:c}=s,{id:d=""}=null!==(a=s.owner)&&void 0!==a?a:{};return n({type:"BOARD_DELETE",payload:{boardId:e}}),r.d.create("BoardResource",{board_id:e,...t?{orbac_subject_id:t}:Object.freeze({})}).callDelete().then(()=>{i.a.trackEvent(h,"error"),n(O(e)),n(Object(l.c)({userId:d,increment:"number"==typeof c?-c:0}))}).catch(e=>{throw i.a.trackEvent(h,"error"),e})}}function x(e){return{type:"BOARD_PIN_TO",payload:{board:e}}}function _(e){return t=>(t(function(e){return{type:"BOARD_ARCHIVED",payload:{boardId:e}}}(e)),r.d.create("BoardArchiveResource",{boardId:e}).callUpdate())}function w(e){return t=>(t(function(e){return{type:"BOARD_UNARCHIVED",payload:{boardId:e}}}(e)),r.d.create("BoardArchiveResource",{boardId:e}).callDelete())}function C(e,t){return n=>r.d.create("BoardsMergeResource",{source_board_id:e,target_board_id:t}).callUpdate().then(()=>Promise.all([n(O(e)),n(p(t,"pin_count")),n(Object(o.a)(s.a.BOARD_SECTIONS,t))]))}function S(e){return{type:"BOARD_DISMISS_SENSITIVITY_SCREEN",payload:{boardId:e}}}},oRM1:function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("q1tI"),o=n("zQfT");function r({allowSearchOnMount:e,children:t,onTypeaheadSuggestionsChange:n,resourceName:r,resourceOptions:a,value:s}){const c=Object(o.a)({allowSearchOnMount:e,resourceName:r,resourceOptions:a,value:s});return Object(i.useEffect)(()=>{null!=c&&c.length&&n(c)},[c]),t||null}},oRao:function(e,t,n){var i=n("XRfM"),o=n("pLLR"),r=n("nKUr");t.a=({currency:e,maximumFractionDigits:t,minimumFractionDigits:n,shortform:a,shortformMaximumFractionDigits:s,formatStyle:c,uplimit:l,value:d})=>Object(r.jsx)(o.b,{children:o=>Object(i.f)(o.locale||"en-US",d,{currency:e,maximum_fraction_digits:t,minimum_fraction_digits:n,shortform:a,shortform_maximum_fraction_digits:s,style:c,uplimit:l})})},oVol:function(e,t,n){n.d(t,"a",(function(){return i}));const i={BOARD:"board",PIN:"pin",DID_IT:"did_it",PINNER:"pinner",USER:"user",TODAY_ARTICLE:"today_article",SEARCH:"search"}},"otv/":function(e,t,n){var i=n("nmnc"),o=i?i.prototype:void 0,r=o?o.valueOf:void 0;e.exports=function(e){return r?Object(r.call(e)):{}}},ou9u:function(e,t,n){function i(e){const t=e.videos&&e.videos.video_list&&Object.keys(e.videos.video_list).length>0?e.videos.video_list:null;return t?t.V_HLSV3_MOBILE||t.V_HLSV4||t.V_720P:null}n.d(t,"a",(function(){return i}))},pC0d:function(e,t,n){n.d(t,"a",(function(){return g}));var i=n("q1tI"),o=n("/MKj"),r=n("Sihc"),a=n("TgLd"),s=n("VqlB"),c=n("n34E"),l=n("yweb"),d=n("w70y"),u=n("oN2T"),h=n("shej"),b=n("U4JR"),p=n("n6mq"),f=n("nKUr");function g({boardId:e,clusterId:t,handleAddClick:n,isBoardOrganizeFeed:g,onDismiss:m,suggestedSectionTitle:j}){const v=Object(l.c)(),O=Object(i.useRef)(null),[y,x]=Object(i.useState)([]),[_,w]=Object(i.useState)(j),{data:C,fetchMore:S,isFetching:I,isLoaded:E}=Object(d.a)({name:"SectionSuggestionsPinsResource",options:{boardId:e,clusterId:t}}),T=g?3541:3069,P=Object(o.useDispatch)(),D=Object(i.useCallback)(()=>{if(C){const t=C.map(e=>e.id),i=t.length,o=t.filter(e=>!y.includes(e));n&&n(_),P(Object(r.a)({boardId:e,name:_},v)).then(t=>{P(Object(s.a)({inverseSelection:!1,selectedPinIds:o,source:{boardId:e,sectionId:null},target:{boardId:e,sectionId:t.id}},v))}).then(()=>{P(Object(u.c)(e,"pin_count")),Object(b.b)(8606,{number_pins_suggested:i,number_pins_selected:o.length,objectId:e,section_title:_,suggested_section_name:j,view:5,viewParameter:T}),m(),g||P(Object(h.b)())})}},[y,_,C]),B=(e,t)=>{const n=[...y],i=n.indexOf(e);t&&-1!==i?n.splice(i,1):t||-1!==i||n.push(e),x(n)};return Object(f.jsx)(a.b,{accessibilityModalLabel:v._("Add suggested pins to your newly created section modal","sectionSuggestionPinsModal.modal.accessibilityLabelForModal","Accessibility label for modal"),allowScroll:!0,footer:Object(f.jsxs)(p.f,{display:"flex",justifyContent:"end",paddingX:2,children:[Object(f.jsx)(p.f,{display:"inlineBlock",marginEnd:2,children:Object(f.jsx)(p.g,{onClick:()=>{m(),g||P(Object(h.b)()),Object(b.b)(8607,{objectId:e,suggested_section_name:j,view:5,viewParameter:T})},text:v._("Not now","sectionSuggestionPinsModal.footer.cancelButton","Cancel creating a board section")})}),Object(f.jsx)(p.f,{display:"inlineBlock",children:Object(f.jsx)(p.g,{color:"red",onClick:D,text:v._("Add section","sectionSuggestionPinsModal.footer.addSectionButton","Add pins and section")})})]}),heading:v._("Pick your Pins and you're all set!","sectionSuggestionPinsModal.modal.heading","Heading for modal to add suggested pins to your newly created section"),onDismiss:m,size:704,children:Object(f.jsxs)(p.f,{maxHeight:600,maxWidth:704,ref:O,overflow:"auto",children:[Object(f.jsxs)(p.f,{padding:4,paddingX:2,children:[Object(f.jsx)(p.cb,{size:"md",children:v._("Section name","sectionSuggestionPinsModal.modal.sectionNameTitle","Title for section name")}),Object(f.jsx)(p.f,{paddingY:2,children:Object(f.jsx)(p.eb,{id:"SectionSuggestionPinsTitle",onChange:({value:e})=>{w(e)},placeholder:v._("Add a name for this group","sectionSuggestionPinsModal.modal.sectionNameTitle.placeholder","Placeholder for section name"),size:"lg",value:_})})]}),E&&C&&Object(f.jsx)(p.E,{columnWidth:152,comp:({data:e,itemIdx:t})=>Object(f.jsx)(c.a,{index:t,isSelected:!y.includes(e.id),pin:e,handlePinSelectionChanged:B}),gutterWidth:16,items:C,loadItems:S,scrollContainer:()=>O.current}),Object(f.jsx)(p.U,{accessibilityLabel:v._("Loading pins","sectionSuggestionPinsModal.modal.spinner","Loading indicator"),show:I})]})})}},pLLR:function(e,t,n){n.d(t,"c",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return d}));var i=n("q1tI"),o=n("nKUr");const r=Object(i.createContext)(),a=r.Provider;function s(e){function t(t){const n=Object(i.useContext)(r);if(!n)throw new Error("withRequestContext must be used within a RequestContextProvider");return Object(o.jsx)(e,{...t,requestContext:n})}return t.displayName=`withRequestContext(${String(e.displayName||e.name)})`,t}const c=({children:e})=>{const t=Object(i.useContext)(r);if(!t)throw new Error("RequestContextConsumer must be used within a RequestContextProvider");return e(t)},l=({children:e})=>{const t=Object(i.useContext)(r);if(!t)throw new Error("RequestContextConsumer must be used within a RequestContextProvider");return e(t)};function d(){const e=Object(i.useContext)(r);if(!e)throw new Error("useRequestContext must be used within a RequestContextProvider");return e}},pOug:function(e,t,n){t.a=function(e){return function(t){return null!=t?e(t):null}}},pSwN:function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("yweb"),o=n("n6mq"),r=n("nKUr");function a({handleFollowClick:e,isFollowing:t,isSelf:n,disabled:a,isSecondaryColor:s}){const c=Object(i.c)(),l=t?c._("Unfollow"):c._("Follow");return n?Object(r.jsx)(o.g,{disabled:!0,text:c._("That's you!","Text describing that the person's avatar is you","Text describing that the person's avatar is you")}):Object(r.jsx)(o.g,{color:t||s?"gray":"red",onClick:e,text:l,disabled:a})}},pWuj:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("pYMm"),o=n("fOPN"),r=n("N4T/"),a=n("YuQ1"),s=n("LTlA");t.default=function(e,t){switch(void 0===e&&(e=a.NONE),t.type){case i.HOVER:break;case o.ADD_SOURCE:case o.ADD_TARGET:case o.REMOVE_TARGET:case o.REMOVE_SOURCE:return a.NONE;case i.BEGIN_DRAG:case i.PUBLISH_DRAG_SOURCE:case i.END_DRAG:case i.DROP:default:return a.ALL}var n=t.payload,c=n.targetIds,l=void 0===c?[]:c,d=n.prevTargetIds,u=void 0===d?[]:d,h=s.xor(l,u);if(!(h.length>0||!r.areArraysEqual(l,u)))return a.NONE;var b=u[u.length-1],p=l[l.length-1];return b!==p&&(b&&h.push(b),p&&h.push(p)),h}},pYMm:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("bVL4"),o=n("rV1A"),r=n("sAMb"),a=n("BEzM"),s=n("vmVG");!function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n("7nh8")),t.default=function(e){return{beginDrag:i.default(e),publishDragSource:o.default(e),hover:r.default(e),drop:a.default(e),endDrag:s.default(e)}}},peh1:function(e,t,n){function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){return e===t}function r(e){var t=arguments.length<=1||void 0===arguments[1]?o:arguments[1],n=null,i=null;return function(){for(var o=arguments.length,r=Array(o),a=0;a<o;a++)r[a]=arguments[a];return null!==n&&n.length===r.length&&r.every((function(e,i){return t(e,n[i])}))||(i=e.apply(void 0,r)),n=r,i}}function a(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var n=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}function s(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return function(){for(var t=arguments.length,o=Array(t),r=0;r<t;r++)o[r]=arguments[r];var s=0,c=o.pop(),l=a(o),d=e.apply(void 0,[function(){return s++,c.apply(void 0,arguments)}].concat(n)),u=function(e,t){for(var n=arguments.length,o=Array(n>2?n-2:0),r=2;r<n;r++)o[r-2]=arguments[r];var a=l.map((function(n){return n.apply(void 0,[e,t].concat(o))}));return d.apply(void 0,i(a))};return u.resultFunc=c,u.recomputations=function(){return s},u.resetRecomputations=function(){return s=0},u}}t.__esModule=!0,t.defaultMemoize=r,t.createSelectorCreator=s,t.createStructuredSelector=function(e){var t=arguments.length<=1||void 0===arguments[1]?c:arguments[1];if("object"!=typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var n=Object.keys(e);return t(n.map((function(t){return e[t]})),(function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.reduce((function(e,t,i){return e[n[i]]=t,e}),{})}))};var c=t.createSelector=s(r)},q8wg:function(e,t,n){var i=n("8wun"),o=n("1u47"),r=n("nKUr");t.a=e=>Object(r.jsx)(o.a,{...e,timeSpentManager:i.a})},qFZT:function(e,t,n){var i=n("PnD8"),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function c(e){return i.isMemo(e)?a:s[e.$$typeof]||o}s[i.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var l=Object.defineProperty,d=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,b=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,i){if("string"!=typeof n){if(p){var o=b(n);o&&o!==p&&e(t,o,i)}var a=d(n);u&&(a=a.concat(u(n)));for(var s=c(t),f=c(n),g=0;g<a.length;++g){var m=a[g];if(!(r[m]||i&&i[m]||f&&f[m]||s&&s[m])){var j=h(n,m);try{l(t,m,j)}catch(v){}}}return t}return t}},qUzp:function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("8A+h"),o=n("E58E");function r({board:e,viewer:t}){return Object(i.a)(t,e)||Object(o.a)({board:e,viewer:t})}},qVfT:function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("eOdZ");function o(e,t,n,o){return async r=>{const a=i.d.create("ApiResource",{url:`/v3/pins/${e}/notes/`,data:{pin_note_content:n,...o?{orbac_subject_id:o}:Object.freeze({})}});let s;s=n?t?await a.callUpdate():await a.callCreate():await a.callDelete();const{resource_response:c}=s;r(function(e,t){return{type:"PIN_NOTE_UPDATE",payload:{pinId:e,pinNote:t}}}(e,null==c?void 0:c.data))}}},qdVQ:function(e,t,n){n.d(t,"a",(function(){return S}));var i=n("q1tI"),o=n("/MKj"),r=n("0rqM"),a=n("4dcN"),s=n("eOdZ"),c=n("M1Uz"),l=n("QO9Q"),d=n("xkL+"),u=n("vVEi"),h=n("mLS1"),b=n("yweb"),p=n("oN2T"),f=n("0Xtd"),g=n("pLLR"),m=n("nGHF"),j=n("n6mq"),v=n("ANjH"),O=n("nKUr");function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class x extends i.Component{constructor(...e){super(...e),y(this,"state",{editMode:"main"}),y(this,"handleBoardLeave",()=>{const{board:e,onBoardLeave:t,onClose:n}=this.props;n(),t&&t(e.id)}),y(this,"returnToMainEditMode",()=>this.setState({editMode:"main"})),y(this,"handleDelete",()=>{const{board:e,deleteBoard:t,onBoardDelete:n,onClose:i,toastManagerContext:o,viewer:r,orbacActingAs:a}=this.props;t(Object(f.a)(r,a)).then(()=>{o.showToast(({onHide:e})=>Object(O.jsx)(c.a,{onHide:e,text:this.props.i18n._("Board deleted!","User deleted their board","User deleted their board")}))}),this.returnToMainEditMode(),i(),n&&n(e)}),y(this,"handleShowDeleteModal",()=>{a.a.trackEvent("board_delete","open_modal"),this.setState({editMode:"confirmDelete"})}),y(this,"handleSubmit",e=>{var t;const{viewer:n,orbacActingAs:i,board:o,updateBoard:r,onBoardPrivacyChange:a,onBoardUpdate:c,onClose:l}=this.props,d=this.props.board.id;if(Object(f.d)(n,(null===(t=o.owner)||void 0===t?void 0:t.id)||"",i)){const t={id:d,...e};return r(t,Object(f.a)(n,i)).then(()=>{o.privacy!==e.privacy&&a?a():c&&c(d,t),l()})}{const{allow_homefeed_recommendations:t,collab_board_email:n}=e;t!==o.allow_homefeed_recommendations&&r({id:d,allow_homefeed_recommendations:t});return s.d.create("BoardSettingsResource",{board_id:d,collab_board_email:n}).callUpdate({showError:!1}).then(()=>l()).catch(e=>{throw e.message})}})}render(){var e;const{board:t,categories:n,viewer:o,orbacActingAs:a,onCropChange:s,onClose:c,onCollaboratorInviteClick:l,onToggleFlyout:d}=this.props,{editMode:u}=this.state,b=this.props.i18n._("Edit your board","BoardEdit.Heading.Text","edit board heading"),p=Object(f.d)(o,(null===(e=t.owner)||void 0===e?void 0:e.id)||"",a),g=Object(O.jsx)(j.u,{alignItems:"center",justifyContent:"center",height:80,children:Object(O.jsx)(j.f,{marginStart:"auto",marginEnd:4,width:"66%",paddingY:4,children:Object(O.jsxs)(j.u,{alignItems:"center",justifyContent:"between",children:[Object(O.jsx)(j.v,{size:"md",children:b}),Object(O.jsx)(j.x,{accessibilityLabel:this.props.i18n._("Close","BoardEdit.icon.cancel","Icon to close board edit modal"),icon:"cancel",iconColor:"darkGray",onClick:c})]})})});return Object(O.jsxs)(i.Fragment,{children:["main"===u&&Object(O.jsx)(h.a,{board:t,categories:n,currentUserIsOwner:p,gaCategory:"board_edit",handleBoardLeave:this.handleBoardLeave,isArchivable:!0,isDeletable:p,isEditable:p,onClose:c,onCropChange:s,onDeleteButtonClick:this.handleShowDeleteModal,onCollaboratorInviteClick:l,onSubmit:this.handleSubmit,onToggleFlyout:d,submitText:this.props.i18n._("Done","BoardEdit.BoardEdit","Submit button text"),title:g}),"confirmDelete"===u&&Object(O.jsx)(r.a,{confirmButtonLabel:this.props.i18n._("Delete forever","Confirms the user wants to permanently delete the board","Confirms the user wants to permanently delete the board"),cancelButtonLabel:this.props.i18n._("Cancel"),message:this.props.i18n._("Once you delete a board and all its Pins, you can't undo it!"),onConfirm:this.handleDelete,onCancel:this.returnToMainEditMode})]})}}var _=Object(v.compose)(m.c,u.d,Object(o.connect)(null,(e,t)=>({deleteBoard:n=>e(Object(p.g)(t.board.id,n)),updateBoard:(t,n)=>e(Object(p.l)(t,n))})))((function(e){const t=Object(b.c)();return Object(O.jsx)(x,{...e,requestContext:Object(g.d)(),viewer:Object(d.b)(),orbacActingAs:Object(l.a)(),i18n:t})})),w=n("TgLd"),C=n("w70y");function S({boardId:e,coverImageHeight:t,coverImageWidth:n,onBoardArchiveChange:r,onBoardPrivacyChange:a,onBoardLeave:s,onBoardDelete:c,onBoardUpdate:l,onClose:d,onCollaboratorInviteClick:u,onCropChange:h}){const p=Object(b.c)(),[f,g]=Object(i.useState)(!1),{data:m}=Object(C.a)({name:"CategoriesResource",noCache:!0});Object(C.a)({name:"BoardResource",options:{field_set_key:"edit",board_id:e},noCache:!0});const v=Object(o.useSelector)(({boards:t})=>t.content[e]);if(!!(!v||!m))return Object(O.jsx)(w.b,{accessibilityModalLabel:p._("Board edit","BoardEdit.BoardEditModal","Accessibility label on modal"),onDismiss:d,size:"sm",children:Object(O.jsx)(j.f,{padding:12,children:Object(O.jsx)(j.U,{accessibilityLabel:p._("Board edit","BoardEdit.BoardEditModal","Accessibility label on loading spinner"),show:!0})})});return Object(O.jsx)(_,{board:v,categories:m,coverImageHeight:t,coverImageWidth:n,onBoardArchiveChange:r,onBoardPrivacyChange:a,onBoardLeave:s,onBoardDelete:c,onBoardUpdate:l,onClose:()=>{f||d()},onCollaboratorInviteClick:u,onCropChange:h,onToggleFlyout:()=>g(!f)})}},qnp8:function(e,t,n){n.d(t,"a",(function(){return l}));var i=n("EC51"),o=n("M1Uz"),r=n("yweb"),a=n("vvax"),s=n("n6mq"),c=n("nKUr");function l({boardName:e,boardUrl:t,isBoardlessPin:n,isFromPinBuilder:l,newPin:d,onChangeButtonClick:u,onVisitButtonClick:h=(()=>{}),onHide:b,onUndo:p,pinImageUrl:f}){const g=Object(r.c)(),m=Object(c.jsx)(s.f,{color:"lightGray",display:"flex",height:48,overflow:"hidden",width:48,children:Object(c.jsx)(s.f,{padding:3,children:Object(c.jsx)(s.w,{accessibilityLabel:g._("Saved to profile thumbnail","PostSavedPinToast.thumbnail.accessibilityLabel","Thumbnail for saved to profile."),color:"darkGray",icon:"history",size:24})})}),j=(!!u||!!p)&&Object(c.jsx)(s.g,{text:d&&n&&u?g._("Change","PostSavedPinToast.ChangeButton","Change saved pin to a different destination"):g._("Undo","PostSavedPinToast.UndoButton","Undo Saved Pin"),size:"lg",onClick:d&&n&&u?()=>u(d):p},"button-key"),v=Object(c.jsx)(s.g,{text:g._("Visit","PostSavedPinToast.VisitButton","Visit Pin saved from PinBuilder"),size:"lg",onClick:h});return Object(c.jsx)(o.a,{button:l?v:j,duration:n?6e3:3e3,iconThumbnail:n?m:void 0,imageUrl:f,onHide:b,text:Object(c.jsx)(s.cb,{size:"md",lineClamp:1,children:Object(a.b)(g._("Saved to {{ destination }}","PostSavedPinToast.SavedToBoardLabel","Saved to label for better save"),{destination:Object(c.jsx)(i.a,{href:n?"/me/":null!=t?t:"",children:Object(c.jsx)(s.cb,{size:"md",weight:"bold",lineClamp:1,children:e},"PostSavedPinToastBoardName")})})})})}},qpbZ:function(e,t,n){function i(e,t,n){return e.split(n).map(e=>{if(e.match(n)){const n=e.replace(/[\{\}]/g,"").trim();if(Object.prototype.hasOwnProperty.call(t,n))return t[n]}return e})}n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return c}));const o=/(\{\{\s*\w+\s*\}\})/g;function r(e,t){return i(e,t,o)}function a(e,t){return i(e,t,o).join("")}const s=/(\{\s*\w+\s*\})/g;function c(e,t){return i(e,t,s)}},qyR9:function(e,t,n){n.d(t,"a",(function(){return m}));var i=n("q1tI"),o=n("jdx6"),r=n("gONw"),a=n("yweb"),s=n("gdcG"),c=n("n6mq"),l=n("nKUr");var d=Object(s.a)((function(e){const t=Object(a.c)(),{buttonLabel:n,isHovering:i,isRowItem:o,hasHoverState:r,hoverHandlers:s,name:d,onClick:u}=e,h=d||n||t._("Create board");return Object(l.jsx)(c.bb,{onMouseEnter:s.onMouseOver,onMouseLeave:s.onMouseLeave,onTap:u,children:Object(l.jsxs)(c.f,{alignItems:"center",color:r&&i?"lightGray":"white",display:"flex",flex:o?"shrink":"none",height:64,width:"100%",children:[Object(l.jsx)(c.f,{marginStart:6,marginEnd:3,"data-test-id":"createBoardButton",children:Object(l.jsx)(c.w,{accessibilityLabel:t._("Add a board"),size:"32",icon:"add-circle",color:"red"})}),d?Object(l.jsx)(c.f,{margin:1,children:Object(l.jsxs)(c.cb,{inline:!0,overflow:"normal",children:[" ",t._("Create: ")," "]})}):null,Object(l.jsxs)(c.cb,{align:"center",inline:!0,lineClamp:1,weight:"bold",children:[" ",h," "]})]})})})),u=n("9QW3"),h=n("NdQN"),b=n("IBrh"),p=n("seP0");function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g extends i.Component{constructor(...e){super(...e),f(this,"state",{searchQuery:""}),f(this,"handleSelectItem",e=>{const{onCreate:t,onSelected:n}=this.props;if(!e&&t){const{searchQuery:e}=this.state;t(e)}else e&&n(e);(t||e)&&this.setState({searchQuery:""})}),f(this,"handleSearchQueryInput",e=>{this.setState({searchQuery:e})}),f(this,"renderSectionHeader",(e,t)=>e.title?Object(l.jsxs)(c.f,{children:[t>0&&Object(l.jsx)(c.q,{}),Object(l.jsx)(c.f,{paddingX:3,paddingY:1,children:Object(l.jsx)(c.cb,{size:"md",children:e.title})})]}):null),f(this,"renderRow",({item:e,hovered:t,sectionProps:n={}})=>{const{boardSavedTo:i,isSelectMode:r,disabledRowId:a}=this.props,{searchQuery:s}=this.state,{inSectionSelection:c=!1}=n,d=i&&i.board===e.id?i&&i.state:null,u="board_section"===e.type;return Object(l.jsx)(o.a,{disabled:e.id===a&&c,isSection:u,isSelectMode:r,isWithinSectionPicker:c,item:e,saveState:d,searchQuery:s,selected:t})})}componentDidUpdate(e){if(!e.isLoaded&&this.props.isLoaded){const{boardPickerStopwatch:e,hasLoadError:t}=this.props;e&&(t?e.error():e.stop())}}render(){const{boardSavedTo:e,createButtonLabel:t,hasLowBoardCount:n,getSections:i,isLoaded:o,onCreate:a,pinId:s}=this.props;if(o){const{searchQuery:o}=this.state,p=i(o);return this.indexManager=new u.a(p.map(e=>e.items)),this.indexManager.setSelectItem(this.handleSelectItem),Object(l.jsxs)(c.f,{minHeight:0,flex:"grow",height:"100%",overflow:"auto",display:"flex",direction:"column",dangerouslySetInlineStyle:{__style:{zIndex:0}},children:[!n&&Object(l.jsxs)(c.f,{children:[Object(l.jsx)(c.f,{paddingX:3,marginBottom:4,marginTop:1,children:Object(l.jsx)(h.a,{disabled:!!e,indexManager:this.indexManager,onChange:this.handleSearchQueryInput,value:o})}),Object(l.jsx)(c.q,{})]}),Object(l.jsx)(b.a,{disabled:!!e,grow:!n&&!o,indexManager:this.indexManager,onSelectItem:this.handleSelectItem,renderItem:this.renderRow,renderSectionHeader:this.renderSectionHeader,sections:p}),Object(l.jsx)(c.q,{}),a&&Object(l.jsx)(d,{buttonLabel:t,hasHoverState:!0,name:o,onClick:()=>a(o)}),n&&a&&s&&Object(l.jsx)(r.a,{onBoardSelected:a,pinId:s})]})}return Object(l.jsx)(c.f,{paddingY:5,children:Object(l.jsx)(c.U,{accessibilityLabel:this.props.i18n._("loading section picker","accessibility label for the loading spinner the repin picker","accessibility label for the loading spinner the repin picker"),show:!0})})}}function m(e){const t=Object(a.c)(),n=Object(p.c)();return Object(l.jsx)(g,{...e,boardPickerStopwatch:n,i18n:t})}},qyXF:function(e,t,n){n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return u}));var i=n("vvax");const o=e=>e._("{{ first }}","Generic message that lists 1 item","Generic message that lists 1 item (ex: Stevie)"),r=e=>e._("{{ first }} and {{ second }}","Generic message that lists 2 items","Generic message that lists 2 items (ex: Stevie and Michael)"),a=e=>e._("{{ first }}, {{ second }} and {{ third }}","Generic message that lists 3 items","Generic message that lists 3 items (ex: Stevie, Michael and Cyndi)"),s=e=>e._("{{ first }}, {{ second }}, {{ third }} and {{ fourth }}","Generic message that lists 4 items","Generic message that lists 4 items (ex: Stevie, Michael, Cyndi and Bob)"),c=e=>e._("{{ first }}, {{ second }}, {{ third }}, {{ fourth }} and {{ fifth }}","Generic message that lists 5 items","Generic message that lists 5 items (ex: Stevie, Michael, Cyndi, Bob and Bruce)"),l=e=>e._("{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} and {{ sixth }}","Generic message that lists 6 items","Generic message that lists 6 items (ex: Stevie, Michael, Cyndi, Bob, Bruce and Lionel)");function d(e,t){const n={first:e[0],second:e[1],third:e[2],fourth:e[3],fifth:e[4],sixth:e[5],remaining:e.length-5};switch(e.length){case 0:return[];case 1:return Object(i.b)(o(t),n);case 2:return Object(i.b)(r(t),n);case 3:return Object(i.b)(a(t),n);case 4:return Object(i.b)(s(t),n);case 5:return Object(i.b)(c(t),n);case 6:return Object(i.b)(l(t),n);default:return Object(i.b)((e=>e._("{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} and {{ remaining }} others","Generic message that lists more than 6 items","Generic message that lists more than 6 items (ex: Stevie, Michael, Cyndi, Bob, Bruce and 2 others)"))(t),n)}}function u(e,t){const n={first:e[0],second:e[1],third:e[2],fourth:e[3],fifth:e[4],sixth:e[5],seventh:e[6],remaining:e.length-6};switch(e.length){case 0:return[];case 1:return Object(i.b)(o(t),n);case 2:return Object(i.b)(r(t),n);case 3:return Object(i.b)(a(t),n);case 4:return Object(i.b)(s(t),n);case 5:return Object(i.b)(c(t),n);case 6:return Object(i.b)(l(t),n);case 7:return Object(i.b)((e=>e._("{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} and {{ seventh }}","Generic message that lists 7 items","Generic message that lists 7 items (ex: Stevie, Michael, Cyndi, Bob, Bruce, Lionel and Tina)"))(t),n);default:return Object(i.b)((e=>e._("{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} and {{ remaining }} others","Generic message that lists more than 7 items","Generic message that lists more than 7 items (ex: Stevie, Michael, Cyndi, Bob, Bruce, Lionel and 2 others)"))(t),n)}}},r8eU:function(e,t,n){n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var i=n("QLaP"),o=n.n(i);class r{constructor(e,t){o()(e,"You must pass a requestContext to check an Experiment"),o()(t,"You must pass the name of the experiment to check"),this.requestContext=e,this.experimentName=t.toLowerCase()}_getGroup(e){return e?this.requestContext.experiments.v2ActivateExperiment(this.experimentName)||"":this.requestContext.experiments.v2GetGroup(this.experimentName)||""}}class a extends r{getGroup(e=!1){return this._getGroup(e)}}class s extends r{_isTreatment(e){return e.startsWith("enabled")||e.startsWith("employee")}enabled(){return this._isTreatment(this._getGroup(!0))}enabledWithNoActivation(){return this._isTreatment(this._getGroup(!1))}}},r9FX:function(e,t,n){n.d(t,"a",(function(){return g}));var i=n("q1tI"),o=n("ihsa"),r=n("V08O"),a=n("n6mq"),s=n("nKUr");const c=["imageFadeOut {\n    0% { opacity: 1 }\n    60% { opacity: 1 }\n    100% { opacity: 0 }\n}"],l={imageFadeOut:"imageFadeOut 0.9s both"};function d({backgroundColor:e,cyclingImages:t,imgLabel:n,imageHeight:d,imageWidth:u}){const[h,b]=Object(i.useState)(0);Object(i.useEffect)(()=>{const e=setInterval(()=>{b(e=>e+1)},900);return()=>clearInterval(e)},[]);const p=h%t.length,f=(h+1)%t.length;return((e,t,n,i,d,u,h)=>{var b,p,f,g,m,j;return Object(s.jsxs)(a.f,{position:"relative",width:d,height:i,children:[Object(s.jsx)(a.f,{position:"absolute",top:!0,left:!0,width:d,height:i,children:Object(s.jsx)(a.y,{alt:u,color:h,fit:"cover",naturalHeight:null!==(b=n.height)&&void 0!==b?b:1,naturalWidth:null!==(p=n.width)&&void 0!==p?p:1,src:null!==(f=n.url)&&void 0!==f?f:"",children:Object(s.jsx)(a.f,{color:"darkGray",opacity:.3,height:"100%"})})}),Object(s.jsxs)(a.f,{position:"absolute",top:!0,left:!0,width:d,height:i,dangerouslySetInlineStyle:{__style:{animation:l.imageFadeOut,WebkitAnimation:l.imageFadeOut}},children:[Object(s.jsx)(o.a,{unsafeCSS:Object(r.a)(c)}),Object(s.jsx)(a.y,{alt:u,color:h,fit:"cover",naturalHeight:null!==(g=t.height)&&void 0!==g?g:1,naturalWidth:null!==(m=t.width)&&void 0!==m?m:1,src:null!==(j=t.url)&&void 0!==j?j:"",children:Object(s.jsx)(a.f,{color:"darkGray",opacity:.3,height:"100%"})})]})]},e)})(h,t[p],t[f],d,u,n,e)}var u=n("yaUg"),h=n("yweb"),b=n("pLLR");const p={xl_144:{imageWidth:144,imageHeight:144,fontSize:"lg"},md_120:{imageWidth:120,imageHeight:120,fontSize:"md"}},f=p.xl_144;function g({clickHandler:e,index:t,interest:n,isSelected:o,isTopicEdu:r,size:c,totalInterests:l}){var g,m,j;const v=Object(h.c)(),{isRTL:O}=Object(b.d)(),{fontSize:y,imageWidth:x,imageHeight:_}=p[c]||f,{background_color:w,cycling_images:C,images:S,name:I}=n,E=n.label?String(n.label):I,T=S["400x"],P=C?C.map(e=>e["400x"]):[],[D,B]=Object(i.useState)(!1),[M,k]=Object(i.useState)(!1),R=l&&t?Object(u.a)(v._("{{ interestName }}, list {{ interestsPosition }} of {{ interestsCount }}","nux.interestStep.interestForLists","Label for interest card with description for lists"),{interestName:n.name,interestsPosition:t.toString(),interestsCount:l.toString()}):Object(u.a)(v._("{{ interestName }} interest card","nux.interestStep.interest","Label for interest card"),{interestName:n.name});return((e,t,n,i)=>{const o=e?t-8:t,r=e?n-8:n,c=e?14:16,l=e?-1:0,d=e?{borderColor:"black"}:{borderStyle:"none"};return Object(s.jsx)(a.f,{borderStyle:e?"lg":"none",dangerouslySetInlineStyle:{__style:d},width:t,height:n,rounding:4,color:"white",display:"flex",justifyContent:"center",alignItems:"center",children:Object(s.jsx)(a.f,{width:o,height:r,dangerouslySetInlineStyle:{__style:{borderRadius:c}},overflow:"hidden",children:Object(s.jsx)(a.f,{margin:l,children:i})})})})(!r&&(o||D||M),x,_,Object(s.jsx)(a.D,{rounding:4,children:Object(s.jsx)(a.f,{rounding:4,position:"relative",display:"inlineBlock",width:x,height:_,"data-test-id":"nux-picker-topic",children:Object(s.jsxs)(a.bb,{accessibilityLabel:R,fullHeight:!0,onBlur:()=>k(!1),onFocus:()=>k(!0),onMouseEnter:()=>B(!0),onMouseLeave:()=>B(!1),onTap:e,children:[P.length>0&&(D||M)?Object(s.jsx)(d,{backgroundColor:w,cyclingImages:P,imageHeight:_,imageWidth:x,imgLabel:E}):Object(s.jsx)(a.y,{alt:E,color:w,fit:"cover",naturalHeight:null!==(g=T.height)&&void 0!==g?g:1,naturalWidth:null!==(m=T.width)&&void 0!==m?m:1,src:null!==(j=T.url)&&void 0!==j?j:"",children:Object(s.jsx)(a.f,{color:"darkGray",opacity:.3,height:"100%"})}),o&&Object(s.jsxs)(a.f,{height:"100%",width:"100%",position:"absolute",top:!0,children:[Object(s.jsx)(a.f,{color:"darkGray",opacity:.7,height:"100%"}),Object(s.jsx)(a.f,{position:"absolute",left:O,marginEnd:2,marginStart:2,marginTop:2,right:!O,top:!0,children:Object(s.jsx)(a.k,{checked:!0,id:"selectedTopic",onChange:()=>{}})})]}),Object(s.jsx)(a.f,{position:"absolute",bottom:!0,left:!0,right:!0,margin:2,"data-test-id":"nux-picker-topic-label",children:Object(s.jsx)(a.cb,{align:"start",color:"white",size:y,weight:"bold",overflow:"breakWord",children:I})})]})})}))}},rV1A:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("7nh8");t.default=function(e){return function(){if(e.getMonitor().isDragging())return{type:i.PUBLISH_DRAG_SOURCE}}}},rVUJ:function(e,t,n){var i,o,r,a=n("q1tI"),s=n("/MKj"),c=n("BcvT"),l=n("n6mq"),d=n("nKUr");class u extends a.Component{renderPulsar(){const{anchor:e,handleComplete:t,handlePulsarCompleteOnHover:n,zIndex:i}=this.props;return Object(d.jsx)(c.a,{anchor:e,onTouch:t,onMouseEnter:n,zIndex:i})}renderFlyout(){const{anchor:e,overflow:t,tooltip:n,handleDismiss:i,handleComplete:o}=this.props;if(!n)return null;const{cancelButtonText:r,confirmButtonText:a,mainText:s,idealDirection:c="down"}=n,u=r&&i&&a&&o;return Object(d.jsx)(l.L,{anchor:e,color:"blue",idealDirection:c,onDismiss:i,shouldFocus:!1,showCaret:!0,size:"flexible",children:Object(d.jsxs)(l.f,{maxWidth:284,padding:3,width:"max-content",children:[Object(d.jsx)(l.cb,{color:"white",overflow:t,weight:"bold",children:s}),u?Object(d.jsxs)(l.f,{marginTop:2,display:"flex",alignItems:"center",children:[Object(d.jsx)(l.f,{column:6,marginEnd:1,children:Object(d.jsx)(l.g,{fullWidth:!0,color:"transparentWhiteText",onClick:e=>i(e),size:"md",text:String(r)})}),Object(d.jsx)(l.f,{column:6,children:Object(d.jsx)(l.g,{fullWidth:!0,color:"white",size:"md",text:String(a),onClick:o})})]}):null]})})}render(){const{anchor:e,pulserOnly:t}=this.props;return e?t?this.renderPulsar():this.renderFlyout():null}}r={overflow:"breakWord"},(o="defaultProps")in(i=u)?Object.defineProperty(i,o,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[o]=r;var h=n("NdXn"),b=n("AAEI"),p=n("gC5q");t.a=({anchor:e,anchorElementRef:t,children:n,containerBoxConfig:i,experience:o,isHidden:r,onCompleteClick:c,overflow:f,zIndex:g})=>{var m;const j=(({anchor:e,anchorExperiences:t,passedExperience:n})=>n||(t?t[e]:null))({anchor:e,anchorExperiences:Object(s.useSelector)(({experiences:e})=>null==e?void 0:e.anchorExperiences),passedExperience:o}),v=Object(b.a)(null==j?void 0:j.placement_id),O=(null==j||null===(m=j.display_data)||void 0===m?void 0:m.delay)||0,[y,x]=Object(a.useState)(!!O);if(Object(a.useEffect)(()=>{if(O>0&&y){const e=setTimeout(()=>{x(!1)});return()=>clearTimeout(e)}return()=>{}},[O,y]),Object(a.useEffect)(()=>{!y&&j&&v.viewExperience(j.placement_id,j.experience_id)},[y,j]),!j||y||r)return a.Children.only(n);const _=(e=>{const{display_data:t}=e;return t.tooltip&&(t.tooltip={...t.tooltip.options,...t.tooltip},delete t.tooltip.options),Object(p.a)(h.a,!0)(t)})(j),w=()=>{var e;null!==(e=j.display_data)&&void 0!==e&&e.complete_on_hover&&v.completeExperience(j.placement_id,j.experience_id)};return Object(d.jsxs)(l.f,{position:"relative",height:null==i?void 0:i.height,display:null==i?void 0:i.display,children:[Object(d.jsx)(l.bb,{onMouseEnter:w,onTap:()=>{c&&c(),_.skipComplete||v.completeExperience(j.placement_id,j.experience_id)},children:a.Children.only(n)}),Object(d.jsx)(u,{anchor:t||null,handlePulsarCompleteOnHover:w,handleComplete:()=>{t instanceof HTMLElement&&t.click()},handleDismiss:e=>{null!=e&&e.event&&e.event.stopPropagation(),v.dismissExperience(j.placement_id,j.experience_id)},overflow:f,pulserOnly:!!_.pulserOnly,tooltip:_.tooltip,tooltipOnly:!!_.tooltipOnly,zIndex:g})]})}},rYoy:function(e,t,n){var i=n("E8d4");t.a=i.a},"rg+c":function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("q1tI"),o=n("P9b8"),r=n("ANjH"),a=n("nKUr");const s={Pin:"pin",Board:"board",Section:"section",CarouselItem:"carouselitem"};const c={hover:({index:e,onDragHover:t},n,i)=>{t(e,function(e,t){const n=t.targetEl;if(!(n&&n instanceof HTMLElement))return null;const{x:i,y:o}=e.getClientOffset(),{left:r,right:a,top:s,bottom:c,width:l,height:d}=n.getBoundingClientRect();return{positionRelativeToCenter:{x:i-(r+a)/2,y:o-(s+c)/2},boundingBox:{width:l,height:d}}}(n,i))}};class l extends i.Component{render(){const{children:e,connectDragSource:t,connectDropTarget:n,isDragging:i,isDraggingInternal:o}=this.props;return t(n(Object(a.jsx)("div",{ref:e=>this.targetEl=e,style:{opacity:i||o?0:1},children:e})))}}t.b=Object(r.compose)(Object(o.DropTarget)(e=>e.type,c,e=>({connectDropTarget:e.dropTarget()})),Object(o.DragSource)(e=>e.type,{beginDrag:({index:e,onDragBegin:t})=>(t(e),{index:e}),endDrag:({onDragEnd:e},t)=>e(t.didDrop())},(e,t)=>({connectDragSource:e.dragSource(),isDraggingInternal:t.isDragging()})))(l)},rkcQ:function(e,t,n){n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"k",(function(){return f})),n.d(t,"i",(function(){return g})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return j})),n.d(t,"h",(function(){return v})),n.d(t,"g",(function(){return O})),n.d(t,"f",(function(){return y})),n.d(t,"j",(function(){return x}));const i={DOWNLOAD_TEMPLATE:"DOWNLOAD_TEMPLATE",UPLOAD_TEMPLATE:"UPLOAD_TEMPLATE",HISTORY:"HISTORY",RESOURCES:"RESOURCES"},o={GENERAL:"GENERAL",CAMPAIGNS:"CAMPAIGNS",AD_GROUPS:"AD_GROUPS",ADS:"ADS",KEYWORDS:"KEYWORDS",PRODUCT_GROUPS:"PRODUCT_GROUPS",ERROR_CODES:"ERROR_CODES"},r={BILLING_HISTORY:"BILLING_HISTORY",BILLING_FORMS:"BILLING_FORMS",ORDER_LINES:"ORDER_LINES",PROMOTIONS:"PROMOTIONS",DOCUMENTS:"DOCUMENTS"},a="Shopify",s="WordPress",c="WooCommerce",l="Weebly",d="Tealium",u="Magento",h="Squarespace",b="Ecwid",p="Bigcommerce",f={GOOGLE_TAG_MANAGER:"Google Tag Manager",SHOPIFY:"Shopify",WOO_COMMERCE:"WooCommerce",WORDPRESS:"WordPress",SQUARESPACE:"Squarespace",WEEBLY:"Weebly",TEALIUM:"Tealium",MAGENTO:"Magento",ECWID:"Ecwid",BIG_COMMERCE:"BigCommerce"},g={["Google Tag Manager"]:f.GOOGLE_TAG_MANAGER,[a]:f.SHOPIFY,[c]:f.WOO_COMMERCE,[s]:f.WORDPRESS,[h]:f.SQUARESPACE,[l]:f.WEEBLY,[d]:f.TEALIUM,[u]:f.MAGENTO,[b]:f.ECWID,[p]:f.BIG_COMMERCE},m={PINTEREST_TAG:"PINTEREST_TAG",PINTEREST_TAG_EVENTS:"PINTEREST_TAG_EVENTS",PINTEREST_TAG_HISTORY:"PINTEREST_TAG_HISTORY",PINTEREST_TAG_HEALTH:"PINTEREST_TAG_HEALTH",CONVERSION_UPLOAD:"CONVERSION_UPLOAD",UPLOAD_HISTORY:"UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD:"PCA_UPLOAD"},j={PINTEREST_TAG_DASHBOARD:"PINTEREST_TAG_DASHBOARD",PINTEREST_TAG_LANDING:"PINTEREST_TAG_LANDING",PINTEREST_TAG_INSTRUCTIONS:"PINTEREST_TAG_INSTRUCTIONS",PINTEREST_TAG_HISTORY:"PINTEREST_TAG_HISTORY",CONVERSION_UPLOAD_LANDING:"CONVERSION_UPLOAD_LANDING",CONVERSION_UPLOAD_VALIDATION:"CONVERSION_UPLOAD_VALIDATION",CONVERSION_UPLOAD_HISTORY:"CONVERSION_UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD_LANDING:"PCA_UPLOAD_LANDING",PCA_UPLOAD_VALIDATION:"PCA_UPLOAD_VALIDATION"},v={UNREAD:"UNREAD",READ:"READ",ACCEPTED:"ACCEPTED",REJECTED:"REJECTED",DISMISSED:"DISMISSED",INVALID:"INVALID",MUTED:"MUTED",SNOOZED:"SNOOZED",PMP_REPORTED:"PMP_REPORTED",EMAILED:"EMAILED",BULK_DOWNLOADED:"BULK_DOWNLOADED",FILTERED:"FILTERED",PUSHED:"PUSHED"},O={ATTRIBUTION_DESTINATION:"attributiondestination",ATTRIBUTION_EXPIRY:"attributionexpiry",ATTRIBUTION_REPORT_TO:"attributionreportto",ATTRIBUTION_SOURCE_EVENT_ID:"attributionsourceeventid"},y=2592e6,x={ATTRIBUTION_SOURCE_ID:"attributionsourceid",ATTRIBUTE_DESTINATION:"attributiondestination",ATTRIBUTE_ON:"attributeon"}},rrvb:function(e,t,n){var i=n("q1tI"),o=n("9QW3"),r=n("NdQN"),a=n("IBrh"),s=n("yweb"),c=n("gdcG"),l=n("n6mq"),d=n("nKUr");function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends i.Component{constructor(...e){super(...e),u(this,"state",{showFlyout:!1}),u(this,"setContainerRef",e=>{this.containerRef=e}),u(this,"handleCreate",()=>{this.hideFlyout();const{onCreate:e}=this.props;e&&e()}),u(this,"handleSelectItem",e=>{this.hideFlyout();const{onSelect:t,onCreate:n}=this.props;e?t(e):n&&n()}),u(this,"handleDropdownTouch",()=>{this.setState(e=>({showFlyout:!e.showFlyout}))}),u(this,"handleHideFlyout",e=>{this.containerRef&&e.target instanceof HTMLElement&&!this.containerRef.contains(e.target)&&this.hideFlyout()}),u(this,"hideFlyout",()=>{const{hoverHandlers:{onMouseLeave:e}}=this.props;e(),this.setState({showFlyout:!1})})}componentDidMount(){document.addEventListener("click",this.handleHideFlyout,{capture:!0})}componentWillUnmount(){document.removeEventListener("click",this.handleHideFlyout,{capture:!0})}render(){const{dropdownValue:e,fetchMore:t,hoverHandlers:{onMouseOver:n,onMouseLeave:i},isHovering:s,isStoryPin:c,onCreate:u,onSearchQueryUpdate:h,renderRow:b,searchQuery:p,sections:f,createBtnDisabled:g}=this.props,{showFlyout:m}=this.state;this.indexManager=new o.a(f.map(e=>e.items)),this.indexManager.setSelectItem(this.handleSelectItem);const j=!p.trim()||!!g;return Object(d.jsxs)(l.f,{ref:this.setContainerRef,flex:c?"grow":void 0,children:[Object(d.jsx)(l.bb,{fullWidth:!!c,onMouseEnter:n,onMouseLeave:i,onTap:this.handleDropdownTouch,rounding:2,children:Object(d.jsxs)(l.f,{alignItems:"center",color:s?"lightWash":"lightGray",direction:"row",display:"flex",flex:"grow",paddingX:4,paddingY:c?4:3,rounding:c?4:2,children:[Object(d.jsx)(l.u,{alignItems:"stretch",justifyContent:"start",flex:"grow",children:Object(d.jsx)(l.cb,{weight:"bold",children:e})}),Object(d.jsx)(l.w,{accessibilityLabel:"",color:"darkGray",icon:"arrow-down",size:14})]})}),m&&Object(d.jsx)(l.f,{position:"relative",children:Object(d.jsxs)(l.f,{borderStyle:"sm",color:"white",dangerouslySetInlineStyle:{__style:{zIndex:1}},direction:"column",display:"flex",overflow:"hidden",position:"absolute",rounding:c?4:2,width:"100%",children:[Object(d.jsx)(l.f,{children:Object(d.jsxs)(l.f,{display:"flex",marginStart:-1,marginEnd:-1,padding:2,children:[Object(d.jsx)(l.f,{display:"flex",flex:"grow",paddingX:1,children:Object(d.jsx)(r.a,{hideIcon:!0,indexManager:this.indexManager,onChange:h,value:p})}),u&&Object(d.jsx)(l.f,{paddingX:1,children:Object(d.jsx)(l.g,{disabled:j,onClick:this.handleCreate,text:this.props.i18n._("Create","board or section dropdown create button","board or section dropdown create button")})})]})}),Object(d.jsx)(a.a,{fetchMore:t,indexManager:this.indexManager,maxHeight:240,onSelectItem:this.handleSelectItem,renderItem:b,sections:f})]})})]})}}t.a=Object(c.a)((function(e){const t=Object(s.c)();return Object(d.jsx)(h,{...e,i18n:t})}))},s7xj:function(e,t,n){n.d(t,"a",(function(){return u}));var i=n("xweI"),o=n.n(i),r=n("yweb"),a=n("xkL+"),s=n("n6mq"),c=n("qpbZ"),l=n("nKUr");function d(e){var t,n;const i=null!==(t=e.imageMediumUrl)&&void 0!==t?t:e.image_medium_url;return{name:null!==(n=e.fullName)&&void 0!==n?n:e.full_name,src:"https://s.pinimg.com/images/user/default_75.png"===i?void 0:i}}function u({board:e,forceViewer:t,isCompact:n,ownerOnly:i}){const u=Object(r.c)(),h=Object(a.b)(),b=i?[d(e.owner)]:function(e,t,n){const{collaborated_by_me:i,collaborating_users:r=[],owner:a}=e,s=[a];if(i||n){const e=r.findIndex(e=>t.isAuth&&e.id===t.id);if(-1!==e){const t=r.splice(e,1)[0];s.push(t)}else s.push(t)}const c=o()(r,"full_name");return[...s,...c]}(e,h,t).map(d),p=b.slice(0,3).map(e=>e.name);let f="";switch(b.length){case 3:f=Object(c.c)(""+u._("{{ first }}, {{ second }}, and {{ last }}","CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.ThreeAvatars","List of three usernames"),{first:""+p[0],second:""+p[1],last:""+p[2]});break;case 2:f=Object(c.c)(""+u._("{{ first }} and {{ second }}","CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.TwoAvatars","List of two usernames."),{first:""+p[0],second:""+p[1]});break;default:f=p.join(", ")}const g=b.length>3?Object(c.c)(", "+u.ngettext("Collaborators: {{ userNames }} and {{ leftCount }} more.","Collaborators: {{ userNames }} and {{ leftCount }} more.",b.length-3,"CollaboratorsFacePile.AvatarGroup.accessibilityLabel.aboveThree","Accessibility label that lists the names of collaborators and a final count of non-displayed avatars"),{userNames:f,leftCount:""+(b.length-3)}):Object(c.c)(", "+u._("Collaborators: {{ userNames }}.","CollaboratorsFacePile.AvatarGroup.accessibilityLabel.notAboveThree","Accessibility label that lists the names of collaborators"),{userNames:f});return Object(l.jsx)(s.c,{accessibilityLabel:g,collaborators:b,size:n?"xs":"sm"})}},sAMb:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("mc7v"),o=n("7nh8"),r=n("QLaP");t.default=function(e){return function(t,n){var a=(void 0===n?{}:n).clientOffset;!function(e){r(Array.isArray(e),"Expected targetIds to be an array.")}(t);var s=t.slice(0),c=e.getMonitor(),l=e.getRegistry();return function(e,t,n){r(t.isDragging(),"Cannot call hover while not dragging."),r(!t.didDrop(),"Cannot call hover after drop.");for(var i=0;i<e.length;i++){var o=e[i];r(e.lastIndexOf(o)===i,"Expected targetIds to be unique in the passed array.");var a=n.getTarget(o);r(a,"Expected targetIds to be registered.")}}(s,c,l),function(e,t,n){for(var o=e.length-1;o>=0;o--){var r=e[o],a=t.getTargetType(r);i.default(a,n)||e.splice(o,1)}}(s,l,c.getItemType()),function(e,t,n){for(var i=0,o=e;i<o.length;i++){var r=o[i];n.getTarget(r).hover(t,r)}}(s,c,l),{type:o.HOVER,payload:{targetIds:s,clientOffset:a||null}}}}},sEfC:function(e,t,n){var i=n("GoyQ"),o=n("QIyF"),r=n("tLB3"),a=Math.max,s=Math.min;e.exports=function(e,t,n){var c,l,d,u,h,b,p=0,f=!1,g=!1,m=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function j(t){var n=c,i=l;return c=l=void 0,p=t,u=e.apply(i,n)}function v(e){return p=e,h=setTimeout(y,t),f?j(e):u}function O(e){var n=e-b;return void 0===b||n>=t||n<0||g&&e-p>=d}function y(){var e=o();if(O(e))return x(e);h=setTimeout(y,function(e){var n=t-(e-b);return g?s(n,d-(e-p)):n}(e))}function x(e){return h=void 0,m&&c?j(e):(c=l=void 0,u)}function _(){var e=o(),n=O(e);if(c=arguments,l=this,b=e,n){if(void 0===h)return v(b);if(g)return clearTimeout(h),h=setTimeout(y,t),j(b)}return void 0===h&&(h=setTimeout(y,t)),u}return t=r(t)||0,i(n)&&(f=!!n.leading,d=(g="maxWait"in n)?a(r(n.maxWait)||0,t):d,m="trailing"in n?!!n.trailing:m),_.cancel=function(){void 0!==h&&clearTimeout(h),p=0,c=b=l=h=void 0},_.flush=function(){return void 0===h?u:x(o())},_}},sErn:function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("La7j");function o(e){e||(e={});const{active_experiments:t,triggerable_experiments:n,batch_exp:o}=e;return{experiments:new i.a(t,n,o)}}},sGxw:function(e,t,n){function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n("jirY")),i(n("z3qU")),i(n("UJTY"))},"sH+O":function(e,t,n){function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}));const o=(e,t)=>{const n=/^\d{1,3}\.\d{1,3}(?:\.\d{1,6})?$/;if(null==e||!e.match(n)||null==t||!t.match(n))return null;const i=null==e?void 0:e.split("."),o=null==t?void 0:t.split("."),r=Math.max((null!=i?i:"").length,(null!=o?o:"").length);for(let c=0;c<r;c+=1){var a,s;const e=c<(null!==(a=null==i?void 0:i.length)&&void 0!==a?a:0)?parseInt(null==i?void 0:i[c],10):0,t=c<(null!==(s=null==o?void 0:o.length)&&void 0!==s?s:0)?parseInt(null==o?void 0:o[c],10):0;if(e<t)return-1;if(e>t)return 1}return 0};class r{constructor(e,t,n){i(this,"start",Date.now()),i(this,"paused",!1),this.onProgress=e,this.onComplete=t,this.duration=n,this.remaining=n,"undefined"!=typeof window&&(this.intervalId=window.setInterval(()=>{const e=this.paused?this.duration-this.remaining:this.duration-this.remaining+(Date.now()-this.start);this.onProgress(e/this.duration)},500),this.resume())}currentTime(){return this.duration-this.remaining}pause(){this.paused=!0,window.clearTimeout(this.timerId),this.remaining-=Date.now()-this.start;const e=this.duration-this.remaining;this.onProgress(e/this.duration)}resume(){this.paused=!1,this.start=Date.now(),window.clearTimeout(this.timerId),this.timerId=window.setTimeout(this.onComplete,this.remaining)}clear(){window.clearTimeout(this.timerId),window.clearInterval(this.intervalId)}}},sZWH:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("S8b/"),o=n("PRGv");t.getEmptyImage=o.default;var r=n("QSJg");t.NativeTypes=r,t.default=function(e){return new i.default(e)}},seP0:function(e,t,n){n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return l}));var i=n("FZ8N"),o=n("F4HH");const{Provider:r,useHook:a}=Object(o.a)({name:"board_picker",v2LoggerMetricName:16,sampleRate:i.b?1:.1}),s=(e,t)=>{let n="unknown";null!=t&&t.includes("pin/")?n="PinCloseup":"/"===t?n="HomeFeed":"PinBookMarklet"===t&&(n="PinBookmarklet"),null==e||e.addBinaryAnnotation("source",n,"STRING")},c=r,l=a},shej:function(e,t,n){function i(){return{type:"SHOW_SECTION_TOOLTIP"}}function o(){return{type:"HIDE_SECTION_TOOLTIP"}}n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}))},slCJ:function(e,t,n){var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n("q1tI"),s=n("SFi7"),c=n("jxrL"),l=n("dJ9d"),d=(n("QWfI"),n("2S0S")),u=n("qFZT"),h=n("Gytx");t.default=function(e){var t=e.DecoratedComponent,n=e.createHandler,i=e.createMonitor,b=e.createConnector,p=e.registerHandler,f=e.containerDisplayName,g=e.getType,m=e.collect,j=e.options.arePropsEqual,v=void 0===j?h:j,O=t,y=t.displayName||t.name||"Component",x=function(e){function u(t){var n=e.call(this,t)||this;return n.decoratedRef=a.createRef(),n.handleChange=function(){var e=n.getCurrentState();h(e,n.state)||n.setState(e)},n.disposable=new c.SerialDisposable,n.receiveProps(t),n.dispose(),n}return o(u,e),u.prototype.getHandlerId=function(){return this.handlerId},u.prototype.getDecoratedComponentInstance=function(){return d(this.decoratedRef.current,"In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()"),this.decoratedRef.current},u.prototype.shouldComponentUpdate=function(e,t){return!v(e,this.props)||!h(t,this.state)},u.prototype.componentDidMount=function(){this.disposable=new c.SerialDisposable,this.currentType=void 0,this.receiveProps(this.props),this.handleChange()},u.prototype.componentDidUpdate=function(e){v(this.props,e)||(this.receiveProps(this.props),this.handleChange())},u.prototype.componentWillUnmount=function(){this.dispose()},u.prototype.receiveProps=function(e){this.handler&&(this.handler.receiveProps(e),this.receiveType(g(e)))},u.prototype.receiveType=function(e){if(this.handlerMonitor&&this.manager&&this.handlerConnector&&e!==this.currentType){this.currentType=e;var t=p(e,this.handler,this.manager),n=t[0],i=t[1];this.handlerId=n,this.handlerMonitor.receiveHandlerId(n),this.handlerConnector.receiveHandlerId(n);var o=this.manager.getMonitor().subscribeToStateChange(this.handleChange,{handlerIds:[n]});this.disposable.setDisposable(new c.CompositeDisposable(new c.Disposable(o),new c.Disposable(i)))}},u.prototype.dispose=function(){this.disposable.dispose(),this.handlerConnector&&this.handlerConnector.receiveHandlerId(null)},u.prototype.getCurrentState=function(){return this.handlerConnector?m(this.handlerConnector.hooks,this.handlerMonitor,this.props):{}},u.prototype.render=function(){var e=this;return a.createElement(s.Consumer,null,(function(t){var n=t.dragDropManager;return e.receiveDragDropManager(n),"undefined"!=typeof requestAnimationFrame&&requestAnimationFrame((function(){return e.handlerConnector.reconnect()})),a.createElement(O,r({},e.props,e.getCurrentState(),{ref:l.isRefable(O)?e.decoratedRef:null}))}))},u.prototype.receiveDragDropManager=function(e){void 0===this.manager&&(d(void 0!==e,"Could not find the drag and drop manager in the context of %s. Make sure to wrap the top-level component of your app with DragDropContext. Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context",y,y),void 0!==e&&(this.manager=e,this.handlerMonitor=i(e),this.handlerConnector=b(e.getBackend()),this.handler=n(this.handlerMonitor,this.decoratedRef)))},u.DecoratedComponent=t,u.displayName=f+"("+y+")",u}(a.Component);return u(x,t)}},sxkF:function(e,t,n){n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return f}));var i=n("q1tI"),o=n("QLqj"),r=n("mHb8"),a=n("n6mq"),s=n("U4JR"),c=n("yweb"),l=n("nKUr");function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u="GroupBoardContentViewSwitcher_Settings",h=e=>e<=500,b=Object.freeze({}),p={custom:11566,newest:11564,oldest:11565,most_comments:11563,most_reactions:11562,by_pinner:11561},f=(e,t)=>{const n=o.b.localStorage.getItem(u)||b;return(e.isAuth&&n[e.id]||{})[t.id]||null};class g extends i.Component{constructor(...e){super(...e),d(this,"handleChange",({event:e,value:t})=>{const n=t,{onChange:i,viewer:a,board:c}=this.props;e.stopPropagation(),window.scrollTo({top:0,left:0,behavior:"smooth"}),((e,t,n)=>{if(!e.isAuth)return;const i=o.b.localStorage.getItem(u)||b,r=i[e.id]||{},a={...i,[e.id]:{...r,[t.id]:n}};o.b.localStorage.setItem(u,a)})(a,c,n),i&&i(n),Object(s.b)(101,{view:5,viewParameter:Object(r.a)(a,c),component:13475,element:p[n],board_id:c.id})}),d(this,"logDropdownClick",()=>{const{board:e,viewer:t}=this.props;Object(s.b)(101,{view:5,viewParameter:Object(r.a)(t,e),component:13486,element:11567,board_id:e.id})}),d(this,"handleKeyPress",e=>{const{charCode:t=0}=e;32===t&&(e.preventDefault(),this.logDropdownClick())})}render(){const{currentView:e}=this.props,t=[{value:"custom",label:this.props.i18n._("Custom","Option for users to filter their Pins in a custom order (as it currently is)","Option for users to filter their Pins in a custom order (as it currently is)")},{value:"most_reactions",label:this.props.i18n._("Most reactions","Option for users to filter their Pins by the most reactions","Option for users to filter their Pins by the most reactions")}];return Object(l.jsx)("div",{role:"listbox",tabIndex:0,onClick:this.logDropdownClick,onKeyPress:this.handleKeyPress,children:Object(l.jsx)(a.S,{id:"gbFilterSelectlist",onChange:this.handleChange,options:t,size:"lg",value:e})})}}t.a=function(e){const t=Object(c.c)();return Object(l.jsx)(g,{...e,i18n:t})}},t3tn:function(e,t,n){function i(e){return{type:"UPDATE_PROFILE_BOARD_VIEW",payload:{profileBoardView:e}}}function o(e){return{type:"UPDATE_BOARD_SORT_OPTION",payload:{updatedBoardOrder:e}}}function r(e){return{type:"UPDATE_BOARD_PIN_VIEW",payload:{boardPinView:e}}}function a(e){return{type:"UPDATE_PROFILE_PIN_VIEW",payload:{profilePinView:e}}}n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return a}))},t9Ac:function(e,t,n){n.d(t,"a",(function(){return l}));var i=n("6A0I"),o=n("TgLd"),r=n("yweb"),a=n("pLLR"),s=n("n6mq"),c=n("nKUr");function l(e){const t=Object(r.c)(),{onSectionCreate:n,onClose:l,selectedBoard:d,useLayer:u=!0}=e,{isRTL:h}=Object(a.d)(),b=u?o.b:s.H,p=Object(c.jsx)(s.f,{paddingX:4,paddingY:6,position:"relative",children:Object(c.jsxs)(s.u,{alignItems:"center",justifyContent:"center",children:[Object(c.jsx)(s.f,{maxWidth:400,children:Object(c.jsx)(s.v,{align:"center",size:"md",children:t._("Add section","Modal header for adding a section","Modal header for adding a section")})}),Object(c.jsx)(s.f,{left:h,paddingX:6,paddingY:5,position:"absolute",right:!h,top:!0,children:Object(c.jsx)(s.x,{icon:"cancel",iconColor:"darkGray",size:"lg",accessibilityLabel:t._("Close","CreateSection.Modal.Icon","Icon to close section create modal"),onClick:l})})]})});return Object(c.jsx)(b,{accessibilityModalLabel:t._("Add a section to the board","modal to add a section to a board","modal to add a section to a board"),heading:p,onDismiss:l,size:"sm",children:Object(c.jsx)(s.f,{display:"flex",color:"white",rounding:2,children:Object(c.jsx)(i.a,{board:d,completeCreateSectionAction:n,onClearModal:l,positionRelative:!0,showTitle:!1})})})}},tEMl:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("MCs0"),o=(n("QWfI"),n("2S0S")),r=["canDrop","hover","drop"],a=function(){function e(e,t,n){this.spec=e,this.monitor=t,this.ref=n,this.props=null}return e.prototype.receiveProps=function(e){this.props=e},e.prototype.receiveMonitor=function(e){this.monitor=e},e.prototype.canDrop=function(){return!this.spec.canDrop||this.spec.canDrop(this.props,this.monitor)},e.prototype.hover=function(){this.spec.hover&&this.spec.hover(this.props,this.monitor,i.getDecoratedComponent(this.ref))},e.prototype.drop=function(){if(this.spec.drop)return this.spec.drop(this.props,this.monitor,this.ref.current)},e}();t.default=function(e){return Object.keys(e).forEach((function(t){o(r.indexOf(t)>-1,'Expected the drop target specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',r.join(", "),t),o("function"==typeof e[t],"Expected %s in the drop target specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target",t,t,e[t])})),function(t,n){return new a(e,t,n)}}},tLB3:function(e,t,n){var i=n("jXQH"),o=n("GoyQ"),r=n("/9aa"),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(r(e))return NaN;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=i(e);var n=s.test(e);return n||c.test(e)?l(e.slice(2),n?2:8):a.test(e)?NaN:+e}},tvWU:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("+k3R"),o=n("slCJ"),r=n("TPjH"),a=n("tEMl"),s=n("E3gc"),c=n("bY+3"),l=n("IRZy"),d=n("QWfI"),u=n("2S0S");t.default=function(e,t,n,h){void 0===h&&(h={}),i.default("DropTarget","type, spec, collect[, options]",e,t,n,h);var b=e;"function"!=typeof e&&(u(s.default(e,!0),'Expected "type" provided as the first argument to DropTarget to be a string, an array of strings, or a function that returns either given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',e),b=function(){return e}),u(d.isPlainObject(t),'Expected "spec" provided as the second argument to DropTarget to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',t);var p=a.default(t);return u("function"==typeof n,'Expected "collect" provided as the third argument to DropTarget to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',n),u(d.isPlainObject(h),'Expected "options" provided as the fourth argument to DropTarget to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',n),function(e){return o.default({containerDisplayName:"DropTarget",createHandler:p,registerHandler:r.default,createMonitor:function(e){return new c.default(e)},createConnector:function(e){return new l.default(e)},DecoratedComponent:e,getType:b,collect:n,options:h})}}},uCRx:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("QLaP");t.validateSourceContract=function(e){i("function"==typeof e.canDrag,"Expected canDrag to be a function."),i("function"==typeof e.beginDrag,"Expected beginDrag to be a function."),i("function"==typeof e.endDrag,"Expected endDrag to be a function.")},t.validateTargetContract=function(e){i("function"==typeof e.canDrop,"Expected canDrop to be a function."),i("function"==typeof e.hover,"Expected hover to be a function."),i("function"==typeof e.drop,"Expected beginDrag to be a function.")},t.validateType=function e(t,n){n&&Array.isArray(t)?t.forEach((function(t){return e(t,!1)})):i("string"==typeof t||"symbol"==typeof t,n?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}},uVIr:function(e,t,n){function i(e){return{type:"FEED_ITEMS_ADDED",payload:e}}n.d(t,"a",(function(){return i}))},"ut/Y":function(e,t,n){var i=n("ZCpW"),o=n("GDhZ"),r=n("zZ0H"),a=n("Z0cm"),s=n("+c4W");e.exports=function(e){return"function"==typeof e?e:null==e?r:"object"==typeof e?a(e)?o(e[0],e[1]):i(e):s(e)}},utGV:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("q1tI"),o=n("TPjH"),r=n("/acK"),a=n("IRZy"),s=n("bY+3");t.useDropTargetMonitor=function(){var e=r.useDragDropManager();return[i.useMemo((function(){return new s.default(e)}),[e]),i.useMemo((function(){return new a.default(e.getBackend())}),[e])]},t.useDropHandler=function(e,t,n){var a=r.useDragDropManager(),s=i.useMemo((function(){return{canDrop:function(){var n=e.current.canDrop;return!n||n(t.getItem(),t)},hover:function(){var n=e.current.hover;n&&n(t.getItem(),t)},drop:function(){var n=e.current.drop;if(n)return n(t.getItem(),t)}}}),[t]);i.useEffect((function(){var i=o.default(e.current.accept,s,a),r=i[0],c=i[1];return t.receiveHandlerId(r),n.receiveHandlerId(r),c}),[t,n])}},uyxo:function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("jHGc"),o=n("n6mq"),r=n("nKUr");function a(e){const{children:t,currentCarouselIndex:n,onDeleteSavedState:a,onEditSubmit:s,onToggleModal:c,pinId:l,variant:d,viewParameter:u,shouldUseLegoStyles:h}=e,b="pin"===d?{bgColor:"white",iconColor:"darkGray",size:"sm"}:{bgColor:"transparent",iconColor:"darkGray",size:"sm"};return Object(r.jsxs)(o.f,{alignItems:"center",display:"flex",direction:"row",marginStart:"pin"===d?-1:void 0,marginEnd:"pin"===d?-1:void 0,paddingX:"closeup"!==d||h?void 0:2,width:"closeup"===d?"100%":void 0,height:"100%",children:[t&&Object(r.jsx)(o.f,{paddingX:1,"data-test-id":"saved-info",flex:"grow",children:t}),Object(r.jsx)(o.f,{paddingX:1,flex:"none",marginStart:"auto",children:Object(r.jsx)(i.default,{component:0,onDelete:a,onSubmit:s,pinId:l,onToggleModal:c,viewParameter:u,carouselSlotCurrentIndex:n,style:b,shouldUseLegoStyles:h,useLegoStyles:"pin"===d})})]})}},"v+PR":function(e,t,n){n.d(t,"a",(function(){return g}));var i=n("q1tI"),o=n("yweb"),r=n("w70y"),a=n("vvax"),s=n("n6mq"),c=n("nKUr");function l({pin:e}){const t=Object(o.c)(),{data:n}=Object(r.a)({name:"ApiResource",options:{url:`/v3/pins/${e.id}/`,field_sets:["pin.board()","pin.id","pin.pinned_to_board()","pin.type","pin.via_pinner()"]},noCache:!0});return n&&n.pinned_to_board&&"quick_creates"!==n.pinned_to_board.layout?Object(c.jsxs)(s.f,{children:[Object(c.jsx)(s.f,{color:"red","data-test-id":"already-pinned",display:"flex",padding:3,rounding:2,width:185,children:Object(c.jsx)(s.cb,{align:"center",color:"white",size:"md",weight:"bold",children:Object(a.b)(t._("Psst! You already saved this Pin to {{ board_name }} ","Toast for already having repinned pin","Toast for already having repinned pin"),{board_name:(n.pinned_to_board||{}).name}).join(" ")})}),Object(c.jsx)(s.f,{display:"flex",justifyContent:"center",marginTop:-3,children:Object(c.jsx)(s.w,{accessibilityLabel:"",color:"red",icon:"heart",size:26})})]}):null}var d=n("P6kd"),u=n("g/XF"),h=n("U4JR");function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const p=/#[^(. #,\/$%\^&\*;:{}=\`~()\[\]@|<>)]*/,f=/#[^(. #,\/$%\^&\*;:{}=\`~()\[\]@|<>)]*$/;class g extends i.Component{constructor(...e){super(...e),b(this,"state",{cursorIndex:-1,flyoutCursorIndex:-1,description:this.props.pin&&this.props.pin.description&&this.props.pin.description.trim()||"",editing:!1,hashtagQuery:"",isHashtagFlyoutOpen:!1,flyoutOpened:!1}),b(this,"onDescriptionChange",(e,t)=>{const n=new RegExp(p,"g");let i="";if(t<e.length){let o=n.exec(e),r=n.lastIndex<t;for(;o&&r;)o=n.exec(e),r=n.lastIndex<t;const a=!!o&&p.test(e.slice(o.index,t));r=!!o&&o.index<t,o&&a&&r&&(i=o[0])}else{const t=f.exec(e);i=t?t[0]:""}this.updateDescription(e);const o=p.test(i),r=this.state.isHashtagFlyoutOpen?this.state.flyoutCursorIndex:e.slice(0,t).lastIndexOf("#");this.setState({cursorIndex:t,flyoutCursorIndex:r,description:e,hashtagQuery:i,isHashtagFlyoutOpen:o,flyoutOpened:this.state.flyoutOpened||o})}),b(this,"onCursorChange",e=>{const{isHashtagFlyoutOpen:t,flyoutCursorIndex:n}=this.state;t&&e<n&&this.setState({isHashtagFlyoutOpen:!1})}),b(this,"updateDescription",e=>{this.props.updateDescription&&this.props.updateDescription(e)}),b(this,"handleDescriptionBlur",e=>{const t=e.target.value.trim(),{isHashtagFlyoutOpen:n}=this.state;this.updateDescription(t),this.setState({description:t,editing:n})}),b(this,"handleDescriptionEdit",()=>{this.setState({editing:!0})}),b(this,"handleHashtagAddition",e=>{const{pin:t}=this.props;Object(h.b)(101,{component:208,element:10249,hashtags:e,objectId:t.id});const n=this.state.flyoutCursorIndex,i=Number(n+this.state.hashtagQuery.length),o=this.state.description.slice(0,n)+e+" "+this.state.description.slice(i);this.updateDescription(o),this.setState({description:o,editing:!0,hashtagQuery:"",isHashtagFlyoutOpen:!1})}),b(this,"handleRefTextArea",e=>{this._textArea=e})}render(){const{color:e,isFirstPin:t,pin:n,pinImageRef:i}=this.props,{description:o,editing:r,flyoutOpened:a,hashtagQuery:h,isHashtagFlyoutOpen:b}=this.state,{images:p,link:f}=n,g=p&&p["236x"],m=g&&g.url||n.image_base64;return Object(c.jsxs)(s.f,{display:"flex",alignItems:"center",justifyContent:"center",position:"relative",width:t?"50%":"",dangerouslySetInlineStyle:{__style:a&&r?{transform:"translateY(-75px)"}:{}},children:[Object(c.jsxs)(s.u,{alignItems:"center",direction:"column",justifyContent:"start",children:[n&&n.id&&Object(c.jsx)(l,{pin:n}),Object(c.jsx)(s.f,{paddingY:t?9:0,width:240,children:Object(c.jsx)(s.f,{ref:i,maxHeight:a&&r?220:335,rounding:4,overflow:"hidden",children:m?Object(c.jsx)(s.y,{alt:o,src:m,naturalHeight:(null==g?void 0:g.height)||1,naturalWidth:(null==g?void 0:g.width)||1}):!!f&&Object(c.jsx)(u.a,{color:e||"",description:o,url:f})})})]}),this.anchor&&b?Object(c.jsx)(d.a,{addHashtag:this.handleHashtagAddition,anchor:this.anchor,editing:r,query:h}):null]})}}},vVEi:function(e,t,n){n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return g})),n.d(t,"e",(function(){return j})),n.d(t,"c",(function(){return y})),n.d(t,"f",(function(){return x})),n.d(t,"d",(function(){return _}));var i=n("/MKj"),o=n("OWXb"),r=n("nGHF"),a=n("q1tI"),s=n("4jWr"),c=n("yweb"),l=n("n6mq"),d=n("nKUr");function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(){const e=Object(c.c)();return Object(d.jsx)(l.u,{alignItems:"stretch",justifyContent:"around",overflow:"hidden",children:Object(d.jsx)("div",{className:"boardBlockingActionToastWhiteSpinner",children:Object(d.jsx)(l.w,{accessibilityLabel:e._("board action pending","accessibility label for board action toast to indicate pending action","accessibility label for board action toast to indicate pending action"),color:"white",icon:"knoop",size:40})})})}class b extends a.Component{constructor(...e){super(...e),u(this,"state",{hiding:!1,visible:!1}),u(this,"handleHide",()=>{this.setState({hiding:!0}),this.timeout=window.setTimeout(this.props.onHide,s.a)}),u(this,"handleMouseEnter",()=>{window.clearTimeout(this.timeout)}),u(this,"handleMouseLeave",()=>{this.timeout=window.setTimeout(this.handleHide,this.props.duration||2e3)})}componentDidMount(){this.firstLine&&(window.setTimeout(()=>{this.setState({visible:!0})},100),this.timeout=window.setTimeout(this.handleHide,this.props.duration||2e3))}get firstLine(){const{actionType:e,actionStatus:t,location:{isSection:n}}=this.props,i="completed"===t;switch(e){case"create_section":return i?this.props.i18n._("Created section","toast text to indicate a section has been created successfully","toast text to indicate a section has been created successfully"):this.props.i18n._("Creating section","toast text to indicate a section is being created","toast text to indicate a section is being created");case"delete_pins":return n?i?this.props.i18n._("Deleted Pins from","toast text to notify Pins have been deleted from a section","toast text to notify Pins have been deleted from a section"):this.props.i18n._("Deleting Pins from","toast text to notify Pins are being deleted from a section","toast text to notify Pins are being deleted from a section"):i?this.props.i18n._("Deleted Pins from","toast text to notify Pins have been deleted from a board","toast text to notify Pins have been deleted from a board"):this.props.i18n._("Deleting Pins from","toast text to notify Pins are being deleted from a board","toast text to notify Pins are being deleted from a board");case"move_pins":return n?i?this.props.i18n._("Moved to","toast text to notify pins have been moved to this section","toast text to notify pins have been moved to this section"):this.props.i18n._("Moving to","toast text to notify pins are being moved to this section","toast text to notify pins are being moved to this section"):i?this.props.i18n._("Moved to","toast text to notify pins have been moved to this board","toast text to notify pins have been moved to this board"):this.props.i18n._("Moving to","toast text to notify pins are being moved to this board","toast text to notify pins are being moved to this board");case"merge":return n?i?this.props.i18n._("Moved to","toast text to notify anotehr section has been merged to this section","toast text to notify anotehr section has been merged to this section"):this.props.i18n._("Moving to","toast text to notify another section is being merged to this section","toast text to notify another section is being merged to this section"):i?this.props.i18n._("Moved to","toast text to notify another board has been merged to this board","toast text to notify another board has been merged to this board"):this.props.i18n._("Moving to","toast text to notify another board is being merged to this board","toast text to notify another board is being merged to this board");default:return null}}render(){const{actionStatus:e,location:t}=this.props,{visible:n,hiding:i}=this.state;if(!this.firstLine)return null;const o="inProgress"===e?t.name+"...":t.name;return Object(d.jsx)(l.f,{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,dangerouslySetInlineStyle:{__style:Object(s.b)(n,i)},children:Object(d.jsx)(l.fb,{text:Object(d.jsxs)(a.Fragment,{children:[Object(d.jsx)(l.cb,{children:this.firstLine}),Object(d.jsx)(l.cb,{weight:"bold",children:o})]}),thumbnail:"completed"===e?void 0:Object(d.jsx)(h,{})})})}}function p(e){const t=Object(c.c)();return Object(d.jsx)(b,{...e,i18n:t})}const f=2e3,g=5e3;const m=["merge","move_pins","create_section"];function j({blockingActions:e,actionType:t,boardId:n,sectionId:i}){return e.find(e=>!(function(e){switch(e){case 22:return"delete_board";case 7172:case 7173:return"merge";case 900:case 7158:case 7109:return"delete_pins";case 901:case 7108:return"move_pins";case 7100:return"create_section";case 7102:return"delete_section";default:return null}}(e.action_type)!==t||m.includes(e.action_type)&&e.is_origin||e.board_id!==n||(i?i!==e.section_id:e.section_id&&"-1"!==e.section_id)||1===e.progress))}let v=0;const O={};function y({check:e,checkDelay:t,checkInterval:n,onComplete:i}){const o="timeout"+v;v+=1;const r=()=>{const t=Date.now();e().then(e=>{const a=Date.now()-t;e?(i(),delete O[o]):O[o]=setTimeout(r,Math.max(1e3,n-a))}).catch(()=>{delete O[o]})};O[o]=setTimeout(r,t)}const x=(e,t,n,i)=>({onHide:o})=>{var r;return Object(d.jsx)(p,{actionType:t,actionStatus:e,duration:"inProgress"===e?f:2e3,location:{name:i?i.title:null!==(r=n.name)&&void 0!==r?r:"",isSection:!!i},onHide:o})};function _(e){function t(t){const n=Object(i.useDispatch)(),{showToast:a}=Object(r.b)();return Object(d.jsx)(e,{...t,showBlockingActionToast:({actionType:e,board:t,section:i})=>{a(x("inProgress",e,t,i)),y({check:()=>n(Object(o.a)(t.id)).then(n=>!j({blockingActions:n,actionType:e,boardId:t.id,sectionId:i&&i.id})),checkDelay:f,checkInterval:g,onComplete:()=>a(x("completed",e,t,i))})}})}return t.displayName=`WithShowBlockingActionToasts(${e.displayName||e.name||""})`,t}},vZlu:function(e,t,n){n.d(t,"g",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"d",(function(){return l}));const i=e=>({type:"TOGGLE_TYPEAHEAD_OVERLAY",payload:{value:e}});function o(e){const{currentTime:t,isPromoted:n,pinId:i}=e;return{type:"SET_CURRENT_VIDEO",payload:{pinId:i,isPromoted:n,currentTime:t}}}function r(e){return{type:"SET_IS_AUTOPLAY",payload:{isAutoplay:e}}}function a(e){const{currentTime:t,isPromoted:n,pinId:i}=e;return{type:"PAUSE_CURRENT_VIDEO",payload:{currentTime:t,pinId:i,isPromoted:n}}}function s(e){return{type:"SET_APP_FOCUS_STATE",payload:{appInFocus:e}}}function c(e){return{type:"SET_VIEWPORT_SIZE",payload:{viewportSize:e}}}function l(e){return{type:"SET_FOOTER_VISIBILITY_STATE",payload:{footerPlusButtonVisible:e}}}},vh5K:function(e,t,n){n.d(t,"e",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return l}));var i=n("mwIZ"),o=n.n(i);function r(e){return!!e&&0!==e.type}const a=(e,t,n)=>{const i=e[n];return t[n]&&r(i)?i:null};function s(e){return o()(e,["display_data","anchor"])}function c(e,t,n,i=!1,o=!1){if(i&&e&&t)return`${e}%3A${t}`;const r=n[e];if(r){if(r.experience_id===t)return r.id.replace(":","%3A")}else if(o&&e&&t)return`${e}%3A${t}`;return null}function l(e,t){t&&8===t.type&&(e[s(t)]=t)}},vmVG:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("7nh8"),o=n("QLaP");t.default=function(e){return function(){var t=e.getMonitor(),n=e.getRegistry();!function(e){o(e.isDragging(),"Cannot call endDrag while not dragging.")}(t);var r=t.getSourceId();return n.getSource(r,!0).endDrag(t,r),n.unpinSource(),{type:i.END_DRAG}}}},vvax:function(e,t,n){var i=n("qpbZ");n.d(t,"b",(function(){return i.b})),n.d(t,"a",(function(){return i.a}))},"w/wX":function(e,t,n){var i=n("QqLw"),o=n("ExA7");e.exports=function(e){return o(e)&&"[object Set]"==i(e)}},w70y:function(e,t,n){n.d(t,"a",(function(){return l}));var i=n("q1tI"),o=n("/MKj"),r=n("hZxF"),a=n("B9iM"),s=n("Wer7");const c={};function l({enabledRouteRefresh:e,dangerouslyDisableFetch:t,options:n,name:l,noCache:d,headers:u}){const{dispatch:h,isNotFirstOrRevisit:b,lastDangerouslyDisableFetch:p,lastOptionsKey:f,optionsKey:g}=Object(a.a)({dangerouslyDisableFetch:t,options:n}),m=e=>(e[l]||c)[g]||c,j=Object(o.useSelector)(({resources:e})=>m(e).nextBookmark),v=Object(o.useSelector)(({resources:e})=>m(e).data),O=Object(o.useSelector)(({resources:e})=>m(e).auxData),y=Object(o.useSelector)(({resources:e})=>m(e).error),x=Object(o.useSelector)(({resources:e})=>Boolean(m(e).fetching)),_=Boolean(v||y),w=Boolean(_&&e&&b&&!t),[C,S]=Object(i.useState)(w),I=Object(i.useCallback)(()=>{t||h(Object(s.a)(l,n,u))},[t,h,u,l,g]),E=Object(i.useCallback)(()=>{t||h(Object(s.d)(l,n,u))},[t,u,l,g]),T=Object(i.useCallback)(()=>{t||(I(),S(!0))},[t,I,S]),P=Object(i.useRef)({auxData:void 0,data:void 0,error:void 0,fetchMore:E,isAtEnd:!1,isFetching:!1,isLoaded:!1,isRefreshing:!1,nextBookmark:void 0,refresh:T});Object(r.a)(()=>{!0!==d&&_&&!w||I()}),Object(i.useEffect)(()=>{void 0!==f.current&&g!==f.current&&I(),f.current=g},[f,I,g]),Object(i.useEffect)(()=>{!0===p.current&&!1===t&&I(),p.current=!!t},[t,p,I]);const D={auxData:O,data:v,error:y,fetchMore:E,isAtEnd:_&&!x&&"-end-"===j,isFetching:x,isLoaded:_,isRefreshing:C,nextBookmark:j,refresh:T};return Object(o.shallowEqual)(D,P.current)||(!C||!P.current.data&&w||Object(o.shallowEqual)(D.data,P.current.data)||(D.isRefreshing=!1,S(!1)),P.current=D),P.current}},wrZu:function(e,t,n){var i=n("+K+b"),o=n("XYm9"),r=n("b2z7"),a=n("otv/"),s=n("yP5f");e.exports=function(e,t,n){var c=e.constructor;switch(t){case"[object ArrayBuffer]":return i(e);case"[object Boolean]":case"[object Date]":return new c(+e);case"[object DataView]":return o(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":return new c;case"[object Number]":case"[object String]":return new c(e);case"[object RegExp]":return r(e);case"[object Set]":return new c;case"[object Symbol]":return a(e)}}},x12c:function(e,t,n){n.d(t,"b",(function(){return s}));let i=0;class o{constructor(e,t,n){this.pubsub=e,this.target=t,this.subscriberOptions=n,this.topics={}}publish(e,t,n){return n?this.getHandler()(this.target,e,t,n):this.getHandler()(this.target,e,t),this}subscribe(...e){return this.getChannel().addSubscriber(this,e),e.forEach(e=>{this.topics[e]=!0}),this}unsubscribe(...e){return 0===e.length&&(e=this.getTopics()),e.forEach(e=>delete this.topics[e]),this.getChannel().removeSubscriber(this,e),this}getChannel(){return this.pubsub.getChannel(this.target)}getHandler(){return this.subscriberOptions.handler}getName(){return this.subscriberOptions.name}getId(){return this.id||(this.id=i,i+=1),this.id}getTopics(){return Object.keys(this.topics)}}class r{constructor(e,t){this.pubsub=e,this.target=t,this.subscribers=[],this.filters={},this.messages={}}addSubscriber(e,t){const n=e.getId();return this.subscribers[n]=e,t.forEach(t=>{this.filters[t]||(this.filters[t]={}),this.filters[t][n]||(this.filters[t][n]=e)}),e}removeSubscriber(e,t){const n=e.getId();t.forEach(e=>{this.filters[e]&&delete this.filters[e][n]}),this.subscribers.length<1&&this.pubsub.clearChannel(this.target)}publish(e,t){Object.values(this.filters[e]||{}).forEach(n=>{n.publish(e,t)}),"*"!==e&&this.publish("*",t),this.messages[e]=t}getSubscribers(...e){if(!e.length)return this.subscribers;const t={};return e.forEach(e=>{Object.assign(t,this.filters[e])}),Object.values(t)}unsubscribeAll(){this.subscribers.forEach(e=>{e.unsubscribe()})}}const a={Subscriber:o,Channel:r,instance:new class{constructor(e){this.ns=e,this.channels={}}_subscribe(e,t,n){const i=new o(this,e,{handler:n});return i.subscribe(t),i}subscribe(e,t,n){return this._subscribe(e,t,n)}publish(e,t,n){this.getChannel(e).publish(t,n)}getChannel(e){return this.channels[e]||(this.channels[e]=new r(this,e)),this.channels[e]}clearChannel(e){const t=this.channels[e];t&&(t.unsubscribeAll(),delete this.channels[e])}}("local")},s=a.instance;t.a=a},xBNU:function(e,t,n){(function(t){var n;if("undefined"!=typeof window&&void 0===window.Pc){const e=document.getElementById("pc-state");window.Pc=e?JSON.parse(e.textContent):{}}const i=null!==(n="undefined"!=typeof window?window.Pc:t.Pc)&&void 0!==n?n:{};e.exports=i}).call(this,n("yLpj"))},xKh6:function(e,t,n){var i=n("eOdZ");var o=e=>i.d.create("InviteAttributionResource",{invite_code:e}).callCreate(),r=n("RNo4");t.a=(e=(e=>{}))=>{const t=Object(r.l)(window.location.search),n=t.invite_code;n?o(n):e(t)}},xOLo:function(e,t,n){n.r(t),n.d(t,"CarouselSliders",(function(){return p}));var i=n("/MKj"),o=n("XSD5"),r=n("6/Sz"),a=n("yweb"),s=n("0nTG"),c=n("U4JR"),l=n("n6mq"),d=n("nKUr");const u={slider:{cursor:"pointer",padding:"30px 16px",position:"relative",zIndex:"105",pointerEvents:"auto"}},h=(e,t,n,i,o,r,a,l,d,u)=>{if(!u||!o){const{carousel_slots:u,id:h}=o;Object(c.b)(108,{...d,objectId:t,component:l,view:a,viewParameter:r,eventData:{pinCarouselSlotEventData:{carouselSlotId:(null==u?void 0:u[n])&&Number(u[n].id),carouselDataId:Number(h),carouselSlotIndex:n,toCarouselSlotIndex:i}},...Object(s.f)(e)||{}})}},b=(e,t,n,i,o,r)=>{r||void 0===i||(e.preventDefault(),e.stopPropagation(),i(t,n)),void 0!==o&&o(n)},p=({carouselIndex:e,carouselData:t,changeCarouselSlotIndex:n,handleCarouselSwipe:i,pin:o,pinId:r,contextLogData:s,viewParameter:c,viewType:p,componentType:f,isEditMode:g,forwardNode:m,backNode:j})=>{const v=Object(a.c)();if(!t)return null;const{carousel_slots:O=[],index:y=0}=t,x=void 0!==e?e:y,_=Math.max(0,x-1),w=Math.min(O.length-1,x+1);return Object(d.jsxs)(l.f,{display:"flex",justifyContent:"between",position:"absolute",alignItems:"center",left:!0,right:!0,bottom:!0,top:!0,children:[Object(d.jsx)("div",{"data-test-id":"carousel-slider-left",role:"presentation",onClick:e=>{b(e,r,_,n,i,g),h(o,r,x,_,t,c,p,f,s,g)},onKeyUp:e=>{b(e,r,_,n,i,g),h(o,r,x,_,t,c,p,f,s,g)},style:u.slider,children:x>0&&Object(d.jsx)(l.u,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:j||Object(d.jsx)(l.w,{color:"white",icon:"arrow-back",accessibilityLabel:v._("View Previous","Button to advance carousel to the previous image","Button to advance carousel to the previous image")})})}),Object(d.jsx)("div",{"data-test-id":"carousel-slider-right",role:"presentation",onClick:e=>{b(e,r,w,n,i,g),h(o,r,x,w,t,c,p,f,s,g)},onKeyUp:e=>{b(e,r,w,n,i,g),h(o,r,x,w,t,c,p,f,s,g)},style:u.slider,children:x<O.length-1&&Object(d.jsx)(l.u,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:m||Object(d.jsx)(l.w,{color:"white",icon:"arrow-forward",accessibilityLabel:v._("View Next","Button to advance carousel to the next image","Button to advance carousel to the next image")})})})]})};t.default=Object(i.connect)(({pins:e},{carouselData:t,pinId:n})=>{const i=e[n];return{pin:i,carouselData:t||Object(r.a)(i)}},e=>({changeCarouselSlotIndex:(t,n)=>e(Object(o.a)(t,n))}))(p)},xUWj:function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("w70y");const o=({boardId:e,ownerUsername:t,ownerName:n,ownerImgSrc:o})=>{const{data:r,isLoaded:a}=Object(i.a)({name:"BoardInvitesResource",options:{board_id:e,field_set_key:"boardEdit",status_filters:"new,accepted,contact_request_not_approved",sort:"viewer_first",include_inactive:!0}}),s=[{name:n,src:o,href:`/${t}/`,isDim:!1}];return a&&r&&r.length>0&&r.forEach(e=>{s.push({name:e&&e.invited_user?e.invited_user.full_name:"",src:e&&e.invited_user?e.invited_user.image_medium_url:"",href:e&&e.invited_user?`/${e.invited_user.username}/`:"",isDim:e&&["new","contact_request_not_approved"].includes(e.status)})}),s};function r({children:e,...t}){return e(o(t))}t.b=o},xZ6X:function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("n6mq"),o=n("nKUr");function r(e){const{iconNode:t,title:n,subtitle:r,accessory:a}=e;return Object(o.jsxs)(i.f,{display:"flex",alignItems:"center",paddingX:4,paddingY:2,children:[Object(o.jsx)(i.f,{marginEnd:2,children:t}),Object(o.jsxs)(i.u,{alignItems:"start",direction:"column",flex:"grow",justifyContent:"start",children:[Object(o.jsx)(i.cb,{color:"darkGray",size:"lg",lineClamp:1,weight:"bold",children:n}),Object(o.jsx)(i.cb,{lineClamp:1,size:"sm",color:"gray",children:r})]}),a&&Object(o.jsx)(i.f,{children:a})]})}},xjqW:function(e,t,n){function i({id:e,isProduct:t,isPromoted:n,videoDuration:i,viewParameter:o,viewType:r,type:a}){return{type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:t,isPromoted:n,videoDuration:i,viewParameter:o,viewType:r,type:a}}}function o(){return{type:"REPORT_CONTENT_DISMISS"}}n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}))},"xkL+":function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("1dBE");const{Provider:o,Consumer:r,useHook:a}=Object(i.c)("viewer");t.b=a},xweI:function(e,t,n){var i=n("XGnz"),o=n("alwl"),r=n("EA7m"),a=n("mv/X"),s=r((function(e,t){if(null==e)return[];var n=t.length;return n>1&&a(e,t[0],t[1])?t=[]:n>2&&a(t[0],t[1],t[2])&&(t=[t[0]]),o(e,i(t,1),[])}));e.exports=s},y6OW:function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("yweb"),o=n("qpbZ");const r=36e5,a=864e5;function s(){const e=Object(i.c)();return function(t,n){const i=new Date(t),s=new Date-i,c=Math.floor(s/6e4),l=Math.floor(s/r),d=Math.floor(s/a),u=Math.floor(s/6048e5),h=Math.floor(s/31536e6),b=e.ngettext("{{ minutes }} minute ago","{{ minutes }} minutes ago",c),p=e.ngettext("{{ hours }} hour ago","{{ hours }} hours ago",l),f=e.ngettext("{{ days }} day ago","{{ days }} days ago",d),g=e.ngettext("{{ weeks }} week ago","{{ weeks }} weeks ago",u),m=e.ngettext("{{ years }} year ago","{{ years }} years ago",h),j=e.ngettext("{{ minutes }}m","{{ minutes }}m",c,"minutes ago abbreviated","minutes ago abbreviated"),v=e.ngettext("{{ hours }}h","{{ hours }}h",l,"hours ago abbreviated","hours ago abbreviated"),O=e.ngettext("{{ days }}d","{{ days }}d",d,"days ago abbreviated","days ago abbreviated"),y=e.ngettext("{{ weeks }}w","{{ weeks }}w",u,"weeks ago abbreviated","weeks ago abbreviated"),x=e.ngettext("{{ years }}y","{{ years }}y",h,"years ago abbreviated","years ago abbreviated");return h>0?Object(o.b)(n?x:m,{years:h}).join(""):u>0?Object(o.b)(n?y:g,{weeks:u}).join(""):d>0?Object(o.b)(n?O:f,{days:d}).join(""):l>0?Object(o.b)(n?v:p,{hours:l}).join(""):c>0?Object(o.b)(n?j:b,{minutes:c}).join(""):e._("Just now")}}},y9Ij:function(e,t,n){n.d(t,"a",(function(){return b}));var i=n("q1tI"),o=(n("PNKV"),n("TSYQ")),r=n.n(o),a=n("rVUJ"),s=n("uyxo"),c=n("yweb"),l=n("n6mq"),d=n("nKUr");const u={sm:32,md:40,lg:48},h=Object(i.memo)(Object(i.forwardRef)(({carouselData:e,disabled:t=!1,iconOnly:n,isCloseupPin:i,onBoardUpdated:o,onClick:a,onSavedClick:h,onToggleModal:b,onUnsaved:p,renderSavedStatus:f,saveButtonType:g="classic",saved:m,savedInfo:j,size:v="md",variant:O="classic",viewParameter:y},x)=>{const _=Object(c.c)();return m&&"controlled"===g?Object(d.jsx)(l.g,{fullWidth:!0,disabled:!0,text:_._("Saved"),size:"sm"}):!i&&j&&f&&p&&o&&"classic"===g?Object(d.jsx)(s.a,{currentCarouselIndex:e&&e.index,onDeleteSavedState:p,onEditSubmit:o,onToggleModal:b,pinId:j.localPinId,variant:"pin",viewParameter:y,children:f()}):m&&"classic"===g&&i?Object(d.jsx)(l.g,{fullWidth:!0,accessibilityLabel:_._("Saved button","saveButton.saved.label","Saved state label on save button"),text:_._("Saved!","saveButton.saved","Saved state text on save button"),size:"md",color:"white",onClick:h}):n?Object(d.jsx)(l.f,{ref:x,"data-test-id":"SaveButton",children:Object(d.jsx)(l.x,{accessibilityLabel:_._("Save","Accessibility label for the save button","Accessibility label for the save button"),bgColor:"white",icon:"pin",onClick:({event:e})=>a(e),iconColor:"darkGray"})}):Object(d.jsx)(l.f,{display:i?void 0:"flex",justifyContent:"end",children:Object(d.jsx)("div",{ref:x,className:r()("SaveButton",t?"SaveButton--disabled":"SaveButton--enabled",{"SaveButton--lego":"lego"===O}),"data-test-id":"SaveButton",onClick:t?void 0:a,onKeyPress:t?void 0:e=>{32!==e.charCode&&13!==e.charCode||(e.preventDefault(),a(e))},role:"button",tabIndex:"0",children:Object(d.jsx)("div",{className:r()("SaveButton__background",t?"SaveButton__background--disabled":"SaveButton__background--enabled",{"SaveButton__background--lego":"lego"===O}),children:Object(d.jsx)(l.f,{alignItems:"center",minHeight:u[v],dangerouslySetInlineStyle:{__style:{padding:"10px 14px"}},display:"flex",children:Object(d.jsx)(l.cb,{color:t?"gray":"white",size:"lego"===O?"sm":"md",weight:"bold",children:Object(d.jsx)("span",{className:r()("SaveButton__label",{"SaveButton__label--lego":"lego"===O}),children:_._("Save","Pin save button label","Pin save button label")})})})})})})})),b=({isPulsarDisplayed:e,...t})=>{const[n,o]=Object(i.useState)(null),r=Object(i.useCallback)(e=>{o(e)},[n]);return Object(d.jsx)(a.a,{anchor:".PinActionBar .repin.pinActionBarButton",anchorElementRef:n,isHidden:!e,children:Object(d.jsx)(h,{ref:r,...t})})};t.b=h},yBr6:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("/Ecc"),o=n("zpn9");function r(e){var t=1===e.nodeType?e:e.parentElement;if(!t)return null;var n=t.getBoundingClientRect(),i=n.top;return{x:n.left,y:i}}t.getNodeClientOffset=r,t.getEventClientOffset=function(e){return{x:e.clientX,y:e.clientY}},t.getDragPreviewOffset=function(e,t,n,a,s){var c,l,d="IMG"===(c=t).nodeName&&(i.isFirefox()||!document.documentElement.contains(c)),u=r(d?e:t),h={x:n.x-u.x,y:n.y-u.y},b=e.offsetWidth,p=e.offsetHeight,f=a.anchorX,g=a.anchorY,m=function(e,t,n,o){var r=e?t.width:n,a=e?t.height:o;return i.isSafari()&&e&&(a/=window.devicePixelRatio,r/=window.devicePixelRatio),{dragPreviewWidth:r,dragPreviewHeight:a}}(d,t,b,p),j=m.dragPreviewWidth,v=m.dragPreviewHeight,O=s.offsetX,y=s.offsetY,x=0===y||y;return{x:0===O||O?O:new o.default([0,.5,1],[h.x,h.x/b*j,h.x+j-b]).interpolate(f),y:x?y:(l=new o.default([0,.5,1],[h.y,h.y/p*v,h.y+v-p]).interpolate(g),i.isSafari()&&d&&(l+=(window.devicePixelRatio-1)*v),l)}}},yCO0:function(e,t,n){function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n("U4W0")),i(n("aS9Y"))},yHx3:function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,i=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(i.index=e.index,i.input=e.input),i}},yKES:function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("US8k"),o=n("yweb"),r=n("n6mq"),a=n("nKUr");function s({duration:e}){const t=Object(o.c)();return Object(a.jsxs)(r.f,{alignItems:"center",color:"transparentDarkGray",display:"flex",height:24,justifyContent:"center",paddingX:2,rounding:"pill",children:[Object(a.jsx)(r.w,{accessibilityLabel:t._("Video camera icon","Video camera indicator icon for a Pin","Video camera indicator icon for a Pin"),color:"white",icon:"video-camera"}),Object(a.jsx)(r.f,{marginStart:1,children:Object(a.jsx)(r.cb,{color:"white",size:"sm",lineClamp:1,children:Object(i.a)(e)})})]})}},"ySR+":function(e,t,n){n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));var i=n("1dBE");const{Provider:o,Consumer:r,useHook:a}=Object(i.c)("headerButtonContext")},yYqh:function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("pLLR"),o=n("RNo4");var r=n("EC67");function a({checkExperiments:e,disableFetch:t,viewer:n}){const a=Object(r.i)(),s=Object(r.k)(),c=Object(i.d)(),l=function({location:{pathname:e,search:t},match:{params:n,path:i},viewer:r}){return{routeData:{matchPath:i,params:n,parsedSearch:Object(o.l)(t),pathname:e,search:t},user:{country:r.country||void 0,id:r.id||void 0,isAuth:r.isAuth,isEmployee:!!r.isEmployee||!1,isPartner:!!r.isPartner||!1,username:r.username||void 0}}}({location:a,match:s,viewer:n}),d=!!t&&t(l),u=!(!d&&e)||e(c.experiments);return{args:l,fetchDisabled:d||!u}}},yaUg:function(e,t,n){var i=n("Q2/A");const o=/\{\{\s*(\w+)\s*\}\}/g;t.a=(e,t)=>Object(i.a)(o,e,t)},ypm9:function(e,t,n){n.d(t,"a",(function(){return c}));var i=n("q1tI"),o=n("/MKj"),r=n("xKh6"),a=n("G8fK"),s=n("EC67");function c(){const e=Object(o.useDispatch)(),t=Object(s.h)(),{pathname:n}=Object(s.i)(),c=Object(o.useSelector)(({ui:e})=>e.mainComponent.locationToErrorMap);Object(i.useEffect)(()=>{Object(r.a)();const i=`/${n.split("/")[1]}/`;c[n]&&(e(Object(a.a)(i,c[n])),t.replace(i))},[])}},yue5:function(e,t,n){var i=n("/9aa");e.exports=function(e,t){if(e!==t){var n=void 0!==e,o=null===e,r=e==e,a=i(e),s=void 0!==t,c=null===t,l=t==t,d=i(t);if(!c&&!d&&!a&&e>t||a&&s&&l&&!c&&!d||o&&s&&l||!n&&l||!r)return 1;if(!o&&!a&&!d&&e<t||d&&n&&r&&!o&&!a||c&&n&&r||!s&&r||!l)return-1}return 0}},yweb:function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var i=n("1dBE");const{Provider:o,Consumer:r,useHook:a}=Object(i.c)("i18n");t.c=a},z3qU:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("/ZYE"),o=n("utGV"),r=n("q1tI"),a=n("2S0S");t.useDrop=function(e){var t=r.useRef(e);t.current=e,a(null!=e.accept,"accept must be defined");var n=o.useDropTargetMonitor(),s=n[0],c=n[1];o.useDropHandler(t,s,c);var l=i.useMonitorOutput(s,t.current.collect||function(){return{}},(function(){return c.reconnect()})),d=r.useMemo((function(){return c.hooks.dropTarget()}),[c]);return r.useEffect((function(){c.dropTargetOptions=e.options||null,c.reconnect()}),[e.options]),[l,d]}},zEVN:function(e,t,n){var i=n("Gi0A"),o=n("sEf8"),r=n("mdPL"),a=r&&r.isMap,s=a?o(a):i;e.exports=s},zQfT:function(e,t,n){n.d(t,"a",(function(){return l}));var i=n("q1tI");const o=function(e,t){this.uid=e,this.item=t,this.next=null,this.prev=null},r=function(e){this._maxNumItems=e||10,this._uidToData={},this._numItems=0,this._firstData=null,this._lastData=null};r.prototype.set=function(e,t){let n=this._uidToData[e];n||(n=new o(e,t),this._uidToData[e]=n,this._numItems+=1),this._moveToFront(n),this._numItems>this._maxNumItems&&this._evict()},r.prototype.get=function(e){const t=this._uidToData[e];return t?(this._moveToFront(t),t.item):null},r.prototype.remove=function(e){const t=this._uidToData[e];t&&(delete this._uidToData[e],this._firstData===t&&(this._firstData=t.next),this._lastData===t&&(this._lastData=t.prev),t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),this._numItems-=1)},r.prototype._moveToFront=function(e){this._firstData!==e&&(this._firstData?(this._lastData===e&&(this._lastData=e.prev),e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),this._firstData.prev=e,e.next=this._firstData,e.prev=null,this._firstData=e):(this._firstData=e,this._lastData=e))},r.prototype._evict=function(){delete this._uidToData[this._lastData.uid],this._firstData===this._lastData?(this._firstData=null,this._lastData=null):(this._lastData=this._lastData.prev,this._lastData.next=null),this._numItems-=1};var a=r,s=n("eOdZ");function c({resourceName:e,resourceOptions:t}){const n={...t,count:"count"in t?t.count:5},i=s.d.create(e,n),o=new a,r=()=>{i.abort()};return async function(e){const t=o.get(e);if(t){const n=t.items;if(n&&n.length){r();return{hint:t.hint,items:n,term:e}}}return e.length>=0?(async e=>{var t;if(i.isCalling()){var n;if(e===(null===(n=i.options)||void 0===n?void 0:n.term))return;r()}const{bookmarks:a,...s}=i.options||{};i.options={...s,term:e};const c=null===(t=(await i.callGet({showError:!1})).resource_response)||void 0===t?void 0:t.data,l=null==c?void 0:c.items,d=(null==c?void 0:c.hint)||{},u={hint:d,items:l};return o.set(e,u),{term:e,items:l,hint:d}})(e):{hint:{},items:[],term:e}}}function l({allowSearchOnMount:e=!1,resourceName:t,resourceOptions:n={},value:o}){const r=Object(i.useRef)(!1),a=Object(i.useRef)({}),[s,l]=Object(i.useState)([]),d=function({resourceName:e,resourceOptions:t}){const n=Object(i.useRef)();return n.current||(n.current=c({resourceName:e,resourceOptions:t})),n.current}({resourceName:t,resourceOptions:n});return Object(i.useEffect)(()=>{(async()=>{if(null!=o&&(e||r.current))if(o in a.current)l(a.current[o]);else try{const e=await d(o);if(e){const{items:t}=e;a.current[o]=t,l(t)}}catch(t){if("Resource call aborted"===t)return;throw t}r.current||(r.current=!0)})()},[o]),s}},zUcL:function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("n6mq"),o=n("nKUr");function r({children:e,setMaxWidth:t=!0}){return Object(o.jsx)(i.u,{alignItems:"stretch",justifyContent:"center",width:"100%",children:t?Object(o.jsx)(i.f,{width:"100%",paddingX:2,maxWidth:774,children:e}):Object(o.jsx)(i.f,{width:"100%",children:e})})}},zXAL:function(e,t,n){var i=n("/MKj"),o=n("peh1"),r=n("Vzit"),a=n("vh5K"),s=n("ANjH");const c=Object(o.createSelector)(e=>e.experiences.eligibleExperiences,e=>e.experiences.mountedPlacements,(e,t)=>t.placementId,a.c);t.a=Object(i.connect)((function(e,t){return{experienceForPlacement:c(e,t)}}),(function(e){return Object(s.bindActionCreators)({completeExperience:r.a,dismissExperience:r.b,fetchAllExperiences:r.d,fetchAllExperiencesMulti:r.f,fetchExperienceForPlacement:r.c,triggerExperimentsForPlacement:r.k,viewExperience:r.j},e)}),(function(e,t,n){return{experienceClient:{...e,...t},...n}}),{forwardRef:!0})},zir5:function(e,t,n){n.d(t,"a",(function(){return o}));const i=e=>e.startsWith("enabled")||e.startsWith("employee");class o{constructor(e={},t={},n=!1){var i,o,r;r=!1,(o="useBatching")in(i=this)?Object.defineProperty(i,o,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[o]=r,this.active=e,this.triggerable=t,this.useBatching=n}flush(){}v2GetGroup(e){let t=this.active[e];return void 0===t&&(t=this.triggerable[e]),t||null}v2InGroup(e,t){const n=this.v2GetGroup(e);return"string"==typeof t&&(t=[t]),!!n&&-1!==t.indexOf(n)}v2ActivateExperiment(e){throw new Error("Method must be implemented by subclass.")}v2LogExperimentGroupOverride(e,t){throw new Error("Method must be implemented by subclass.")}getWithActivation(e){const t=this.v2ActivateExperiment(e)||"";return{anyEnabled:i(t),group:t}}getWithoutActivation(e){const t=this.v2GetGroup(e)||"";return{anyEnabled:i(t),group:t}}}},zoYe:function(e,t,n){var i=n("nmnc"),o=n("eUgh"),r=n("Z0cm"),a=n("/9aa"),s=i?i.prototype:void 0,c=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(r(t))return o(t,e)+"";if(a(t))return c?c.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n}},zpn9:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=e.length,i=[],o=0;o<n;o++)i.push(o);i.sort((function(t,n){return e[t]<e[n]?-1:1}));var r,a,s=[],c=[],l=[];for(o=0;o<n-1;o++)r=e[o+1]-e[o],a=t[o+1]-t[o],c.push(r),s.push(a),l.push(a/r);var d=[l[0]];for(o=0;o<c.length-1;o++){var u=l[o],h=l[o+1];if(u*h<=0)d.push(0);else{r=c[o];var b=c[o+1],p=r+b;d.push(3*p/((p+b)/u+(p+r)/h))}}d.push(l[l.length-1]);var f,g=[],m=[];for(o=0;o<d.length-1;o++){f=l[o];var j=d[o],v=1/c[o];p=j+d[o+1]-f-f;g.push((f-j-p)*v),m.push(p*v*v)}this.xs=e,this.ys=t,this.c1s=d,this.c2s=g,this.c3s=m}return e.prototype.interpolate=function(e){var t=this,n=t.xs,i=t.ys,o=t.c1s,r=t.c2s,a=t.c3s,s=n.length-1;if(e===n[s])return i[s];for(var c,l=0,d=a.length-1;l<=d;){var u=n[c=Math.floor(.5*(l+d))];if(u<e)l=c+1;else{if(!(u>e))return i[c];d=c-1}}var h=e-n[s=Math.max(0,d)],b=h*h;return i[s]+o[s]*h+r[s]*b+a[s]*h*b},e}();t.default=i},zwad:function(e,t,n){var i=n("d7ng");var o=(e,t)=>0===e.lastIndexOf(t,0),r=n("T0g9"),a=n("Jr++"),s=n("XdLN");t.a={getQueryStringParamsFromUrl(e){if(e){const t=e.split("?");if(t[1])return Object(a.a)(t[1])}return Object(a.a)()},getLoginUrl:e=>function(e,t){(t=t||{}).next;const n=Object.assign({},t,{next:window.location.href});return n.prev||(n.prev=window.location.href),`${e}?${Object(r.a)(n)}`}("/login/",e),normalizeUrl(e){const t=Object(i.a)("/");return o(e,t)?e.substr(t.length-1):e},getCurrentUrl:()=>window.location.pathname+("?"===window.location.search?"":window.location.search),getCurrentPath:()=>window.location.pathname,isOffsiteUrl:e=>!(!e||!e.match(/^https{0,1}:\/\//)||Object(s.a)(e)),isAppUrl(e){if(!e||0===e.length)return!1;const t=new RegExp("itunes\\.apple\\.com\\/(?:.*\\/)?app\\/(?:.*\\/)?id([0-9]+)"),n=new RegExp("play.google.com/store/apps/details");return t.test(e)||n.test(e)},prependHttpSchemeIfNeeded:e=>new RegExp(/http(s?):/).test(e)?e:"http://"+e,validateUrl:e=>""===e||/^(https?:\/\/)?[a-z0-9_\-]+\..+/i.test(e)}},zyj3:function(e,t,n){var i=n("q1tI");t.a=()=>{const[e,t]=Object(i.useState)(!1),[n,o]=Object(i.useState)(!1),[r,a]=Object(i.useState)(!1);return{active:e,focused:n,hovered:r,onBlur:()=>{o(!1),t(!1)},onFocus:()=>o(!0),onMouseDown:()=>t(!0),onMouseEnter:()=>a(!0),onMouseLeave:()=>{a(!1),t(!1)},onMouseUp:()=>t(!1)}}}},[["/ySb","runtime","vendor-react",0,4,1,2,3,5,10,11,12,13,14,15,16,22]],[130,108,134,157,"PinBetterSaveCommon","PinSaveButtonCommon","PinRepEditButtonCommon",360,322,"ChangeBoardModalCommon","QuickSaveButtonCommon","PinPromoteButtonCommon","PinRepSendShareLinkButtonCommon"]]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/[username]/[slug]-authdesktop-22b27b9fa6f6e4dbf855.mjs.map